<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<title>Kafka kabs</title>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:"Tms Rmn";
	panose-1:2 2 6 3 4 5 5 2 3 4;}
@font-face
	{font-family:Helv;
	panose-1:2 11 6 4 2 2 2 3 2 4;}
@font-face
	{font-family:"New York";
	panose-1:2 4 5 3 6 5 6 2 3 4;}
@font-face
	{font-family:System;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 1 6 1 0 1 1 1 1 1;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:Dotum;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimHei;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:MingLiU;
	panose-1:2 1 6 9 0 1 1 1 1 1;}
@font-face
	{font-family:Mincho;
	panose-1:2 2 6 9 4 3 5 8 3 5;}
@font-face
	{font-family:Gulim;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:Century;
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:"Angsana New";
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:"Cordia New";
	panose-1:2 11 3 4 2 2 2 2 2 4;}
@font-face
	{font-family:Mangal;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Latha;
	panose-1:2 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sylfaen;
	panose-1:1 10 5 2 5 3 6 3 3 3;}
@font-face
	{font-family:Vrinda;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Raavi;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Shruti;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sendnya;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Gautami;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Tunga;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Estrangelo Edessa";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Segoe UI";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Trebuchet MS";
	panose-1:2 11 6 3 2 2 2 2 2 4;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:MingLiU-ExtB;
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:TeamViewer13;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Marlett;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Arial Black";
	panose-1:2 11 10 4 2 1 2 2 2 4;}
@font-face
	{font-family:"Bahnschrift Light";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Bahnschrift SemiLight";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Bahnschrift;
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Bahnschrift SemiBold";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Bahnschrift Light SemiCondensed";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Bahnschrift SemiLight SemiConde";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Bahnschrift SemiCondensed";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Bahnschrift SemiBold SemiConden";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Bahnschrift Light Condensed";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Bahnschrift SemiLight Condensed";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Bahnschrift Condensed";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Bahnschrift SemiBold Condensed";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Candara;
	panose-1:2 14 5 2 3 3 3 2 2 4;}
@font-face
	{font-family:"Comic Sans MS";
	panose-1:3 15 7 2 3 3 2 2 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
@font-face
	{font-family:Constantia;
	panose-1:2 3 6 2 5 3 6 3 3 3;}
@font-face
	{font-family:Corbel;
	panose-1:2 11 5 3 2 2 4 2 2 4;}
@font-face
	{font-family:Ebrima;
	panose-1:2 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Franklin Gothic Medium";
	panose-1:2 11 6 3 2 1 2 2 2 4;}
@font-face
	{font-family:Gabriola;
	panose-1:4 4 6 5 5 16 2 2 13 2;}
@font-face
	{font-family:Gadugi;
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Georgia;
	panose-1:2 4 5 2 5 4 5 2 3 3;}
@font-face
	{font-family:Impact;
	panose-1:2 11 8 6 3 9 2 5 2 4;}
@font-face
	{font-family:"Ink Free";
	panose-1:3 8 4 2 0 5 0 0 0 0;}
@font-face
	{font-family:"Javanese Text";
	panose-1:2 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Leelawadee UI";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Leelawadee UI Semilight";
	panose-1:2 11 4 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Lucida Console";
	panose-1:2 11 6 9 4 5 4 2 2 4;}
@font-face
	{font-family:"Lucida Sans Unicode";
	panose-1:2 11 6 2 3 5 4 2 2 4;}
@font-face
	{font-family:"Malgun Gothic";
	panose-1:2 11 5 3 2 0 0 2 0 4;}
@font-face
	{font-family:"\@Malgun Gothic";
	panose-1:2 11 5 3 2 0 0 2 0 4;}
@font-face
	{font-family:"Malgun Gothic Semilight";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"\@Malgun Gothic Semilight";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Microsoft Himalaya";
	panose-1:1 1 1 0 1 1 1 1 1 1;}
@font-face
	{font-family:"Microsoft JhengHei";
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"\@Microsoft JhengHei";
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Microsoft JhengHei UI";
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"\@Microsoft JhengHei UI";
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Microsoft JhengHei Light";
	panose-1:2 11 3 4 3 5 4 4 2 4;}
@font-face
	{font-family:"\@Microsoft JhengHei Light";
	panose-1:2 11 3 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Microsoft JhengHei UI Light";
	panose-1:2 11 3 4 3 5 4 4 2 4;}
@font-face
	{font-family:"\@Microsoft JhengHei UI Light";
	panose-1:2 11 3 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Microsoft New Tai Lue";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Microsoft PhagsPa";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Microsoft Sans Serif";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:"Microsoft Tai Le";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Microsoft YaHei";
	panose-1:2 11 5 3 2 2 4 2 2 4;}
@font-face
	{font-family:"\@Microsoft YaHei";
	panose-1:2 11 5 3 2 2 4 2 2 4;}
@font-face
	{font-family:"Microsoft YaHei UI";
	panose-1:2 11 5 3 2 2 4 2 2 4;}
@font-face
	{font-family:"\@Microsoft YaHei UI";
	panose-1:2 11 5 3 2 2 4 2 2 4;}
@font-face
	{font-family:"Microsoft YaHei Light";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"\@Microsoft YaHei Light";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Microsoft YaHei UI Light";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"\@Microsoft YaHei UI Light";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Microsoft Yi Baiti";
	panose-1:3 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@MingLiU-ExtB";
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:PMingLiU-ExtB;
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@PMingLiU-ExtB";
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:MingLiU_HKSCS-ExtB;
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@MingLiU_HKSCS-ExtB";
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Mongolian Baiti";
	panose-1:3 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:"MS UI Gothic";
	panose-1:2 11 6 0 7 2 5 8 2 4;}
@font-face
	{font-family:"\@MS UI Gothic";
	panose-1:2 11 6 0 7 2 5 8 2 4;}
@font-face
	{font-family:"MS PGothic";
	panose-1:2 11 6 0 7 2 5 8 2 4;}
@font-face
	{font-family:"\@MS PGothic";
	panose-1:2 11 6 0 7 2 5 8 2 4;}
@font-face
	{font-family:"MV Boli";
	panose-1:2 0 5 0 3 2 0 9 0 0;}
@font-face
	{font-family:"Myanmar Text";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Nirmala UI";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Nirmala UI Semilight";
	panose-1:2 11 4 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Palatino Linotype";
	panose-1:2 4 5 2 5 5 5 3 3 4;}
@font-face
	{font-family:"Segoe MDL2 Assets";
	panose-1:5 10 1 2 1 1 1 1 1 1;}
@font-face
	{font-family:"Segoe Print";
	panose-1:2 0 6 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Segoe Script";
	panose-1:3 11 5 4 2 0 0 0 0 3;}
@font-face
	{font-family:"Segoe UI Black";
	panose-1:2 11 10 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe UI Emoji";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe UI Historic";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe UI Light";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe UI Semibold";
	panose-1:2 11 7 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe UI Semilight";
	panose-1:2 11 4 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe UI Symbol";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"\@SimSun";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:NSimSun;
	panose-1:2 1 6 9 3 1 1 1 1 1;}
@font-face
	{font-family:"\@NSimSun";
	panose-1:2 1 6 9 3 1 1 1 1 1;}
@font-face
	{font-family:SimSun-ExtB;
	panose-1:2 1 6 9 6 1 1 1 1 1;}
@font-face
	{font-family:"\@SimSun-ExtB";
	panose-1:2 1 6 9 6 1 1 1 1 1;}
@font-face
	{font-family:"Sitka Small";
	panose-1:2 0 5 5 0 0 0 2 0 4;}
@font-face
	{font-family:"Sitka Text";
	panose-1:2 0 5 5 0 0 0 2 0 4;}
@font-face
	{font-family:"Sitka Subheading";
	panose-1:2 0 5 5 0 0 0 2 0 4;}
@font-face
	{font-family:"Sitka Heading";
	panose-1:2 0 5 5 0 0 0 2 0 4;}
@font-face
	{font-family:"Sitka Display";
	panose-1:2 0 5 5 0 0 0 2 0 4;}
@font-face
	{font-family:"Sitka Banner";
	panose-1:2 0 5 5 0 0 0 2 0 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:Webdings;
	panose-1:5 3 1 2 1 5 9 6 7 3;}
@font-face
	{font-family:"Yu Gothic";
	panose-1:2 11 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@Yu Gothic";
	panose-1:2 11 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Yu Gothic UI";
	panose-1:2 11 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@Yu Gothic UI";
	panose-1:2 11 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Yu Gothic UI Semibold";
	panose-1:2 11 7 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@Yu Gothic UI Semibold";
	panose-1:2 11 7 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Yu Gothic Light";
	panose-1:2 11 3 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@Yu Gothic Light";
	panose-1:2 11 3 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Yu Gothic UI Light";
	panose-1:2 11 3 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@Yu Gothic UI Light";
	panose-1:2 11 3 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Yu Gothic Medium";
	panose-1:2 11 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@Yu Gothic Medium";
	panose-1:2 11 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Yu Gothic UI Semilight";
	panose-1:2 11 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@Yu Gothic UI Semilight";
	panose-1:2 11 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"HoloLens MDL2 Assets";
	panose-1:5 10 1 2 1 1 1 1 1 1;}
@font-face
	{font-family:"Agency FB";
	panose-1:2 11 5 3 2 2 2 2 2 4;}
@font-face
	{font-family:Algerian;
	panose-1:4 2 7 5 4 10 2 6 7 2;}
@font-face
	{font-family:"Book Antiqua";
	panose-1:2 4 6 2 5 3 5 3 3 4;}
@font-face
	{font-family:"Arial Narrow";
	panose-1:2 11 6 6 2 2 2 3 2 4;}
@font-face
	{font-family:"Arial Rounded MT Bold";
	panose-1:2 15 7 4 3 5 4 3 2 4;}
@font-face
	{font-family:"Baskerville Old Face";
	panose-1:2 2 6 2 8 5 5 2 3 3;}
@font-face
	{font-family:"Bauhaus 93";
	panose-1:4 3 9 5 2 11 2 2 12 2;}
@font-face
	{font-family:"Bell MT";
	panose-1:2 2 5 3 6 3 5 2 3 3;}
@font-face
	{font-family:"Bernard MT Condensed";
	panose-1:2 5 8 6 6 9 5 2 4 4;}
@font-face
	{font-family:"Bodoni MT";
	panose-1:2 7 6 3 8 6 6 2 2 3;}
@font-face
	{font-family:"Bodoni MT Black";
	panose-1:2 7 10 3 8 6 6 2 2 3;}
@font-face
	{font-family:"Bodoni MT Condensed";
	panose-1:2 7 6 6 8 6 6 2 2 3;}
@font-face
	{font-family:"Bodoni MT Poster Compressed";
	panose-1:2 7 7 6 8 6 1 5 2 4;}
@font-face
	{font-family:"Bookman Old Style";
	panose-1:2 5 6 4 5 5 5 2 2 4;}
@font-face
	{font-family:"Bradley Hand ITC";
	panose-1:3 7 4 2 5 3 2 3 2 3;}
@font-face
	{font-family:"Britannic Bold";
	panose-1:2 11 9 3 6 7 3 2 2 4;}
@font-face
	{font-family:"Berlin Sans FB";
	panose-1:2 14 6 2 2 5 2 2 3 6;}
@font-face
	{font-family:"Berlin Sans FB Demi";
	panose-1:2 14 8 2 2 5 2 2 3 6;}
@font-face
	{font-family:Broadway;
	panose-1:4 4 9 5 8 11 2 2 5 2;}
@font-face
	{font-family:"Brush Script MT";
	panose-1:3 6 8 2 4 4 6 7 3 4;}
@font-face
	{font-family:"Bookshelf Symbol 7";
	panose-1:5 1 1 1 1 1 1 1 1 1;}
@font-face
	{font-family:"Californian FB";
	panose-1:2 7 4 3 6 8 11 3 2 4;}
@font-face
	{font-family:"Calisto MT";
	panose-1:2 4 6 3 5 5 5 3 3 4;}
@font-face
	{font-family:Castellar;
	panose-1:2 10 4 2 6 4 6 1 3 1;}
@font-face
	{font-family:"Century Schoolbook";
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:Centaur;
	panose-1:2 3 5 4 5 2 5 2 3 4;}
@font-face
	{font-family:Chiller;
	panose-1:4 2 4 4 3 16 7 2 6 2;}
@font-face
	{font-family:"Colonna MT";
	panose-1:4 2 8 5 6 2 2 3 2 3;}
@font-face
	{font-family:"Cooper Black";
	panose-1:2 8 9 4 4 3 11 2 4 4;}
@font-face
	{font-family:"Copperplate Gothic Bold";
	panose-1:2 14 7 5 2 2 6 2 4 4;}
@font-face
	{font-family:"Copperplate Gothic Light";
	panose-1:2 14 5 7 2 2 6 2 4 4;}
@font-face
	{font-family:"Curlz MT";
	panose-1:4 4 4 4 5 7 2 2 2 2;}
@font-face
	{font-family:Elephant;
	panose-1:2 2 9 4 9 5 5 2 3 3;}
@font-face
	{font-family:"Engravers MT";
	panose-1:2 9 7 7 8 5 5 2 3 4;}
@font-face
	{font-family:"Eras Bold ITC";
	panose-1:2 11 9 7 3 5 4 2 2 4;}
@font-face
	{font-family:"Eras Demi ITC";
	panose-1:2 11 8 5 3 5 4 2 8 4;}
@font-face
	{font-family:"Eras Light ITC";
	panose-1:2 11 4 2 3 5 4 2 8 4;}
@font-face
	{font-family:"Eras Medium ITC";
	panose-1:2 11 6 2 3 5 4 2 8 4;}
@font-face
	{font-family:"Felix Titling";
	panose-1:4 6 5 5 6 2 2 2 10 4;}
@font-face
	{font-family:Forte;
	panose-1:3 6 9 2 4 5 2 7 2 3;}
@font-face
	{font-family:"Franklin Gothic Book";
	panose-1:2 11 5 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Demi";
	panose-1:2 11 7 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Demi Cond";
	panose-1:2 11 7 6 3 4 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Heavy";
	panose-1:2 11 9 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Medium Cond";
	panose-1:2 11 6 6 3 4 2 2 2 4;}
@font-face
	{font-family:"Freestyle Script";
	panose-1:3 8 4 2 3 2 5 11 4 4;}
@font-face
	{font-family:"French Script MT";
	panose-1:3 2 4 2 4 6 7 4 6 5;}
@font-face
	{font-family:"Footlight MT Light";
	panose-1:2 4 6 2 6 3 10 2 3 4;}
@font-face
	{font-family:Garamond;
	panose-1:2 2 4 4 3 3 1 1 8 3;}
@font-face
	{font-family:Gigi;
	panose-1:4 4 5 4 6 16 7 2 13 2;}
@font-face
	{font-family:"Gill Sans MT";
	panose-1:2 11 5 2 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans MT Condensed";
	panose-1:2 11 5 6 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans Ultra Bold Condensed";
	panose-1:2 11 10 6 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans Ultra Bold";
	panose-1:2 11 10 2 2 1 4 2 2 3;}
@font-face
	{font-family:"Gloucester MT Extra Condensed";
	panose-1:2 3 8 8 2 6 1 1 1 1;}
@font-face
	{font-family:"Gill Sans MT Ext Condensed Bold";
	panose-1:2 11 9 2 2 1 4 2 2 3;}
@font-face
	{font-family:"Century Gothic";
	panose-1:2 11 5 2 2 2 2 2 2 4;}
@font-face
	{font-family:"Goudy Old Style";
	panose-1:2 2 5 2 5 3 5 2 3 3;}
@font-face
	{font-family:"Goudy Stout";
	panose-1:2 2 9 4 7 3 11 2 4 1;}
@font-face
	{font-family:"Harlow Solid Italic";
	panose-1:4 3 6 4 2 15 2 2 13 2;}
@font-face
	{font-family:Harrington;
	panose-1:4 4 5 5 5 10 2 2 7 2;}
@font-face
	{font-family:Haettenschweiler;
	panose-1:2 11 7 6 4 9 2 6 2 4;}
@font-face
	{font-family:"High Tower Text";
	panose-1:2 4 5 2 5 5 6 3 3 3;}
@font-face
	{font-family:"Imprint MT Shadow";
	panose-1:4 2 6 5 6 3 3 3 2 2;}
@font-face
	{font-family:"Informal Roman";
	panose-1:3 6 4 2 3 4 6 11 2 4;}
@font-face
	{font-family:"Blackadder ITC";
	panose-1:4 2 5 5 5 16 7 2 13 2;}
@font-face
	{font-family:"Edwardian Script ITC";
	panose-1:3 3 3 2 4 7 7 13 8 4;}
@font-face
	{font-family:"Kristen ITC";
	panose-1:3 5 5 2 4 2 2 3 2 2;}
@font-face
	{font-family:Jokerman;
	panose-1:4 9 6 5 6 13 6 2 7 2;}
@font-face
	{font-family:"Juice ITC";
	panose-1:4 4 4 3 4 10 2 2 2 2;}
@font-face
	{font-family:"Kunstler Script";
	panose-1:3 3 4 2 2 6 7 13 13 6;}
@font-face
	{font-family:"Wide Latin";
	panose-1:2 10 10 7 5 5 5 2 4 4;}
@font-face
	{font-family:"Lucida Bright";
	panose-1:2 4 6 2 5 5 5 2 3 4;}
@font-face
	{font-family:"Lucida Calligraphy";
	panose-1:3 1 1 1 1 1 1 1 1 1;}
@font-face
	{font-family:"Lucida Fax";
	panose-1:2 6 6 2 5 5 5 2 2 4;}
@font-face
	{font-family:"Lucida Handwriting";
	panose-1:3 1 1 1 1 1 1 1 1 1;}
@font-face
	{font-family:"Lucida Sans";
	panose-1:2 11 6 2 3 5 4 2 2 4;}
@font-face
	{font-family:"Lucida Sans Typewriter";
	panose-1:2 11 5 9 3 5 4 3 2 4;}
@font-face
	{font-family:Magneto;
	panose-1:4 3 8 5 5 8 2 2 13 2;}
@font-face
	{font-family:"Maiandra GD";
	panose-1:2 14 5 2 3 3 8 2 2 4;}
@font-face
	{font-family:"Matura MT Script Capitals";
	panose-1:3 2 8 2 6 6 2 7 2 2;}
@font-face
	{font-family:Mistral;
	panose-1:3 9 7 2 3 4 7 2 4 3;}
@font-face
	{font-family:"Modern No\. 20";
	panose-1:2 7 7 4 7 5 5 2 3 3;}
@font-face
	{font-family:"Monotype Corsiva";
	panose-1:3 1 1 1 1 2 1 1 1 1;}
@font-face
	{font-family:"Niagara Engraved";
	panose-1:4 2 5 2 7 7 3 3 2 2;}
@font-face
	{font-family:"Niagara Solid";
	panose-1:4 2 5 2 7 7 2 2 2 2;}
@font-face
	{font-family:"OCR A Extended";
	panose-1:2 1 5 9 2 1 2 1 3 3;}
@font-face
	{font-family:"Old English Text MT";
	panose-1:3 4 9 2 4 5 8 3 8 6;}
@font-face
	{font-family:Onyx;
	panose-1:4 5 6 2 8 7 2 2 2 3;}
@font-face
	{font-family:"MS Outlook";
	panose-1:5 1 1 0 1 0 0 0 0 0;}
@font-face
	{font-family:"Palace Script MT";
	panose-1:3 3 3 2 2 6 7 12 11 5;}
@font-face
	{font-family:Papyrus;
	panose-1:3 7 5 2 6 5 2 3 2 5;}
@font-face
	{font-family:Parchment;
	panose-1:3 4 6 2 4 7 8 4 8 4;}
@font-face
	{font-family:Perpetua;
	panose-1:2 2 5 2 6 4 1 2 3 3;}
@font-face
	{font-family:"Perpetua Titling MT";
	panose-1:2 2 5 2 6 5 5 2 8 4;}
@font-face
	{font-family:Playbill;
	panose-1:4 5 6 3 10 6 2 2 2 2;}
@font-face
	{font-family:"Poor Richard";
	panose-1:2 8 5 2 5 5 5 2 7 2;}
@font-face
	{font-family:Pristina;
	panose-1:3 6 4 2 4 4 6 8 2 4;}
@font-face
	{font-family:"Rage Italic";
	panose-1:3 7 5 2 4 5 7 7 3 4;}
@font-face
	{font-family:Ravie;
	panose-1:4 4 8 5 5 8 9 2 6 2;}
@font-face
	{font-family:"MS Reference Sans Serif";
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"MS Reference Specialty";
	panose-1:5 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Rockwell Condensed";
	panose-1:2 6 6 3 5 4 5 2 1 4;}
@font-face
	{font-family:Rockwell;
	panose-1:2 6 6 3 2 2 5 2 4 3;}
@font-face
	{font-family:"Rockwell Extra Bold";
	panose-1:2 6 9 3 4 5 5 2 4 3;}
@font-face
	{font-family:"Script MT Bold";
	panose-1:3 4 6 2 4 6 7 8 9 4;}
@font-face
	{font-family:"Showcard Gothic";
	panose-1:4 2 9 4 2 1 2 2 6 4;}
@font-face
	{font-family:"Snap ITC";
	panose-1:4 4 10 7 6 10 2 2 2 2;}
@font-face
	{font-family:Stencil;
	panose-1:4 4 9 5 13 8 2 2 4 4;}
@font-face
	{font-family:"Tw Cen MT";
	panose-1:2 11 6 2 2 1 4 2 6 3;}
@font-face
	{font-family:"Tw Cen MT Condensed";
	panose-1:2 11 6 6 2 1 4 2 2 3;}
@font-face
	{font-family:"Tw Cen MT Condensed Extra Bold";
	panose-1:2 11 8 3 2 2 2 2 2 4;}
@font-face
	{font-family:"Tempus Sans ITC";
	panose-1:4 2 4 4 3 13 7 2 2 2;}
@font-face
	{font-family:"Viner Hand ITC";
	panose-1:3 7 5 2 3 5 2 2 2 3;}
@font-face
	{font-family:Vivaldi;
	panose-1:3 2 6 2 5 5 6 9 8 4;}
@font-face
	{font-family:"Vladimir Script";
	panose-1:3 5 4 2 4 4 7 7 3 5;}
@font-face
	{font-family:"Wingdings 2";
	panose-1:5 2 1 2 1 5 7 7 7 7;}
@font-face
	{font-family:"Wingdings 3";
	panose-1:5 4 1 2 1 8 7 7 7 7;}
@font-face
	{font-family:"MT Extra";
	panose-1:5 5 1 2 1 2 5 2 2 2;}
@font-face
	{font-family:"\@Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:HelvLight;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Lato;
	panose-1:2 15 5 2 2 2 4 3 2 3;}
@font-face
	{font-family:"Droid Sans Mono Slashed";
	panose-1:2 11 6 9 3 8 4 2 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	text-autospace:none;
	font-size:11.0pt;
	font-family:"Verdana",sans-serif;}
h1
	{margin-top:4.45pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:56.6pt;
	margin-bottom:.0001pt;
	text-autospace:none;
	font-size:16.0pt;
	font-family:"Arial",sans-serif;}
h2
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:56.6pt;
	margin-bottom:.0001pt;
	text-autospace:none;
	font-size:13.0pt;
	font-family:"Arial",sans-serif;}
h3
	{margin-top:4.45pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:56.6pt;
	margin-bottom:.0001pt;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Verdana",sans-serif;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:19.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:1.1in;
	margin-bottom:.0001pt;
	text-indent:-22.6pt;
	text-autospace:none;
	font-size:12.0pt;
	font-family:"Arial",sans-serif;
	font-weight:bold;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:12.9pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:1.1in;
	margin-bottom:.0001pt;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Arial",sans-serif;
	font-weight:bold;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-link:"Header Char";
	margin:0in;
	margin-bottom:.0001pt;
	text-autospace:none;
	font-size:11.0pt;
	font-family:"Verdana",sans-serif;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-link:"Footer Char";
	margin:0in;
	margin-bottom:.0001pt;
	text-autospace:none;
	font-size:11.0pt;
	font-family:"Verdana",sans-serif;}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{margin:0in;
	margin-bottom:.0001pt;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Verdana",sans-serif;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:92.65pt;
	margin-bottom:.0001pt;
	text-indent:-.25in;
	text-autospace:none;
	font-size:11.0pt;
	font-family:"Verdana",sans-serif;}
p.TableParagraph, li.TableParagraph, div.TableParagraph
	{mso-style-name:"Table Paragraph";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:4.05pt;
	margin-bottom:.0001pt;
	text-autospace:none;
	font-size:11.0pt;
	font-family:"Verdana",sans-serif;}
span.HeaderChar
	{mso-style-name:"Header Char";
	mso-style-link:Header;
	font-family:"Verdana",sans-serif;}
span.FooterChar
	{mso-style-name:"Footer Char";
	mso-style-link:Footer;
	font-family:"Verdana",sans-serif;}
span.msoIns
	{mso-style-name:"";
	text-decoration:underline;
	color:teal;}
span.msoDel
	{mso-style-name:"";
	text-decoration:line-through;
	color:red;}
.MsoChpDefault
	{font-family:"Calibri",sans-serif;}
.MsoPapDefault
	{text-autospace:none;}
 /* Page Definitions */
 @page WordSection1
	{size:595.0pt 842.5pt;
	margin:48.6pt 0in 93.95pt 0in;}
div.WordSection1
	{page:WordSection1;}
@page WordSection2
	{size:595.0pt 842.5pt;
	margin:0in 0in 77.0pt 0in;}
div.WordSection2
	{page:WordSection2;}
@page WordSection3
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection3
	{page:WordSection3;}
@page WordSection4
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection4
	{page:WordSection4;}
@page WordSection5
	{size:595.0pt 842.5pt;
	margin:0in 0in 79.0pt 0in;}
div.WordSection5
	{page:WordSection5;}
@page WordSection6
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection6
	{page:WordSection6;}
@page WordSection7
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection7
	{page:WordSection7;}
@page WordSection8
	{size:595.0pt 842.5pt;
	margin:0in 0in 79.0pt 0in;}
div.WordSection8
	{page:WordSection8;}
@page WordSection9
	{size:595.0pt 842.5pt;
	margin:32.0pt 0in 79.0pt 0in;}
div.WordSection9
	{page:WordSection9;}
@page WordSection10
	{size:595.0pt 842.5pt;
	margin:0in 0in 79.0pt 0in;}
div.WordSection10
	{page:WordSection10;}
@page WordSection11
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection11
	{page:WordSection11;}
@page WordSection12
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection12
	{page:WordSection12;}
@page WordSection13
	{size:595.0pt 842.5pt;
	margin:0in 0in 79.0pt 0in;}
div.WordSection13
	{page:WordSection13;}
@page WordSection14
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection14
	{page:WordSection14;}
@page WordSection15
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection15
	{page:WordSection15;}
@page WordSection16
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection16
	{page:WordSection16;}
@page WordSection17
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection17
	{page:WordSection17;}
@page WordSection18
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection18
	{page:WordSection18;}
@page WordSection19
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection19
	{page:WordSection19;}
@page WordSection20
	{size:595.0pt 842.5pt;
	margin:0in 0in 79.0pt 0in;}
div.WordSection20
	{page:WordSection20;}
@page WordSection21
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection21
	{page:WordSection21;}
@page WordSection22
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection22
	{page:WordSection22;}
@page WordSection23
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection23
	{page:WordSection23;}
@page WordSection24
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection24
	{page:WordSection24;}
@page WordSection25
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection25
	{page:WordSection25;}
@page WordSection26
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection26
	{page:WordSection26;}
@page WordSection27
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection27
	{page:WordSection27;}
@page WordSection28
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection28
	{page:WordSection28;}
@page WordSection29
	{size:595.0pt 842.5pt;
	margin:0in 0in 0in 0in;}
div.WordSection29
	{page:WordSection29;}
@page WordSection30
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection30
	{page:WordSection30;}
@page WordSection31
	{size:595.0pt 842.5pt;
	margin:0in 0in 79.0pt 0in;}
div.WordSection31
	{page:WordSection31;}
@page WordSection32
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection32
	{page:WordSection32;}
@page WordSection33
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection33
	{page:WordSection33;}
@page WordSection34
	{size:595.0pt 842.5pt;
	margin:0in 0in 79.0pt 0in;}
div.WordSection34
	{page:WordSection34;}
@page WordSection35
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 77.0pt 0in;}
div.WordSection35
	{page:WordSection35;}
@page WordSection36
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection36
	{page:WordSection36;}
@page WordSection37
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection37
	{page:WordSection37;}
@page WordSection38
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection38
	{page:WordSection38;}
@page WordSection39
	{size:595.0pt 842.5pt;
	margin:0in 0in 0in 0in;}
div.WordSection39
	{page:WordSection39;}
@page WordSection40
	{size:595.0pt 842.5pt;
	margin:0in 0in 0in 0in;}
div.WordSection40
	{page:WordSection40;}
@page WordSection41
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection41
	{page:WordSection41;}
@page WordSection42
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection42
	{page:WordSection42;}
@page WordSection43
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection43
	{page:WordSection43;}
@page WordSection44
	{size:595.0pt 842.5pt;
	margin:0in 0in 79.0pt 0in;}
div.WordSection44
	{page:WordSection44;}
@page WordSection45
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection45
	{page:WordSection45;}
@page WordSection46
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection46
	{page:WordSection46;}
@page WordSection47
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection47
	{page:WordSection47;}
@page WordSection48
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection48
	{page:WordSection48;}
@page WordSection49
	{size:595.0pt 842.5pt;
	margin:0in 0in 79.0pt 0in;}
div.WordSection49
	{page:WordSection49;}
@page WordSection50
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection50
	{page:WordSection50;}
@page WordSection51
	{size:595.0pt 842.5pt;
	margin:0in 0in 0in 0in;}
div.WordSection51
	{page:WordSection51;}
@page WordSection52
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection52
	{page:WordSection52;}
@page WordSection53
	{size:595.0pt 842.5pt;
	margin:0in 0in 0in 0in;}
div.WordSection53
	{page:WordSection53;}
@page WordSection54
	{size:595.0pt 842.5pt;
	margin:0in 0in 0in 0in;}
div.WordSection54
	{page:WordSection54;}
@page WordSection55
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection55
	{page:WordSection55;}
@page WordSection56
	{size:595.0pt 842.5pt;
	margin:48.0pt 0in 79.0pt 0in;}
div.WordSection56
	{page:WordSection56;}
@page WordSection57
	{size:595.0pt 842.5pt;
	margin:1.5in 0in 79.0pt 0in;}
div.WordSection57
	{page:WordSection57;}
@page WordSection58
	{size:595.0pt 842.5pt;
	margin:1.5in 0in 79.0pt 0in;}
div.WordSection58
	{page:WordSection58;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US>

<div class=WordSection1>

<p class=MsoBodyText><span style='font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.35pt'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoNormal align=center style='text-align:center'><span
style='font-size:24.0pt'>Kafka Labs</span></p>

<p class=MsoNormal align=center style='text-align:center'><span
style='font-size:24.0pt'>Development</span></p>

</div>

<span style='font-size:24.0pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection2>

<p class=MsoBodyText><b><span style='font-size:12.0pt;font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<p class=MsoBodyText><b><span style='font-size:12.0pt;font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<p class=MsoBodyText><b><span style='font-size:12.0pt;font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<p class=MsoBodyText><b><span style='font-size:12.0pt;font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<p class=MsoBodyText><b><span style='font-size:12.0pt;font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<p class=MsoBodyText><b><span style='font-size:12.0pt;font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<p class=MsoBodyText><b><span style='font-size:12.0pt;font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<p class=MsoBodyText><b><span style='font-size:12.0pt;font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<p class=MsoBodyText><b><span style='font-size:12.0pt;font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<p class=MsoBodyText style='margin-top:.25pt'><b><span style='font-size:17.0pt;
font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:56.65pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'><span style='position:relative;z-index:-1895784448'><span
style='left:0px;position:absolute;left:626px;top:-144px;width:96px;height:20px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=96 height=20 style='vertical-align:top'><span style='position:absolute;
  left:0pt;z-index:-1895784448'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:0pt 0pt 0pt 0pt'>
    <p class=MsoBodyText style='line-height:12.1pt'>Apache<span
    style='letter-spacing:-.25pt'> </span>Kafka</p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span></span><span style='position:relative;z-index:251616256'><span
style='left:0px;position:absolute;left:-2px;top:-195px;width:803px;height:156px'><img
width=803 height=156 src="Apache-Kafka-Labs-Web_files/image001.png"></span></span>In<span
style='letter-spacing:-.6pt'> </span>Big<span style='letter-spacing:-.7pt'> </span>Data,<span
style='letter-spacing:-.75pt'> </span>an<span style='letter-spacing:-.5pt'> </span>enormous<span
style='letter-spacing:-.7pt'> </span>volu<a name="_bookmark5"></a>me<span
style='letter-spacing:-.65pt'> </span>of<span style='letter-spacing:-.65pt'> </span>data<span
style='letter-spacing:-.65pt'> </span>is<span style='letter-spacing:-.75pt'> </span>used.<span
style='letter-spacing:-.75pt'> </span>Regarding<span style='letter-spacing:
-.7pt'> </span>data,<span style='letter-spacing:-.7pt'> </span>we<span
style='letter-spacing:-.65pt'> </span>have<span style='letter-spacing:-.65pt'> </span>two<span
style='letter-spacing:-.65pt'> </span>main<span style='letter-spacing:-.65pt'> </span>challenges.
The<span style='letter-spacing:-.15pt'> </span>first<span style='letter-spacing:
-.2pt'> </span>challenge<span style='letter-spacing:-.3pt'> </span>is<span
style='letter-spacing:-.25pt'> </span>how<span style='letter-spacing:-.2pt'> </span>to<span
style='letter-spacing:-.15pt'> </span>collect large<span style='letter-spacing:
-.3pt'> </span>volume<span style='letter-spacing:-.1pt'> </span>of<span
style='letter-spacing:-.15pt'> </span>data<span style='letter-spacing:-.15pt'> </span>and<span
style='letter-spacing:-.1pt'> </span>the<span style='letter-spacing:-.15pt'> </span>second<span
style='letter-spacing:-.2pt'> </span>challenge<span style='letter-spacing:-.3pt'>
</span>is<span style='letter-spacing:-.25pt'> </span>to<span style='letter-spacing:
-.15pt'> </span>analyze the collected data. To overcome those challenges, you
must need a messaging<span style='letter-spacing:-.9pt'> </span>system.</p>

<p class=MsoBodyText style='margin-top:8.05pt;margin-right:56.45pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
106%'>Kafka is designed for distributed high throughput systems. Kafka tends to
work very well as a replacement<span style='letter-spacing:-.55pt'> </span>for<span
style='letter-spacing:-.45pt'> </span>a<span style='letter-spacing:-.45pt'> </span>more<span
style='letter-spacing:-.45pt'> </span>traditional<span style='letter-spacing:
-.45pt'> </span>message<span style='letter-spacing:-.45pt'> </span>broker.<span
style='letter-spacing:-.35pt'> </span>In<span style='letter-spacing:-.4pt'> </span>comparison<span
style='letter-spacing:-.35pt'> </span>to<span style='letter-spacing:-.45pt'> </span>other<span
style='letter-spacing:-.4pt'> </span>messaging<span style='letter-spacing:-.55pt'>
</span>systems, Kafka<span style='letter-spacing:-.7pt'> </span>has<span
style='letter-spacing:-.65pt'> </span>better<span style='letter-spacing:-.7pt'>
</span>throughput,<span style='letter-spacing:-.65pt'> </span>built-in<span
style='letter-spacing:-.6pt'> </span>partitioning,<span style='letter-spacing:
-.65pt'> </span>replication<span style='letter-spacing:-.65pt'> </span>and<span
style='letter-spacing:-.75pt'> </span>inherent<span style='letter-spacing:-.6pt'>
</span>fault-tolerance,<span style='letter-spacing:-.55pt'> </span>which makes
it a good fit for large-scale message processing<span style='letter-spacing:
-.25pt'> </span>applications.</p>

<p class=MsoBodyText style='margin-top:.5pt'><span style='font-size:14.5pt'>&nbsp;</span></p>

<h1 style='margin-top:.05pt;text-align:justify'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image002.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark6"></a><span style='letter-spacing:-.9pt'>What </span><span
style='letter-spacing:-.6pt'>is </span>a<span style='letter-spacing:-2.55pt'> </span><span
style='letter-spacing:-1.15pt'>Messaging </span><span style='letter-spacing:
-1.1pt'>System?</span></h1>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:56.6pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>A Messaging System is responsible for transferring data from one application
to another, so<span style='letter-spacing:-2.0pt'> </span>the applications can
focus on data, but not worry about how to share it. Distributed messaging is
based on the concept of reliable message queuing. Messages are queued
asynchronously be- tween<span style='letter-spacing:-.25pt'> </span>client<span
style='letter-spacing:-.35pt'> </span>applications<span style='letter-spacing:
-.45pt'> </span>and<span style='letter-spacing:-.3pt'> </span>messaging<span
style='letter-spacing:-.2pt'> </span>system.<span style='letter-spacing:-.35pt'>
</span>Two<span style='letter-spacing:-.3pt'> </span>types<span
style='letter-spacing:-.3pt'> </span>of<span style='letter-spacing:-.3pt'> </span>messaging<span
style='letter-spacing:-.35pt'> </span>patterns<span style='letter-spacing:-.4pt'>
</span>are<span style='letter-spacing:-.35pt'> </span>available</p>

<p class=MsoListParagraph style='margin-top:0in;margin-right:56.7pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;text-indent:
0in;line-height:106%'><span style='font-size:10.0pt;line-height:106%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:10.0pt;line-height:106%'>one is point to point and the other
is publish-subscribe (pub-sub) messaging system. Most of the messaging patterns
follow <b>pub-sub</b>.</span></p>

<p class=MsoBodyText style='margin-top:.4pt'><span style='font-size:12.0pt'>&nbsp;</span></p>

<h2 style='margin-top:.05pt;text-align:justify'>Point to Point Messaging System</h2>

<p class=MsoBodyText style='margin-top:6.15pt;margin-right:56.5pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>In a point-to-point system, messages are persisted in a queue. One or
more consumers can consume<span style='letter-spacing:-.55pt'> </span>the<span
style='letter-spacing:-.4pt'> </span>messages<span style='letter-spacing:-.25pt'>
</span>in<span style='letter-spacing:-.4pt'> </span>the<span style='letter-spacing:
-.5pt'> </span>queue,<span style='letter-spacing:-.5pt'> </span>but<span
style='letter-spacing:-.45pt'> </span>a<span style='letter-spacing:-.35pt'> </span>particular<span
style='letter-spacing:-.45pt'> </span>message<span style='letter-spacing:-.4pt'>
</span>can<span style='letter-spacing:-.45pt'> </span>be<span style='letter-spacing:
-.4pt'> </span>consumed<span style='letter-spacing:-.4pt'> </span>by<span
style='letter-spacing:-.4pt'> </span>a<span style='letter-spacing:-.45pt'> </span>maximum
of one consumer only. Once a consumer reads a message in the queue, it
disappears from that queue.<span style='letter-spacing:-.35pt'> </span>The<span
style='letter-spacing:-.45pt'> </span>typical<span style='letter-spacing:-.3pt'>
</span>example<span style='letter-spacing:-.45pt'> </span>of<span
style='letter-spacing:-.4pt'> </span>this<span style='letter-spacing:-.5pt'> </span>system<span
style='letter-spacing:-.25pt'> </span>is<span style='letter-spacing:-.3pt'> </span>an<span
style='letter-spacing:-.3pt'> </span>Order<span style='letter-spacing:-.4pt'> </span>Processing<span
style='letter-spacing:-.3pt'> </span>System,<span style='letter-spacing:-.4pt'>
</span>where<span style='letter-spacing:-.4pt'> </span>each<span
style='letter-spacing:-.25pt'> </span>order<span style='letter-spacing:-.4pt'> </span>will
be processed by one Order Processor, but Multiple Order Processors can work as
well at the same time. The following diagram depicts the<span style='letter-spacing:
-.35pt'> </span>structure.</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.45pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=173 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=424 height=151 src="Apache-Kafka-Labs-Web_files/image003.jpg"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText><span style='font-size:12.0pt'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-size:12.0pt'>&nbsp;</span></p>

<h2 style='margin-top:10.05pt;text-align:justify'>Publish-Subscribe Messaging
System</h2>

<p class=MsoBodyText style='margin-top:6.15pt;margin-right:56.55pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>In<span style='letter-spacing:-.8pt'> </span>the<span style='letter-spacing:
-.85pt'> </span>publish-subscribe<span style='letter-spacing:-.9pt'> </span>system,<span
style='letter-spacing:-.9pt'> </span>messages<span style='letter-spacing:-.85pt'>
</span>are<span style='letter-spacing:-.9pt'> </span>persisted<span
style='letter-spacing:-.9pt'> </span>in<span style='letter-spacing:-.95pt'> </span>a<span
style='letter-spacing:-.95pt'> </span>topic.<span style='letter-spacing:-1.0pt'>
</span>Unlike<span style='letter-spacing:-1.0pt'> </span>point-to-point<span
style='letter-spacing:-.95pt'> </span>system, consumers can subscribe to one or
more topic and consume all the messages in that topic. In the<span
style='letter-spacing:-.85pt'> </span>Publish-Subscribe<span style='letter-spacing:
-.8pt'> </span>system,<span style='letter-spacing:-.7pt'> </span>message<span
style='letter-spacing:-.8pt'> </span>producers<span style='letter-spacing:-.8pt'>
</span>are<span style='letter-spacing:-.75pt'> </span>called<span
style='letter-spacing:-.75pt'> </span>publishers<span style='letter-spacing:
-.65pt'> </span>and<span style='letter-spacing:-.8pt'> </span>message<span
style='letter-spacing:-.7pt'> </span>consumers are<span style='letter-spacing:
1.1pt'> </span>called<span style='letter-spacing:1.1pt'> </span>subscribers.<span
style='letter-spacing:1.3pt'> </span>A<span style='letter-spacing:1.1pt'> </span>real-life<span
style='letter-spacing:1.1pt'> </span>example<span style='letter-spacing:1.0pt'>
</span>is<span style='letter-spacing:1.05pt'> </span>Dish<span
style='letter-spacing:1.1pt'> </span>TV,<span style='letter-spacing:1.0pt'> </span>which<span
style='letter-spacing:1.1pt'> </span>publishes<span style='letter-spacing:1.05pt'>
</span>different<span style='letter-spacing:1.55pt'> </span>channels<span
style='letter-spacing:1.0pt'> </span>like</p>

</div>

<span style='font-size:11.0pt;line-height:107%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection3>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.45pt'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:4.95pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'>sports,<span
style='letter-spacing:-.6pt'> </span>movies,<span style='letter-spacing:-.5pt'>
</span>music,<span style='letter-spacing:-.5pt'> </span>etc.,<span
style='letter-spacing:-.5pt'> </span>and<span style='letter-spacing:-.55pt'> </span>anyone<span
style='letter-spacing:-.55pt'> </span>can<span style='letter-spacing:-.45pt'> </span>subscribe<span
style='letter-spacing:-.65pt'> </span>to<span style='letter-spacing:-.65pt'> </span>their<span
style='letter-spacing:-.65pt'> </span>own<span style='letter-spacing:-.55pt'> </span>set<span
style='letter-spacing:-.45pt'> </span>of<span style='letter-spacing:-.6pt'> </span>channels<span
style='letter-spacing:-.6pt'> </span>and<span style='letter-spacing:-.55pt'> </span>get<span
style='letter-spacing:-.6pt'> </span>them whenever their subscribed channels
are<span style='letter-spacing:-.5pt'> </span>available.</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.25pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=182 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=426 height=147 src="Apache-Kafka-Labs-Web_files/image004.jpg"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText><span style='font-size:12.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.2pt'><span style='font-size:13.5pt'>&nbsp;</span></p>

<h1 style='margin-top:.05pt'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image002.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark7"></a>What is Kafka?</h1>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:56.45pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>Apache Kafka is a distributed publish-subscribe messaging system and a
robust queue that can handle<span style='letter-spacing:-.4pt'> </span>a<span
style='letter-spacing:-.4pt'> </span>high<span style='letter-spacing:-.3pt'> </span>volume<span
style='letter-spacing:-.4pt'> </span>of<span style='letter-spacing:-.3pt'> </span>data<span
style='letter-spacing:-.3pt'> </span>and<span style='letter-spacing:-.35pt'> </span>enables<span
style='letter-spacing:-.4pt'> </span>you<span style='letter-spacing:-.35pt'> </span>to<span
style='letter-spacing:-.45pt'> </span>pass<span style='letter-spacing:-.4pt'> </span>messages<span
style='letter-spacing:-.45pt'> </span>from<span style='letter-spacing:-.3pt'> </span>one<span
style='letter-spacing:-.45pt'> </span>end-point<span style='letter-spacing:
-.35pt'> </span>to<span style='letter-spacing:-.4pt'> </span>another. Kafka<span
style='letter-spacing:-.7pt'> </span>is<span style='letter-spacing:-.7pt'> </span>suitable<span
style='letter-spacing:-.7pt'> </span>for<span style='letter-spacing:-.75pt'> </span>both<span
style='letter-spacing:-.6pt'> </span>offline<span style='letter-spacing:-.7pt'>
</span>and<span style='letter-spacing:-.7pt'> </span>online<span
style='letter-spacing:-.7pt'> </span>message<span style='letter-spacing:-.6pt'>
</span>consumption.<span style='letter-spacing:-.75pt'> </span>Kafka<span
style='letter-spacing:-.65pt'> </span>messages<span style='letter-spacing:-.55pt'>
</span>are<span style='letter-spacing:-.75pt'> </span>persisted on the disk and
replicated within the cluster to prevent data loss. Kafka is built on top of
the ZooKeeper synchronization service. It integrates very well with Apache
Storm and Spark for real-time streaming data<span style='letter-spacing:-.2pt'>
</span>analysis.</p>

<p class=MsoBodyText style='margin-top:.15pt'><span style='font-size:12.0pt'>&nbsp;</span></p>

<h2 style='margin-top:.05pt'>Benefits</h2>

<p class=MsoBodyText style='margin-top:6.15pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>Following are a few benefits of
Kafka:</p>

<p class=MsoListParagraph style='margin-top:9.05pt'><span style='font-size:
10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span style='font-size:10.0pt'>Reliability </span></b><span
style='font-size:10.0pt'>- Kafka is distributed, partitioned, replicated and
fault<span style='letter-spacing:-.45pt'> </span>tolerance.</span></p>

<p class=MsoBodyText style='margin-top:.55pt'><span style='font-size:11.0pt'>&nbsp;</span></p>

<p class=MsoListParagraph><span style='font-size:10.0pt;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span style='font-size:10.0pt'>Scalability </span></b><span
style='font-size:10.0pt'>- Kafka messaging system scales easily without down<span
style='letter-spacing:-.05pt'> </span>time.</span></p>

<p class=MsoBodyText style='margin-top:.1pt'><span style='font-size:11.5pt'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-right:56.8pt;line-height:106%'><span
style='font-size:10.0pt;line-height:106%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span style='font-size:10.0pt;line-height:106%'>Durability<span
style='letter-spacing:-.65pt'> </span></span></b><span style='font-size:10.0pt;
line-height:106%'>-<span style='letter-spacing:-.7pt'> </span>Kafka<span
style='letter-spacing:-.65pt'> </span>uses<span style='letter-spacing:-.65pt'> </span>“Distributed<span
style='letter-spacing:-.75pt'> </span>commit<span style='letter-spacing:-.85pt'>
</span>log”<span style='letter-spacing:-.75pt'> </span>which<span
style='letter-spacing:-.75pt'> </span>means<span style='letter-spacing:-.8pt'> </span>messages<span
style='letter-spacing:-.7pt'> </span>persists<span style='letter-spacing:-.75pt'>
</span>on<span style='letter-spacing:-.7pt'> </span>disk as fast as possible,
hence it is<span style='letter-spacing:-.5pt'> </span>durable.</span></p>

<p class=MsoBodyText style='margin-top:.45pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-top:.05pt;margin-right:56.8pt;
margin-bottom:0in;margin-left:92.65pt;margin-bottom:.0001pt;line-height:105%'><span
style='font-size:10.0pt;line-height:105%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span style='font-size:10.0pt;line-height:105%'>Performance<span
style='letter-spacing:-.75pt'> </span></span></b><span style='font-size:10.0pt;
line-height:105%'>-<span style='letter-spacing:-.95pt'> </span>Kafka<span
style='letter-spacing:-1.0pt'> </span>has<span style='letter-spacing:-1.0pt'> </span>high<span
style='letter-spacing:-.95pt'> </span>throughput<span style='letter-spacing:
-.95pt'> </span>for<span style='letter-spacing:-.9pt'> </span>both<span
style='letter-spacing:-.95pt'> </span>publishing<span style='letter-spacing:
-.95pt'> </span>and<span style='letter-spacing:-.95pt'> </span>subscribing<span
style='letter-spacing:-.95pt'> </span>messages. It maintains stable performance
even many TB of messages are<span style='letter-spacing:-.45pt'> </span>stored.</span></p>

<p class=MsoBodyText style='margin-top:8.2pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>Kafka is very fast and guarantees
zero downtime and zero data loss.</p>

<p class=MsoBodyText style='margin-top:.15pt'><span style='font-size:13.0pt'>&nbsp;</span></p>

<h2>Use Cases</h2>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>Kafka can be used in many Use
Cases. Some of them are listed below:</p>

<p class=MsoListParagraph style='margin-top:9.15pt;margin-right:56.55pt;
margin-bottom:0in;margin-left:92.65pt;margin-bottom:.0001pt;line-height:106%'><span
style='font-size:10.0pt;line-height:106%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span style='font-size:10.0pt;line-height:106%'>Metrics - </span></b><span
style='font-size:10.0pt;line-height:106%'>Kafka is often used for operational
monitoring data. This involves aggregating statistics from distributed
applications to produce centralized feeds of operational<span style='letter-spacing:
-1.35pt'> </span>data.</span></p>

</div>

<span style='font-size:10.0pt;line-height:106%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection4>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.45pt'>&nbsp;</p>

<p class=MsoListParagraph style='margin-top:4.95pt;margin-right:56.6pt;
margin-bottom:0in;margin-left:92.65pt;margin-bottom:.0001pt;text-align:justify;
line-height:107%'><span style='font-size:10.0pt;line-height:107%;font-family:
Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span style='font-size:10.0pt;line-height:107%'>Log
Aggregation Solution - </span></b><span style='font-size:10.0pt;line-height:
107%'>Kafka can be used across an organization to collect logs from multiple
services and make them available in a standard format to multiple con- sumers.</span></p>

<p class=MsoBodyText style='margin-top:.2pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-right:56.55pt;text-align:justify;
line-height:106%'><span style='font-size:10.0pt;line-height:106%;font-family:
Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span style='font-size:10.0pt;line-height:106%'>Stream
Processing - </span></b><span style='font-size:10.0pt;line-height:106%'>Popular
frameworks such as Storm and Spark Streaming read data<span style='letter-spacing:
-.6pt'> </span>from<span style='letter-spacing:-.6pt'> </span>a<span
style='letter-spacing:-.6pt'> </span>topic,<span style='letter-spacing:-.7pt'> </span>processes<span
style='letter-spacing:-.65pt'> </span>it,<span style='letter-spacing:-.65pt'> </span>and<span
style='letter-spacing:-.6pt'> </span>write<span style='letter-spacing:-.65pt'> </span>processed<span
style='letter-spacing:-.6pt'> </span>data<span style='letter-spacing:-.6pt'> </span>to<span
style='letter-spacing:-.7pt'> </span>a<span style='letter-spacing:-.6pt'> </span>new<span
style='letter-spacing:-.65pt'> </span>topic<span style='letter-spacing:-.6pt'> </span>where<span
style='letter-spacing:-.7pt'> </span>it<span style='letter-spacing:-.6pt'> </span>becomes
available for users and applications. Kafka’s strong durability is also very
useful in the context of stream<span style='letter-spacing:-.1pt'> </span>processing.</span></p>

<p class=MsoBodyText><span style='font-size:12.5pt'>&nbsp;</span></p>

<h2>Need for Kafka</h2>

<p class=MsoBodyText style='margin-top:6.2pt;margin-right:56.55pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>Kafka is a unified platform for handling all the real-time data feeds.
Kafka supports low latency message<span style='letter-spacing:-.2pt'> </span>delivery<span
style='letter-spacing:-.2pt'> </span>and<span style='letter-spacing:-.2pt'> </span>gives<span
style='letter-spacing:-.2pt'> </span>guarantee<span style='letter-spacing:-.25pt'>
</span>for<span style='letter-spacing:-.15pt'> </span>fault<span
style='letter-spacing:-.25pt'> </span>tolerance<span style='letter-spacing:
-.3pt'> </span>in<span style='letter-spacing:-.25pt'> </span>the<span
style='letter-spacing:-.35pt'> </span>presence<span style='letter-spacing:-.15pt'>
</span>of<span style='letter-spacing:-.2pt'> </span>machine<span
style='letter-spacing:-.3pt'> </span>failures.<span style='letter-spacing:-.05pt'>
</span>It has the ability to handle a large number of diverse consumers. Kafka
is very fast, performs 2 million<span style='letter-spacing:-.35pt'> </span>writes/sec.<span
style='letter-spacing:-.35pt'> </span>Kafka<span style='letter-spacing:-.35pt'>
</span>persists<span style='letter-spacing:-.25pt'> </span>all<span
style='letter-spacing:-.25pt'> </span>data<span style='letter-spacing:-.3pt'> </span>to<span
style='letter-spacing:-.15pt'> </span>the<span style='letter-spacing:-.25pt'> </span>disk,<span
style='letter-spacing:-.4pt'> </span>which<span style='letter-spacing:-.2pt'> </span>essentially<span
style='letter-spacing:-.3pt'> </span>means<span style='letter-spacing:-.3pt'> </span>that<span
style='letter-spacing:-.25pt'> </span>all<span style='letter-spacing:-.3pt'> </span>the<span
style='letter-spacing:-.4pt'> </span>writes go to the page cache of the OS
(RAM). This makes it very efficient to transfer data from page cache to a
network<span style='letter-spacing:-.05pt'> </span>socket.</p>

</div>

<span style='font-size:11.0pt;line-height:107%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection5>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.45pt'><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:5.0pt;margin-right:56.65pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'><span style='position:relative;z-index:-1895783424'><span
style='left:0px;position:absolute;left:626px;top:-137px;width:96px;height:20px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=96 height=20 style='vertical-align:top'><span style='position:absolute;
  left:0pt;z-index:-1895783424'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:0pt 0pt 0pt 0pt'>
    <p class=MsoBodyText style='line-height:12.1pt'>Apache<span
    style='letter-spacing:-.25pt'> </span>Kafka</p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span></span><span style='position:relative;z-index:251620352'><span
style='left:0px;position:absolute;left:-2px;top:-188px;width:803px;height:156px'><img
width=803 height=156 src="Apache-Kafka-Labs-Web_files/image005.png"></span></span>Before
moving deep into th<a name="_bookmark8"></a>e Kafka, you must aware of the main
terminologies such as topics, brokers,<span style='letter-spacing:-.75pt'> </span>producers<span
style='letter-spacing:-.7pt'> </span>and<span style='letter-spacing:-.65pt'> </span>consumers.<span
style='letter-spacing:-.55pt'> </span>The<span style='letter-spacing:-.6pt'> </span>following<span
style='letter-spacing:-.65pt'> </span>diagram<span style='letter-spacing:-.8pt'>
</span>illustrates<span style='letter-spacing:-.6pt'> </span>the<span
style='letter-spacing:-.6pt'> </span>main<span style='letter-spacing:-.75pt'> </span>terminologies<span
style='letter-spacing:-.7pt'> </span>and the table describes the diagram
components in<span style='letter-spacing:-.45pt'> </span>detail.</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.55pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=75 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=639 height=320 src="Apache-Kafka-Labs-Web_files/image006.jpg"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText><span style='font-size:12.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.55pt'><span style='font-size:15.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:56.55pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>In<span style='letter-spacing:-.7pt'> </span>the<span style='letter-spacing:
-.75pt'> </span>above<span style='letter-spacing:-.8pt'> </span>diagram,<span
style='letter-spacing:-.85pt'> </span>a<span style='letter-spacing:-.6pt'> </span>topic<span
style='letter-spacing:-.85pt'> </span>is<span style='letter-spacing:-.85pt'> </span>configured<span
style='letter-spacing:-.7pt'> </span>into<span style='letter-spacing:-.9pt'> </span>three<span
style='letter-spacing:-.9pt'> </span>partitions.<span style='letter-spacing:
-.9pt'> </span>Partition<span style='letter-spacing:-.8pt'> </span>1<span
style='letter-spacing:-.8pt'> </span>has<span style='letter-spacing:-.85pt'> </span>two<span
style='letter-spacing:-.75pt'> </span>offset<span style='letter-spacing:-.75pt'>
</span>factors 0<span style='letter-spacing:-.3pt'> </span>and<span
style='letter-spacing:-.3pt'> </span>1.<span style='letter-spacing:-.25pt'> </span>Partition<span
style='letter-spacing:-.25pt'> </span>2<span style='letter-spacing:-.3pt'> </span>has<span
style='letter-spacing:-.25pt'> </span>four<span style='letter-spacing:-.3pt'> </span>offset<span
style='letter-spacing:-.15pt'> </span>factors<span style='letter-spacing:-.4pt'>
</span>0,<span style='letter-spacing:-.2pt'> </span>1,<span style='letter-spacing:
-.15pt'> </span>2,<span style='letter-spacing:-.3pt'> </span>and<span
style='letter-spacing:-.3pt'> </span>3.<span style='letter-spacing:-.35pt'> </span>Partition<span
style='letter-spacing:-.3pt'> </span>3<span style='letter-spacing:-.25pt'> </span>has<span
style='letter-spacing:-.25pt'> </span>one<span style='letter-spacing:-.3pt'> </span>offset<span
style='letter-spacing:-.2pt'> </span>factor<span style='letter-spacing:-.35pt'>
</span>0.<span style='letter-spacing:-.1pt'> </span>The id of the replica is
same as the id of the server that hosts<span style='letter-spacing:-.9pt'> </span>it.</p>

<p class=MsoBodyText style='margin-top:8.0pt;margin-right:56.65pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
106%'>Assume,<span style='letter-spacing:-.55pt'> </span>if<span
style='letter-spacing:-.5pt'> </span>the<span style='letter-spacing:-.55pt'> </span>replication<span
style='letter-spacing:-.45pt'> </span>factor<span style='letter-spacing:-.5pt'>
</span>of<span style='letter-spacing:-.5pt'> </span>the<span style='letter-spacing:
-.6pt'> </span>topic<span style='letter-spacing:-.5pt'> </span>is<span
style='letter-spacing:-.5pt'> </span>set<span style='letter-spacing:-.5pt'> </span>to<span
style='letter-spacing:-.5pt'> </span><span style='letter-spacing:.15pt'>3,</span><span
style='letter-spacing:-.5pt'> </span>then<span style='letter-spacing:-.45pt'> </span>Kafka<span
style='letter-spacing:-.35pt'> </span>will<span style='letter-spacing:-.4pt'> </span>create<span
style='letter-spacing:-.55pt'> </span>3<span style='letter-spacing:-.45pt'> </span>identical<span
style='letter-spacing:-.4pt'> </span>replicas of<span style='letter-spacing:
-.65pt'> </span>each<span style='letter-spacing:-.7pt'> </span>partition<span
style='letter-spacing:-.65pt'> </span>and<span style='letter-spacing:-.7pt'> </span>place<span
style='letter-spacing:-.7pt'> </span>them<span style='letter-spacing:-.5pt'> </span>in<span
style='letter-spacing:-.65pt'> </span>the<span style='letter-spacing:-.75pt'> </span>cluster<span
style='letter-spacing:-.65pt'> </span>to<span style='letter-spacing:-.65pt'> </span>make<span
style='letter-spacing:-.75pt'> </span>available<span style='letter-spacing:
-.7pt'> </span>for<span style='letter-spacing:-.65pt'> </span>all<span
style='letter-spacing:-.6pt'> </span>its<span style='letter-spacing:-.6pt'> </span>operations.<span
style='letter-spacing:-.65pt'> </span>To<span style='letter-spacing:-.6pt'> </span>balance
a load in cluster, each broker stores one or more of those partitions. Multiple
producers and consumers can publish and retrieve messages at the same<span
style='letter-spacing:-.65pt'> </span>time.</p>

</div>

<span style='font-size:11.0pt;line-height:106%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection6>

<p class=MsoBodyText><span style='font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.45pt'><span style='font-size:6.0pt;
font-family:"Times New Roman",serif'>&nbsp;</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:56.75pt;border-collapse:collapse;border:none'>
 <tr style='height:29.1pt'>
  <td width=162 valign=top style='width:129.05pt;border:solid black 1.0pt;
  background:#EDEDED;padding:0in 0in 0in 0in;height:29.1pt'>
  <p class=TableParagraph align=center style='margin-top:3.95pt;margin-right:
  13.3pt;margin-bottom:0in;margin-left:13.4pt;margin-bottom:.0001pt;text-align:
  center'><b><span style='font-size:10.0pt'>Components</span></b></p>
  </td>
  <td width=469 valign=top style='width:352.75pt;border:solid black 1.0pt;
  border-left:none;background:#EDEDED;padding:0in 0in 0in 0in;height:29.1pt'>
  <p class=TableParagraph align=center style='margin-top:3.95pt;margin-right:
  143.05pt;margin-bottom:0in;margin-left:143.25pt;margin-bottom:.0001pt;
  text-align:center'><b><span style='font-size:10.0pt'>Description</span></b></p>
  </td>
 </tr>
 <tr style='height:64.5pt'>
  <td width=162 valign=top style='width:129.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:64.5pt'>
  <p class=TableParagraph style='margin-left:0in'><span style='font-size:12.0pt;
  font-family:"Times New Roman",serif'>&nbsp;</span></p>
  <p class=TableParagraph align=center style='margin-top:7.8pt;margin-right:
  13.25pt;margin-bottom:0in;margin-left:13.5pt;margin-bottom:.0001pt;
  text-align:center'><span style='font-size:10.0pt'>Topics</span></p>
  </td>
  <td width=469 valign=top style='width:352.75pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:64.5pt'>
  <p class=TableParagraph style='margin-top:.15pt;margin-right:0in;margin-bottom:
  0in;margin-left:0in;margin-bottom:.0001pt'><span style='font-size:13.0pt;
  font-family:"Times New Roman",serif'>&nbsp;</span></p>
  <p class=TableParagraph style='margin-top:.05pt;margin-right:3.0pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;line-height:107%'><span
  style='font-size:10.0pt;line-height:107%'>A stream of messages belonging to a
  particular category is called a topic. Data is stored in topics.</span></p>
  </td>
 </tr>
 <tr style='height:102.7pt'>
  <td width=162 valign=top style='width:129.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:102.7pt'>
  <p class=TableParagraph style='margin-left:0in'><span style='font-size:12.0pt;
  font-family:"Times New Roman",serif'>&nbsp;</span></p>
  <p class=TableParagraph style='margin-left:0in'><span style='font-size:12.0pt;
  font-family:"Times New Roman",serif'>&nbsp;</span></p>
  <p class=TableParagraph style='margin-top:.45pt;margin-right:0in;margin-bottom:
  0in;margin-left:0in;margin-bottom:.0001pt'><span style='font-family:"Times New Roman",serif'>&nbsp;</span></p>
  <p class=TableParagraph align=center style='margin-top:0in;margin-right:13.3pt;
  margin-bottom:0in;margin-left:13.4pt;margin-bottom:.0001pt;text-align:center'><span
  style='font-size:10.0pt'>Partition</span></p>
  </td>
  <td width=469 valign=top style='width:352.75pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:102.7pt'>
  <p class=TableParagraph style='margin-top:3.95pt;margin-right:3.4pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;text-align:justify;
  line-height:107%'><span style='font-size:10.0pt;line-height:107%'>Topics are
  split into partitions. For each topic, Kafka keeps a mini- mum of one
  partition. Each such partition contains messages in an immutable ordered
  sequence. A partition is implemented as a set of segment files of equal
  sizes.</span></p>
  <p class=TableParagraph style='margin-top:8.0pt;margin-right:3.85pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;text-align:justify;
  line-height:106%'><span style='font-size:10.0pt;line-height:106%'>Topics may
  have many partitions, so it can handle an arbitrary amount of data.</span></p>
  </td>
 </tr>
 <tr style='height:50.15pt'>
  <td width=162 valign=top style='width:129.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:50.15pt'>
  <p class=TableParagraph style='margin-left:0in'><span style='font-size:12.5pt;
  font-family:"Times New Roman",serif'>&nbsp;</span></p>
  <p class=TableParagraph align=center style='margin-top:.05pt;margin-right:
  13.3pt;margin-bottom:0in;margin-left:13.3pt;margin-bottom:.0001pt;text-align:
  center'><span style='font-size:10.0pt'>Partition offset</span></p>
  </td>
  <td width=469 valign=top style='width:352.75pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:50.15pt'>
  <p class=TableParagraph style='margin-top:3.85pt;margin-right:39.45pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;line-height:173%'><span
  style='font-size:10.0pt;line-height:173%'>Each partitioned message has a
  unique sequence id called as “offset”.</span></p>
  </td>
 </tr>
 <tr style='height:42.2pt'>
  <td width=162 valign=top style='width:129.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:42.2pt'>
  <p class=TableParagraph align=center style='margin-top:10.45pt;margin-right:
  13.3pt;margin-bottom:0in;margin-left:13.5pt;margin-bottom:.0001pt;text-align:
  center'><span style='font-size:10.0pt'>Replicas of partition</span></p>
  </td>
  <td width=469 valign=top style='width:352.75pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:42.2pt'>
  <p class=TableParagraph style='margin-top:4.1pt;margin-right:3.0pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;line-height:106%'><span
  style='font-size:10.0pt;line-height:106%'>Replicas are nothing but “backups”
  of a partition. Replicas are never read or write data. They are used to
  prevent data loss.</span></p>
  </td>
 </tr>
 <tr style='height:197.4pt'>
  <td width=162 valign=top style='width:129.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:197.4pt'>
  <p class=TableParagraph style='margin-left:0in'><span style='font-size:12.0pt;
  font-family:"Times New Roman",serif'>&nbsp;</span></p>
  <p class=TableParagraph style='margin-left:0in'><span style='font-size:12.0pt;
  font-family:"Times New Roman",serif'>&nbsp;</span></p>
  <p class=TableParagraph style='margin-left:0in'><span style='font-size:12.0pt;
  font-family:"Times New Roman",serif'>&nbsp;</span></p>
  <p class=TableParagraph style='margin-left:0in'><span style='font-size:12.0pt;
  font-family:"Times New Roman",serif'>&nbsp;</span></p>
  <p class=TableParagraph style='margin-left:0in'><span style='font-size:12.0pt;
  font-family:"Times New Roman",serif'>&nbsp;</span></p>
  <p class=TableParagraph style='margin-top:.15pt;margin-right:0in;margin-bottom:
  0in;margin-left:0in;margin-bottom:.0001pt'><span style='font-size:16.5pt;
  font-family:"Times New Roman",serif'>&nbsp;</span></p>
  <p class=TableParagraph align=center style='margin-top:0in;margin-right:13.3pt;
  margin-bottom:0in;margin-left:13.4pt;margin-bottom:.0001pt;text-align:center'><span
  style='font-size:10.0pt'>Brokers</span></p>
  </td>
  <td width=469 valign=top style='width:352.75pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:197.4pt'>
  <p class=TableParagraph style='margin-top:4.1pt;margin-right:3.85pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;text-align:justify;
  text-indent:0in;line-height:107%'><span style='font-size:10.0pt;line-height:
  107%'>i)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
  style='font-size:10.0pt;line-height:107%'>Brokers are simple system
  responsible for maintaining the pub- lished<span style='letter-spacing:-.25pt'>
  </span>data.<span style='letter-spacing:-.25pt'> </span>Each<span
  style='letter-spacing:-.15pt'> </span>broker<span style='letter-spacing:-.15pt'>
  </span>may<span style='letter-spacing:-.25pt'> </span>have<span
  style='letter-spacing:-.3pt'> </span>zero<span style='letter-spacing:-.15pt'>
  </span>or<span style='letter-spacing:-.3pt'> </span>more<span
  style='letter-spacing:-.2pt'> </span>partitions<span style='letter-spacing:
  -.3pt'> </span>per<span style='letter-spacing:-.3pt'> </span>topic. Assume,<span
  style='letter-spacing:-.4pt'> </span>if<span style='letter-spacing:-.35pt'> </span>there<span
  style='letter-spacing:-.4pt'> </span>are<span style='letter-spacing:-.3pt'> </span>N<span
  style='letter-spacing:-.35pt'> </span>partitions<span style='letter-spacing:
  -.4pt'> </span>in<span style='letter-spacing:-.3pt'> </span>a<span
  style='letter-spacing:-.35pt'> </span>topic<span style='letter-spacing:-.4pt'>
  </span>and<span style='letter-spacing:-.3pt'> </span>N<span style='letter-spacing:
  -.35pt'> </span>number<span style='letter-spacing:-.3pt'> </span>of<span
  style='letter-spacing:-.25pt'> </span>brokers, each broker will have one<span
  style='letter-spacing:-.25pt'> </span>partition.</span></p>
  <p class=TableParagraph style='margin-top:8.0pt;margin-right:3.7pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;text-align:justify;
  text-indent:0in;line-height:106%'><span style='font-size:10.0pt;line-height:
  106%'>ii)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
  style='font-size:10.0pt;line-height:106%'>Assume<span style='letter-spacing:
  -.85pt'> </span>if<span style='letter-spacing:-.85pt'> </span>there<span
  style='letter-spacing:-.8pt'> </span>are<span style='letter-spacing:-.65pt'> </span>N<span
  style='letter-spacing:-.7pt'> </span>partitions<span style='letter-spacing:
  -.85pt'> </span>in<span style='letter-spacing:-.8pt'> </span>a<span
  style='letter-spacing:-.8pt'> </span>topic<span style='letter-spacing:-.85pt'>
  </span>and<span style='letter-spacing:-.7pt'> </span>more<span
  style='letter-spacing:-.9pt'> </span>than<span style='letter-spacing:-.55pt'>
  </span>N<span style='letter-spacing:-.85pt'> </span>brokers (n + m), the
  first N broker will have one partition and the next M broker will not have
  any partition for that particular<span style='letter-spacing:-.4pt'> </span>topic.</span></p>
  <p class=TableParagraph style='margin-top:8.25pt;margin-right:3.7pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;text-align:justify;
  text-indent:0in;line-height:107%'><span style='font-size:10.0pt;line-height:
  107%'>iii)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
  style='font-size:10.0pt;line-height:107%'>Assume<span style='letter-spacing:
  -.55pt'> </span>if<span style='letter-spacing:-.5pt'> </span>there<span
  style='letter-spacing:-.45pt'> </span>are<span style='letter-spacing:-.3pt'> </span>N<span
  style='letter-spacing:-.55pt'> </span>partitions<span style='letter-spacing:
  -.5pt'> </span>in<span style='letter-spacing:-.4pt'> </span>a<span
  style='letter-spacing:-.5pt'> </span>topic<span style='letter-spacing:-.5pt'>
  </span>and<span style='letter-spacing:-.5pt'> </span>less<span
  style='letter-spacing:-.55pt'> </span>than<span style='letter-spacing:-.45pt'>
  </span>N<span style='letter-spacing:-.5pt'> </span>brokers (n-m), each broker
  will have one or more partition sharing among them. This scenario is not
  recommended due to unequal load distri- bution among the<span
  style='letter-spacing:-.15pt'> </span>broker.</span></p>
  </td>
 </tr>
 <tr style='height:55.4pt'>
  <td width=162 valign=top style='width:129.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:55.4pt'>
  <p class=TableParagraph style='margin-top:.35pt;margin-right:0in;margin-bottom:
  0in;margin-left:0in;margin-bottom:.0001pt'><span style='font-size:14.5pt;
  font-family:"Times New Roman",serif'>&nbsp;</span></p>
  <p class=TableParagraph align=center style='margin-top:0in;margin-right:13.3pt;
  margin-bottom:0in;margin-left:13.4pt;margin-bottom:.0001pt;text-align:center'><span
  style='font-size:10.0pt'>Kafka Cluster</span></p>
  </td>
  <td width=469 valign=top style='width:352.75pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:55.4pt'>
  <p class=TableParagraph style='margin-top:4.1pt;margin-right:3.65pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;text-align:justify;
  line-height:106%'><span style='font-size:10.0pt;line-height:106%'>Kafka’s
  having more than one broker are called as Kafka cluster. A Kafka<span
  style='letter-spacing:-.45pt'> </span>cluster<span style='letter-spacing:
  -.5pt'> </span>can<span style='letter-spacing:-.35pt'> </span>be<span
  style='letter-spacing:-.4pt'> </span>expanded<span style='letter-spacing:
  -.35pt'> </span>without<span style='letter-spacing:-.4pt'> </span>downtime.<span
  style='letter-spacing:-.3pt'> </span>These<span style='letter-spacing:-.4pt'>
  </span>clusters<span style='letter-spacing:-.5pt'> </span>are used to manage
  the persistence and replication of message<span style='letter-spacing:-.85pt'>
  </span>data.</span></p>
  </td>
 </tr>
 <tr style='height:94.65pt'>
  <td width=162 valign=top style='width:129.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:94.65pt'>
  <p class=TableParagraph style='margin-left:0in'><span style='font-size:12.0pt;
  font-family:"Times New Roman",serif'>&nbsp;</span></p>
  <p class=TableParagraph style='margin-left:0in'><span style='font-size:12.0pt;
  font-family:"Times New Roman",serif'>&nbsp;</span></p>
  <p class=TableParagraph align=center style='margin-top:9.0pt;margin-right:
  13.3pt;margin-bottom:0in;margin-left:13.4pt;margin-bottom:.0001pt;text-align:
  center'><span style='font-size:10.0pt'>Producers</span></p>
  </td>
  <td width=469 valign=top style='width:352.75pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:94.65pt'>
  <p class=TableParagraph style='margin-top:3.95pt;margin-right:3.65pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;text-align:justify;
  line-height:107%'><span style='font-size:10.0pt;line-height:107%'>Producers<span
  style='letter-spacing:-.8pt'> </span>are<span style='letter-spacing:-.8pt'> </span>the<span
  style='letter-spacing:-.85pt'> </span>publisher<span style='letter-spacing:
  -.75pt'> </span>of<span style='letter-spacing:-.9pt'> </span>messages<span
  style='letter-spacing:-.75pt'> </span>to<span style='letter-spacing:-.8pt'> </span>one<span
  style='letter-spacing:-.65pt'> </span>or<span style='letter-spacing:-.8pt'> </span>more<span
  style='letter-spacing:-.8pt'> </span>Kafka<span style='letter-spacing:-.8pt'>
  </span>topics. Producers send data to Kafka brokers. Every time a producer
  pub- lishes<span style='letter-spacing:-1.05pt'> </span>a<span
  style='letter-spacing:-.95pt'> </span>message<span style='letter-spacing:
  -1.0pt'> </span>to<span style='letter-spacing:-1.0pt'> </span>a<span
  style='letter-spacing:-.85pt'> </span>broker,<span style='letter-spacing:
  -.85pt'> </span>the<span style='letter-spacing:-1.0pt'> </span>broker<span
  style='letter-spacing:-.95pt'> </span>simply<span style='letter-spacing:-1.1pt'>
  </span>appends<span style='letter-spacing:-1.0pt'> </span>the<span
  style='letter-spacing:-.9pt'> </span>message to<span style='letter-spacing:
  -.35pt'> </span>the<span style='letter-spacing:-.3pt'> </span>last<span
  style='letter-spacing:-.2pt'> </span>segment<span style='letter-spacing:-.2pt'>
  </span>file.<span style='letter-spacing:-.2pt'> </span>Actually,<span
  style='letter-spacing:-.25pt'> </span>the<span style='letter-spacing:-.3pt'> </span>message<span
  style='letter-spacing:-.15pt'> </span>will<span style='letter-spacing:-.15pt'>
  </span>be<span style='letter-spacing:-.3pt'> </span>appended<span
  style='letter-spacing:-.2pt'> </span>to<span style='letter-spacing:-.3pt'> </span>a
  partition. Producer can also send messages to a partition of their choice.</span></p>
  </td>
 </tr>
</table>

</div>

<span style='font-size:10.0pt;line-height:107%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection7>

<p class=MsoBodyText><span style='font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.45pt'><span style='font-size:6.0pt;
font-family:"Times New Roman",serif'>&nbsp;</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:56.75pt;border-collapse:collapse;border:none'>
 <tr style='height:55.3pt'>
  <td width=170 valign=top style='width:129.05pt;border:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:55.3pt'>
  <p class=TableParagraph style='margin-top:.35pt;margin-right:0in;margin-bottom:
  0in;margin-left:0in;margin-bottom:.0001pt'><span style='font-size:14.5pt;
  font-family:"Times New Roman",serif'>&nbsp;</span></p>
  <p class=TableParagraph align=center style='margin-top:0in;margin-right:13.3pt;
  margin-bottom:0in;margin-left:13.4pt;margin-bottom:.0001pt;text-align:center'><span
  style='font-size:10.0pt'>Consumers</span></p>
  </td>
  <td width=461 valign=top style='width:352.75pt;border:solid black 1.0pt;
  border-left:none;padding:0in 0in 0in 0in;height:55.3pt'>
  <p class=TableParagraph style='margin-top:3.95pt;margin-right:3.9pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;text-align:justify;
  line-height:107%'><span style='font-size:10.0pt;line-height:107%'>Consumers
  read data from brokers. Consumers subscribes to one<span style='letter-spacing:
  -1.4pt'> </span>or more topics and consume published messages by pulling data
  from the<span style='letter-spacing:-.15pt'> </span>brokers.</span></p>
  </td>
 </tr>
 <tr style='height:42.2pt'>
  <td width=170 valign=top style='width:129.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:42.2pt'>
  <p class=TableParagraph align=center style='margin-top:10.45pt;margin-right:
  13.3pt;margin-bottom:0in;margin-left:13.45pt;margin-bottom:.0001pt;
  text-align:center'><span style='font-size:10.0pt'>Leader</span></p>
  </td>
  <td width=461 valign=top style='width:352.75pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:42.2pt'>
  <p class=TableParagraph style='margin-top:4.1pt;margin-right:3.0pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;line-height:106%'><span
  style='font-size:10.0pt;line-height:106%'>&quot;Leader&quot;<span
  style='letter-spacing:-.65pt'> </span>is<span style='letter-spacing:-.6pt'> </span>the<span
  style='letter-spacing:-.6pt'> </span>node<span style='letter-spacing:-.55pt'>
  </span>responsible<span style='letter-spacing:-.7pt'> </span>for<span
  style='letter-spacing:-.65pt'> </span>all<span style='letter-spacing:-.45pt'>
  </span>reads<span style='letter-spacing:-.55pt'> </span>and<span
  style='letter-spacing:-.55pt'> </span>writes<span style='letter-spacing:-.55pt'>
  </span>for<span style='letter-spacing:-.65pt'> </span>the<span
  style='letter-spacing:-.55pt'> </span>given partition. Every partition has
  one server acting as a<span style='letter-spacing:-.9pt'> </span>leader.</span></p>
  </td>
 </tr>
 <tr style='height:68.5pt'>
  <td width=170 valign=top style='width:129.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:68.5pt'>
  <p class=TableParagraph style='margin-left:0in'><span style='font-size:12.0pt;
  font-family:"Times New Roman",serif'>&nbsp;</span></p>
  <p class=TableParagraph align=center style='margin-top:9.85pt;margin-right:
  13.3pt;margin-bottom:0in;margin-left:13.5pt;margin-bottom:.0001pt;text-align:
  center'><span style='font-size:10.0pt'>Follower</span></p>
  </td>
  <td width=461 valign=top style='width:352.75pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:68.5pt'>
  <p class=TableParagraph style='margin-top:4.1pt;margin-right:3.7pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;text-align:justify;
  line-height:107%'><span style='font-size:10.0pt;line-height:107%'>Node which
  follows leader instructions are called as follower. If the leader fails, one
  of the follower will automatically become the new leader. A follower acts as
  normal consumer, pulls messages and up- dates its own data store.</span></p>
  </td>
 </tr>
</table>

</div>

<span style='font-size:10.0pt;line-height:107%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection8>

<p class=MsoBodyText><span style='font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.35pt'><span style='font-size:10.5pt;
font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:4.95pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'><span style='position:relative;
z-index:-1895782400'><span style='left:0px;position:absolute;left:626px;
top:-137px;width:96px;height:20px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=96 height=20 style='vertical-align:top'><span style='position:absolute;
  left:0pt;z-index:-1895782400'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:0pt 0pt 0pt 0pt'>
    <p class=MsoBodyText style='line-height:12.1pt'>Apache<span
    style='letter-spacing:-.25pt'> </span>Kafka</p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span></span><span style='position:relative;z-index:251625472'><span
style='left:0px;position:absolute;left:-2px;top:-188px;width:803px;height:156px'><img
width=803 height=156 src="Apache-Kafka-Labs-Web_files/image007.png"></span></span>Take
a look at the follo<a name="_bookmark9"></a>wing illustration. It shows the
cluster diagram of Kafka.</p>

<p class=MsoBodyText style='margin-top:.2pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=78 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=609 height=340 src="Apache-Kafka-Labs-Web_files/image008.jpg"></td>
 </tr>
</table>

<br clear=ALL>
</p>

</div>

<span style='font-size:12.0pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection9>

<p class=MsoBodyText align=right style='margin-top:3.95pt;margin-right:56.7pt;
margin-bottom:0in;margin-left:0in;margin-bottom:.0001pt;text-align:right'>Apache
Kafka</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.35pt'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:4.95pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>The following table describes
each of the components shown in the above diagram.</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.55pt'><span style='font-size:5.0pt'>&nbsp;</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:56.75pt;border-collapse:collapse;border:none'>
 <tr style='height:50.15pt'>
  <td width=162 valign=top style='width:129.05pt;border:solid black 1.0pt;
  background:#EDEDED;padding:0in 0in 0in 0in;height:50.15pt'>
  <p class=TableParagraph style='margin-left:0in'><span style='font-size:12.0pt'>&nbsp;</span></p>
  <p class=TableParagraph align=center style='margin-top:10.4pt;margin-right:
  13.3pt;margin-bottom:0in;margin-left:13.4pt;margin-bottom:.0001pt;text-align:
  center'><b><span style='font-size:10.0pt'>Components</span></b></p>
  </td>
  <td width=469 valign=top style='width:352.5pt;border:solid black 1.0pt;
  border-left:none;background:#EDEDED;padding:0in 0in 0in 0in;height:50.15pt'>
  <p class=TableParagraph style='margin-top:.4pt;margin-right:0in;margin-bottom:
  0in;margin-left:0in;margin-bottom:.0001pt'><span style='font-size:11.5pt'>&nbsp;</span></p>
  <p class=TableParagraph align=center style='margin-top:.05pt;margin-right:
  142.95pt;margin-bottom:0in;margin-left:143.15pt;margin-bottom:.0001pt;
  text-align:center'><b><span style='font-size:10.0pt'>Description</span></b></p>
  </td>
 </tr>
 <tr style='height:94.65pt'>
  <td width=162 valign=top style='width:129.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:94.65pt'>
  <p class=TableParagraph style='margin-left:0in'><span style='font-size:12.0pt'>&nbsp;</span></p>
  <p class=TableParagraph style='margin-left:0in'><span style='font-size:12.0pt'>&nbsp;</span></p>
  <p class=TableParagraph align=center style='margin-top:7.55pt;margin-right:
  13.25pt;margin-bottom:0in;margin-left:13.5pt;margin-bottom:.0001pt;
  text-align:center'><span style='font-size:10.0pt'>Broker</span></p>
  </td>
  <td width=469 valign=top style='width:352.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:94.65pt'>
  <p class=TableParagraph style='margin-top:4.1pt;margin-right:3.75pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;text-align:justify;
  line-height:107%'><span style='font-size:10.0pt;line-height:107%'>Kafka
  cluster typically consists of multiple brokers to maintain load balance.
  Kafka brokers are stateless, so they use ZooKeeper for maintaining<span
  style='letter-spacing:-.8pt'> </span>their<span style='letter-spacing:-.9pt'>
  </span>cluster<span style='letter-spacing:-.9pt'> </span>state.<span
  style='letter-spacing:-.55pt'> </span>One<span style='letter-spacing:-.8pt'> </span>Kafka<span
  style='letter-spacing:-.85pt'> </span>broker<span style='letter-spacing:-.7pt'>
  </span>instance<span style='letter-spacing:-.8pt'> </span>can<span
  style='letter-spacing:-.8pt'> </span>handle hundreds<span style='letter-spacing:
  -.45pt'> </span>of<span style='letter-spacing:-.4pt'> </span>thousands<span
  style='letter-spacing:-.3pt'> </span>of<span style='letter-spacing:-.4pt'> </span>reads<span
  style='letter-spacing:-.45pt'> </span>and<span style='letter-spacing:-.35pt'>
  </span>writes<span style='letter-spacing:-.45pt'> </span>per<span
  style='letter-spacing:-.45pt'> </span>second<span style='letter-spacing:-.35pt'>
  </span>and<span style='letter-spacing:-.35pt'> </span>each<span
  style='letter-spacing:-.35pt'> </span>bro- ker can handle TB of messages
  without performance impact. Kafka broker leader election can be done by<span
  style='letter-spacing:-.35pt'> </span>ZooKeeper.</span></p>
  </td>
 </tr>
 <tr style='height:107.85pt'>
  <td width=162 valign=top style='width:129.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:107.85pt'>
  <p class=TableParagraph style='margin-left:0in'><span style='font-size:12.0pt'>&nbsp;</span></p>
  <p class=TableParagraph style='margin-left:0in'><span style='font-size:12.0pt'>&nbsp;</span></p>
  <p class=TableParagraph style='margin-top:.15pt;margin-right:0in;margin-bottom:
  0in;margin-left:0in;margin-bottom:.0001pt'><span style='font-size:11.5pt'>&nbsp;</span></p>
  <p class=TableParagraph align=center style='margin-top:.05pt;margin-right:
  13.25pt;margin-bottom:0in;margin-left:13.5pt;margin-bottom:.0001pt;
  text-align:center'><span style='font-size:10.0pt'>ZooKeeper</span></p>
  </td>
  <td width=469 valign=top style='width:352.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:107.85pt'>
  <p class=TableParagraph style='margin-top:4.1pt;margin-right:3.55pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;text-align:justify;
  line-height:107%'><span style='font-size:10.0pt;line-height:107%'>ZooKeeper
  is used for managing and coordinating Kafka broker. ZooKeeper service is
  mainly used to notify producer and consumer about the presence of any new
  broker in the Kafka system or<span style='letter-spacing:-1.2pt'> </span>failure
  of<span style='letter-spacing:-.55pt'> </span>the<span style='letter-spacing:
  -.45pt'> </span>broker<span style='letter-spacing:-.4pt'> </span>in<span
  style='letter-spacing:-.45pt'> </span>the<span style='letter-spacing:-.5pt'> </span>Kafka<span
  style='letter-spacing:-.5pt'> </span>system.<span style='letter-spacing:-.35pt'>
  </span>As<span style='letter-spacing:-.5pt'> </span>per<span
  style='letter-spacing:-.45pt'> </span>the<span style='letter-spacing:-.55pt'>
  </span>notification<span style='letter-spacing:-.45pt'> </span>received<span
  style='letter-spacing:-.5pt'> </span>by the Zookeeper regarding presence or
  failure of the broker then pro- ducer<span style='letter-spacing:-.6pt'> </span>and<span
  style='letter-spacing:-.5pt'> </span>consumer<span style='letter-spacing:
  -.6pt'> </span>takes<span style='letter-spacing:-.5pt'> </span>decision<span
  style='letter-spacing:-.6pt'> </span>and<span style='letter-spacing:-.6pt'> </span>starts<span
  style='letter-spacing:-.55pt'> </span>coordinating<span style='letter-spacing:
  -.55pt'> </span>their<span style='letter-spacing:-.7pt'> </span>task with
  some other<span style='letter-spacing:.05pt'> </span>broker.</span></p>
  </td>
 </tr>
 <tr style='height:.95in'>
  <td width=162 valign=top style='width:129.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:.95in'>
  <p class=TableParagraph style='margin-left:0in'><span style='font-size:12.0pt'>&nbsp;</span></p>
  <p class=TableParagraph align=center style='margin-top:8.95pt;margin-right:
  13.3pt;margin-bottom:0in;margin-left:13.4pt;margin-bottom:.0001pt;text-align:
  center'><span style='font-size:10.0pt'>Producers</span></p>
  </td>
  <td width=469 valign=top style='width:352.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:.95in'>
  <p class=TableParagraph style='margin-top:4.0pt;margin-right:.05in;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;text-align:justify;
  line-height:107%'><span style='font-size:10.0pt;line-height:107%'>Producers
  push data to brokers. When the new broker is started, all the producers
  search it and automatically sends a message to that new<span
  style='letter-spacing:-.7pt'> </span>broker.<span style='letter-spacing:-.6pt'>
  </span>Kafka<span style='letter-spacing:-.7pt'> </span>producer<span
  style='letter-spacing:-.7pt'> </span>doesn’t<span style='letter-spacing:-.65pt'>
  </span>wait<span style='letter-spacing:-.6pt'> </span>for<span
  style='letter-spacing:-.75pt'> </span>acknowledgements<span style='letter-spacing:
  -.65pt'> </span>from the broker and sends messages as fast as the broker can<span
  style='letter-spacing:-.9pt'> </span>handle.</span></p>
  </td>
 </tr>
 <tr style='height:120.95pt'>
  <td width=162 valign=top style='width:129.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:120.95pt'>
  <p class=TableParagraph style='margin-left:0in'><span style='font-size:12.0pt'>&nbsp;</span></p>
  <p class=TableParagraph style='margin-left:0in'><span style='font-size:12.0pt'>&nbsp;</span></p>
  <p class=TableParagraph style='margin-top:.6pt;margin-right:0in;margin-bottom:
  0in;margin-left:0in;margin-bottom:.0001pt'><span style='font-size:16.5pt'>&nbsp;</span></p>
  <p class=TableParagraph align=center style='margin-top:0in;margin-right:13.3pt;
  margin-bottom:0in;margin-left:13.4pt;margin-bottom:.0001pt;text-align:center'><span
  style='font-size:10.0pt'>Consumers</span></p>
  </td>
  <td width=469 valign=top style='width:352.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:120.95pt'>
  <p class=TableParagraph style='margin-top:4.1pt;margin-right:.05in;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;text-align:justify;
  line-height:107%'><span style='font-size:10.0pt;line-height:107%'>Since Kafka
  brokers are stateless, which means that the consumer has to maintain how many
  messages have been consumed by using partition offset. If the consumer
  acknowledges a particular message offset,<span style='letter-spacing:-.75pt'>
  </span>it<span style='letter-spacing:-.8pt'> </span>implies<span
  style='letter-spacing:-.85pt'> </span>that<span style='letter-spacing:-.8pt'>
  </span>the<span style='letter-spacing:-.85pt'> </span>consumer<span
  style='letter-spacing:-.9pt'> </span>has<span style='letter-spacing:-.75pt'> </span>consumed<span
  style='letter-spacing:-.8pt'> </span>all<span style='letter-spacing:-.7pt'> </span>prior<span
  style='letter-spacing:-.85pt'> </span>messages. The consumer issues an
  asynchronous pull request to the broker to have<span style='letter-spacing:
  -.35pt'> </span>a<span style='letter-spacing:-.35pt'> </span>buffer<span
  style='letter-spacing:-.3pt'> </span>of<span style='letter-spacing:-.4pt'> </span>bytes<span
  style='letter-spacing:-.15pt'> </span>ready<span style='letter-spacing:-.3pt'>
  </span>to<span style='letter-spacing:-.3pt'> </span>consume.<span
  style='letter-spacing:-.1pt'> </span>The<span style='letter-spacing:-.1pt'> </span>consumers<span
  style='letter-spacing:-.3pt'> </span>can<span style='letter-spacing:-.15pt'> </span>rewind
  or<span style='letter-spacing:-.55pt'> </span>skip<span style='letter-spacing:
  -.55pt'> </span>to<span style='letter-spacing:-.65pt'> </span>any<span
  style='letter-spacing:-.65pt'> </span>point<span style='letter-spacing:-.55pt'>
  </span>in<span style='letter-spacing:-.55pt'> </span>a<span style='letter-spacing:
  -.6pt'> </span>partition<span style='letter-spacing:-.55pt'> </span>simply<span
  style='letter-spacing:-.6pt'> </span>by<span style='letter-spacing:-.6pt'> </span>supplying<span
  style='letter-spacing:-.6pt'> </span>an<span style='letter-spacing:-.55pt'> </span>offset<span
  style='letter-spacing:-.55pt'> </span>value. Consumer offset value is
  notified by<span style='letter-spacing:-.15pt'> </span>ZooKeeper.</span></p>
  </td>
 </tr>
</table>

</div>

<span style='font-size:10.0pt;line-height:107%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection10>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.45pt'><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:5.0pt;margin-right:56.9pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
106%'><span style='position:relative;z-index:-1895781376'><span
style='left:0px;position:absolute;left:626px;top:-137px;width:96px;height:20px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=96 height=20 style='vertical-align:top'><span style='position:absolute;
  left:0pt;z-index:-1895781376'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:0pt 0pt 0pt 0pt'>
    <p class=MsoBodyText style='line-height:12.1pt'>Apache<span
    style='letter-spacing:-.25pt'> </span>Kafka</p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span></span><span style='position:relative;z-index:251629568'><span
style='left:0px;position:absolute;left:-2px;top:-188px;width:803px;height:156px'><img
width=803 height=156 src="Apache-Kafka-Labs-Web_files/image009.png"></span></span>As<span
style='letter-spacing:-.75pt'> </span>of<span style='letter-spacing:-.8pt'> </span>now,<span
style='letter-spacing:-.75pt'> </span>we<span style='letter-spacing:-.9pt'> </span>discussed<span
style='letter-spacing:-.6pt'> </span>the<span style='letter-spacing:-.85pt'> </span>core<span
style='letter-spacing:-.8pt'> </span><a name="_bookmark10"></a>concepts<span
style='letter-spacing:-.75pt'> </span>of<span style='letter-spacing:-.75pt'> </span>Kafka.<span
style='letter-spacing:-.75pt'> </span>Let<span style='letter-spacing:-.7pt'> </span>us<span
style='letter-spacing:-.85pt'> </span>now<span style='letter-spacing:-.7pt'> </span>throw<span
style='letter-spacing:-.75pt'> </span>some<span style='letter-spacing:-.8pt'> </span>light<span
style='letter-spacing:-.8pt'> </span>on<span style='letter-spacing:-.8pt'> </span>the<span
style='letter-spacing:-.9pt'> </span>workflow of<span style='letter-spacing:
-.15pt'> </span>Kafka.</p>

<p class=MsoBodyText style='margin-top:8.2pt;margin-right:56.5pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>Kafka is simply a collection of topics split into one or more partitions.
A Kafka partition is a linearly ordered sequence of messages, where each
message is identified by their index (called as<span style='letter-spacing:
-.65pt'> </span>offset).<span style='letter-spacing:-.6pt'> </span>All<span
style='letter-spacing:-.45pt'> </span>the<span style='letter-spacing:-.7pt'> </span>data<span
style='letter-spacing:-.55pt'> </span>in<span style='letter-spacing:-.65pt'> </span>a<span
style='letter-spacing:-.6pt'> </span>Kafka<span style='letter-spacing:-.6pt'> </span>cluster<span
style='letter-spacing:-.65pt'> </span>is<span style='letter-spacing:-.6pt'> </span>the<span
style='letter-spacing:-.7pt'> </span>disjointed<span style='letter-spacing:
-.55pt'> </span>union<span style='letter-spacing:-.55pt'> </span>of<span
style='letter-spacing:-.65pt'> </span>partitions.<span style='letter-spacing:
-.5pt'> </span>Incoming<span style='letter-spacing:-.55pt'> </span>messages are<span
style='letter-spacing:-.85pt'> </span>written<span style='letter-spacing:-.85pt'>
</span>at<span style='letter-spacing:-.8pt'> </span>the<span style='letter-spacing:
-.8pt'> </span>end<span style='letter-spacing:-.85pt'> </span>of<span
style='letter-spacing:-.75pt'> </span>a<span style='letter-spacing:-.8pt'> </span>partition<span
style='letter-spacing:-.85pt'> </span>and<span style='letter-spacing:-.85pt'> </span>messages<span
style='letter-spacing:-.85pt'> </span>are<span style='letter-spacing:-.8pt'> </span>sequentially<span
style='letter-spacing:-.9pt'> </span>read<span style='letter-spacing:-.8pt'> </span>by<span
style='letter-spacing:-.9pt'> </span>consumers.<span style='letter-spacing:
-.8pt'> </span>Durability is provided by replicating messages to different<span
style='letter-spacing:-.35pt'> </span>brokers.</p>

<p class=MsoBodyText style='margin-top:7.95pt;margin-right:56.35pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>Kafka provides both pub-sub and queue based messaging system in a fast,
reliable, persisted, fault-tolerance and zero downtime manner. In both cases,
producers simply send the message to<span style='letter-spacing:-.8pt'> </span>a<span
style='letter-spacing:-.6pt'> </span>topic<span style='letter-spacing:-.75pt'> </span>and<span
style='letter-spacing:-.55pt'> </span>consumer<span style='letter-spacing:-.55pt'>
</span>can<span style='letter-spacing:-.7pt'> </span>choose<span
style='letter-spacing:-.7pt'> </span>any<span style='letter-spacing:-.5pt'> </span>one<span
style='letter-spacing:-.65pt'> </span>type<span style='letter-spacing:-.65pt'> </span>of<span
style='letter-spacing:-.65pt'> </span>messaging<span style='letter-spacing:
-.7pt'> </span>system<span style='letter-spacing:-.55pt'> </span>depending<span
style='letter-spacing:-.7pt'> </span>on<span style='letter-spacing:-.7pt'> </span><span
style='letter-spacing:.1pt'>their</span><span style='letter-spacing:-.65pt'> </span>need.
Let us follow the steps in the next section to understand how the consumer can
choose the messaging system of their choice.</p>

<p class=MsoBodyText style='margin-top:.2pt'><span style='font-size:14.5pt'>&nbsp;</span></p>

<h1 style='margin-top:.05pt'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark11"></a>Workflow of Pub-Sub Messaging</h1>

<p class=MsoBodyText style='margin-top:4.45pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>Following is the step wise
workflow of the Pub-Sub Messaging:</p>

<p class=MsoListParagraph style='margin-top:9.1pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Producers send message to a topic
at regular intervals.</span></p>

<p class=MsoBodyText style='margin-top:.5pt'><span style='font-size:11.0pt'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-top:.05pt;margin-right:56.5pt;
margin-bottom:0in;margin-left:92.65pt;margin-bottom:.0001pt;text-align:justify;
line-height:107%'><span style='font-size:10.0pt;line-height:107%;font-family:
Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:107%'>Kafka broker
stores all messages in the partitions configured for that particular topic. It
ensures the messages are equally shared between partitions. If the producer
sends two messages<span style='letter-spacing:-.45pt'> </span>and<span
style='letter-spacing:-.3pt'> </span>there<span style='letter-spacing:-.45pt'> </span>are<span
style='letter-spacing:-.3pt'> </span>two<span style='letter-spacing:-.4pt'> </span>partitions,<span
style='letter-spacing:-.4pt'> </span>Kafka<span style='letter-spacing:-.35pt'> </span>will<span
style='letter-spacing:-.25pt'> </span>store<span style='letter-spacing:-.4pt'> </span>one<span
style='letter-spacing:-.4pt'> </span>message<span style='letter-spacing:-.45pt'>
</span>in<span style='letter-spacing:-.2pt'> </span>the<span style='letter-spacing:
-.4pt'> </span>first<span style='letter-spacing:-.4pt'> </span>partition and
the second message in the second<span style='letter-spacing:-.25pt'> </span>partition.</span></p>

<p class=MsoBodyText style='margin-top:.25pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p class=MsoListParagraph><span style='font-size:10.0pt;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Consumer subscribes to a specific<span
style='letter-spacing:-.25pt'> </span>topic.</span></p>

<p class=MsoBodyText style='margin-top:.55pt'><span style='font-size:11.0pt'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-right:56.75pt;line-height:107%'><span
style='font-size:10.0pt;line-height:107%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:107%'>Once<span
style='letter-spacing:-.6pt'> </span>the<span style='letter-spacing:-.5pt'> </span>consumer<span
style='letter-spacing:-.6pt'> </span>subscribes<span style='letter-spacing:
-.6pt'> </span>to<span style='letter-spacing:-.65pt'> </span>a<span
style='letter-spacing:-.6pt'> </span>topic,<span style='letter-spacing:-.65pt'>
</span>Kafka<span style='letter-spacing:-.45pt'> </span>will<span
style='letter-spacing:-.5pt'> </span>provide<span style='letter-spacing:-.65pt'>
</span>the<span style='letter-spacing:-.65pt'> </span>current<span
style='letter-spacing:-.5pt'> </span>offset<span style='letter-spacing:-.45pt'>
</span>of<span style='letter-spacing:-.55pt'> </span>the<span style='letter-spacing:
-.65pt'> </span>topic to the consumer and also saves the offset in the
Zookeeper<span style='letter-spacing:-.45pt'> </span>ensemble.</span></p>

<p class=MsoBodyText style='margin-top:.25pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p class=MsoListParagraph><span style='font-size:10.0pt;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Consumer will request the Kafka in
a regular interval (like 100 Ms) for new<span style='letter-spacing:-1.4pt'> </span>messages.</span></p>

<p class=MsoBodyText style='margin-top:.05pt'><span style='font-size:11.5pt'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-right:56.5pt;line-height:106%'><span
style='font-size:10.0pt;line-height:106%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:106%'>Once Kafka
receives the messages from producers, it forwards these messages to the
consumers.</span></p>

<p class=MsoBodyText style='margin-top:.5pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p class=MsoListParagraph><span style='font-size:10.0pt;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Consumer will receive the message and
process<span style='letter-spacing:-.45pt'> </span>it.</span></p>

<p class=MsoBodyText style='margin-top:.55pt'><span style='font-size:11.0pt'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-right:57.0pt;line-height:107%'><span
style='font-size:10.0pt;line-height:107%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:107%'>Once<span
style='letter-spacing:-.65pt'> </span>the<span style='letter-spacing:-.6pt'> </span>messages<span
style='letter-spacing:-.55pt'> </span>are<span style='letter-spacing:-.45pt'> </span>processed,<span
style='letter-spacing:-.55pt'> </span>consumer<span style='letter-spacing:-.55pt'>
</span>will<span style='letter-spacing:-.4pt'> </span>send<span
style='letter-spacing:-.55pt'> </span>an<span style='letter-spacing:-.45pt'> </span>acknowledgement<span
style='letter-spacing:-.45pt'> </span>to<span style='letter-spacing:-.55pt'> </span>the<span
style='letter-spacing:-.6pt'> </span>Kafka broker.</span></p>

<p class=MsoBodyText style='margin-top:.2pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-top:.05pt;margin-right:56.4pt;
margin-bottom:0in;margin-left:92.65pt;margin-bottom:.0001pt;text-align:justify;
line-height:107%'><span style='font-size:10.0pt;line-height:107%;font-family:
Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:107%'>Once Kafka
receives an acknowledgement, it changes the offset to the new value and updates<span
style='letter-spacing:-.9pt'> </span>it<span style='letter-spacing:-.8pt'> </span>in<span
style='letter-spacing:-.75pt'> </span>the<span style='letter-spacing:-.9pt'> </span>Zookeeper.<span
style='letter-spacing:-.75pt'> </span>Since<span style='letter-spacing:-.8pt'> </span>offsets<span
style='letter-spacing:-.75pt'> </span>are<span style='letter-spacing:-.8pt'> </span>maintained<span
style='letter-spacing:-.8pt'> </span>in<span style='letter-spacing:-.7pt'> </span>the<span
style='letter-spacing:-.9pt'> </span>Zookeeper,<span style='letter-spacing:
-.75pt'> </span>the<span style='letter-spacing:-.75pt'> </span>consumer can
read next message correctly even during server<span style='letter-spacing:-.35pt'>
</span>outrages.</span></p>

<p class=MsoBodyText style='margin-top:.2pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p class=MsoListParagraph><span style='font-size:10.0pt;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>This above flow will repeat until
the consumer stops the<span style='letter-spacing:-.15pt'> </span>request.</span></p>

</div>

<span style='font-size:10.0pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection11>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.45pt'>&nbsp;</p>

<p class=MsoListParagraph style='margin-top:4.95pt;margin-right:56.85pt;
margin-bottom:0in;margin-left:92.65pt;margin-bottom:.0001pt;text-align:justify;
line-height:106%'><span style='font-size:10.0pt;line-height:106%;font-family:
Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:106%'>Consumer has the
option to rewind/skip to the desired offset of a topic at any time and read all
the subsequent<span style='letter-spacing:.05pt'> </span>messages.</span></p>

<p class=MsoBodyText><span style='font-size:12.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.1pt'><span style='font-size:13.5pt'>&nbsp;</span></p>

<h1 style='margin-top:0in'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark12"></a><span style='letter-spacing:-1.15pt'>Workflow</span><span
style='letter-spacing:-2.35pt'> </span><span style='letter-spacing:-.65pt'>of</span><span
style='letter-spacing:-2.5pt'> </span><span style='letter-spacing:-1.05pt'>Queue</span><span
style='letter-spacing:-2.5pt'> </span><span style='letter-spacing:-1.1pt'>Messaging</span><span
style='letter-spacing:-2.65pt'> </span>/<span style='letter-spacing:-2.6pt'> </span><span
style='letter-spacing:-1.1pt'>Consumer</span><span style='letter-spacing:-2.45pt'>
</span><span style='letter-spacing:-1.0pt'>Group</span></h1>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:56.5pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>In a queue messaging system instead of a single consumer, a group of
consumers having the same &quot;Group ID&quot; will subscribe to a topic. In
simple terms, consumers subscribing to a topic with same &quot;Group ID&quot;
are considered as a single group and the messages are shared among them. Let us
check the actual workflow of this system.</p>

<p class=MsoListParagraph style='margin-top:8.0pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Producers send message to a topic
in a regular<span style='letter-spacing:-.3pt'> </span>interval.</span></p>

<p class=MsoBodyText style='margin-top:.55pt'><span style='font-size:11.0pt'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-right:56.85pt;text-align:justify;
line-height:107%'><span style='font-size:10.0pt;line-height:107%;font-family:
Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:107%'>Kafka stores all
messages in the partitions configured for that particular topic similar to the
earlier<span style='letter-spacing:-.25pt'> </span>scenario.</span></p>

<p class=MsoBodyText style='margin-top:.25pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-right:56.45pt;text-align:justify;
line-height:106%'><span style='font-size:10.0pt;line-height:106%;font-family:
Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:106%'>A single consumer
subscribes to a specific topic, assume &quot;Topic-01&quot; with &quot;Group
ID” as “Group-1”.</span></p>

<p class=MsoBodyText style='margin-top:.45pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-top:.05pt;margin-right:56.5pt;
margin-bottom:0in;margin-left:92.65pt;margin-bottom:.0001pt;text-align:justify;
line-height:106%'><span style='font-size:10.0pt;line-height:106%;font-family:
Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:106%'>Kafka interacts
with the consumer in the same way as Pub-Sub Messaging until new consumer<span
style='letter-spacing:-.4pt'> </span>subscribes<span style='letter-spacing:
-.4pt'> </span>the<span style='letter-spacing:-.4pt'> </span>same<span
style='letter-spacing:-.55pt'> </span>topic,<span style='letter-spacing:-.45pt'>
</span>&quot;Topic-01&quot;<span style='letter-spacing:-.5pt'> </span>with<span
style='letter-spacing:-.4pt'> </span>the<span style='letter-spacing:-.4pt'> </span>same<span
style='letter-spacing:-.35pt'> </span>“Group<span style='letter-spacing:-.2pt'>
</span>ID”<span style='letter-spacing:-.5pt'> </span>as<span style='letter-spacing:
-.4pt'> </span>“Group-1”.</span></p>

<p class=MsoBodyText style='margin-top:.5pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-right:56.7pt;text-align:justify;
line-height:107%'><span style='font-size:10.0pt;line-height:107%;font-family:
Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:107%'>Once the new
consumer arrives, Kafka switches <span style='letter-spacing:.1pt'>its </span>operation
to share mode and shares the data between the two consumers. This sharing will
go on until the number of con- sumers reach the number of partition configured
for that particular<span style='letter-spacing:-.55pt'> </span>topic.</span></p>

<p class=MsoBodyText style='margin-top:.15pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-top:.05pt;margin-right:56.65pt;
margin-bottom:0in;margin-left:92.65pt;margin-bottom:.0001pt;text-align:justify;
line-height:107%'><span style='font-size:10.0pt;line-height:107%;font-family:
Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:107%'>Once the number
of consumer exceeds the number of partitions, the new consumer will not receive
any further message until any one of the existing consumer unsubscribes. This
scenario arises because each consumer in Kafka will be assigned a minimum of
one partition and once all the partitions are assigned to the existing
consumers, the new consumers will have to<span style='letter-spacing:-.15pt'> </span>wait.</span></p>

<p class=MsoBodyText style='margin-top:.2pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-right:56.6pt;text-align:justify;
line-height:106%'><span style='font-size:10.0pt;line-height:106%;font-family:
Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:106%'>This<span
style='letter-spacing:-.3pt'> </span>feature<span style='letter-spacing:-.25pt'>
</span>is<span style='letter-spacing:-.25pt'> </span>also<span
style='letter-spacing:-.35pt'> </span>called<span style='letter-spacing:-.2pt'>
</span>as<span style='letter-spacing:-.3pt'> </span>&quot;Consumer<span
style='letter-spacing:-.15pt'> </span>Group&quot;.<span style='letter-spacing:
-.2pt'> </span>In<span style='letter-spacing:-.05pt'> </span>the<span
style='letter-spacing:-.25pt'> </span>same<span style='letter-spacing:-.2pt'> </span>way,<span
style='letter-spacing:-.2pt'> </span>Kafka<span style='letter-spacing:-.15pt'> </span>will<span
style='letter-spacing:-.15pt'> </span>provide<span style='letter-spacing:-.15pt'>
</span>the best of both the systems in a very simple and efficient<span
style='letter-spacing:-.45pt'> </span>manner.</span></p>

</div>

<span style='font-size:10.0pt;line-height:106%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection12>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.2pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<h1>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark13"></a>Role of ZooKeeper</h1>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:56.55pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>A<span style='letter-spacing:-.35pt'> </span>critical<span
style='letter-spacing:-.25pt'> </span>dependency<span style='letter-spacing:
-.15pt'> </span>of<span style='letter-spacing:-.3pt'> </span>Apache<span
style='letter-spacing:-.2pt'> </span>Kafka<span style='letter-spacing:-.35pt'> </span>is<span
style='letter-spacing:-.45pt'> </span>Apache<span style='letter-spacing:-.3pt'>
</span>Zookeeper,<span style='letter-spacing:-.25pt'> </span>which<span
style='letter-spacing:-.35pt'> </span>is<span style='letter-spacing:-.4pt'> </span>a<span
style='letter-spacing:-.35pt'> </span>distributed<span style='letter-spacing:
-.35pt'> </span>configuration and synchronization service. Zookeeper serves as
the coordination interface between the Kafka brokers and consumers. The Kafka
servers share information via a Zookeeper cluster. Kafka stores<span
style='letter-spacing:-.5pt'> </span>basic<span style='letter-spacing:-.6pt'> </span>metadata<span
style='letter-spacing:-.5pt'> </span>in<span style='letter-spacing:-.5pt'> </span>Zookeeper<span
style='letter-spacing:-.45pt'> </span>such<span style='letter-spacing:-.55pt'> </span>as<span
style='letter-spacing:-.55pt'> </span>information<span style='letter-spacing:
-.45pt'> </span>about<span style='letter-spacing:-.55pt'> </span>topics,<span
style='letter-spacing:-.3pt'> </span>brokers,<span style='letter-spacing:-.55pt'>
</span>consumer<span style='letter-spacing:-.45pt'> </span>offsets (queue
readers) and so<span style='letter-spacing:-.2pt'> </span>on.</p>

<p class=MsoBodyText style='margin-top:7.95pt;margin-right:56.45pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>Since all the critical information is stored in the Zookeeper and it
normally replicates this data across its ensemble, failure of Kafka broker /
Zookeeper does not affect the state of the Kafka cluster. Kafka will restore
the state, once the Zookeeper restarts. This gives zero downtime for Kafka. The
leader election between the Kafka broker is also done by using Zookeeper in the
event of leader failure.</p>

<p class=MsoBodyText style='margin-top:9.05pt;margin-right:56.5pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>Let us continue further on how to install Java, ZooKeeper, and Kafka on
your machine in the </p>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'>tions on Kafka
in the next chapter.</p>

</div>

<span style='font-size:11.0pt;line-height:106%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection13>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.45pt'><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:5.0pt;margin-right:56.55pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
106%'><span style='position:relative;z-index:-1895779328'><span
style='left:0px;position:absolute;left:626px;top:-137px;width:96px;height:20px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=96 height=20 style='vertical-align:top'><span style='position:absolute;
  left:0pt;z-index:-1895779328'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:0pt 0pt 0pt 0pt'>
    <p class=MsoBodyText style='line-height:12.1pt'>Apache<span
    style='letter-spacing:-.25pt'> </span>Kafka</p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span></span><span style='position:relative;z-index:251657216'><span
style='left:0px;position:absolute;left:-2px;top:-188px;width:803px;height:156px'><img
width=803 height=156 src="Apache-Kafka-Labs-Web_files/image011.png"></span></span>First<span
style='letter-spacing:-.75pt'> </span>let<span style='letter-spacing:-.75pt'> </span>us<span
style='letter-spacing:-.8pt'> </span>start<span style='letter-spacing:-.75pt'> </span>imple<a
name="_bookmark19"></a>menting<span style='letter-spacing:-.55pt'> </span>“single<span
style='letter-spacing:-.75pt'> </span>node-single<span style='letter-spacing:
-.8pt'> </span>broker”<span style='letter-spacing:-.75pt'> </span>configuration<span
style='letter-spacing:-.85pt'> </span>and<span style='letter-spacing:-.7pt'> </span>we<span
style='letter-spacing:-.8pt'> </span>will<span style='letter-spacing:-.65pt'> </span>then<span
style='letter-spacing:-.7pt'> </span>migrate our setup to single node-multiple
brokers<span style='letter-spacing:-.15pt'> </span>configuration.</p>

<p class=MsoBodyText style='margin-top:8.2pt;margin-right:56.6pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>Hopefully<span style='letter-spacing:-.3pt'> </span>you<span
style='letter-spacing:-.2pt'> </span>would<span style='letter-spacing:-.35pt'> </span>have<span
style='letter-spacing:-.35pt'> </span>installed<span style='letter-spacing:
-.15pt'> </span>Java,<span style='letter-spacing:-.3pt'> </span>ZooKeeper<span
style='letter-spacing:-.35pt'> </span>and<span style='letter-spacing:-.25pt'> </span>Kafka<span
style='letter-spacing:-.25pt'> </span>on<span style='letter-spacing:-.25pt'> </span>your<span
style='letter-spacing:-.2pt'> </span>machine<span style='letter-spacing:-.2pt'>
</span>by<span style='letter-spacing:-.3pt'> </span>now.<span style='letter-spacing:
-.25pt'> </span>Before moving<span style='letter-spacing:-.25pt'> </span>to<span
style='letter-spacing:-.3pt'> </span>the<span style='letter-spacing:-.25pt'> </span>Kafka<span
style='letter-spacing:-.3pt'> </span>Cluster<span style='letter-spacing:-.35pt'>
</span>Setup,<span style='letter-spacing:-.25pt'> </span>first<span
style='letter-spacing:-.25pt'> </span>you<span style='letter-spacing:-.25pt'> </span>would<span
style='letter-spacing:-.25pt'> </span>need<span style='letter-spacing:-.25pt'> </span>to<span
style='letter-spacing:-.35pt'> </span>start<span style='letter-spacing:-.2pt'> </span>your<span
style='letter-spacing:-.35pt'> </span>ZooKeeper<span style='letter-spacing:
-.3pt'> </span>because<span style='letter-spacing:-.35pt'> </span>Kafka Cluster
uses<span style='letter-spacing:-.25pt'> </span>ZooKeeper.</p>

<p class=MsoBodyText style='margin-top:.3pt'><span style='font-size:12.0pt'>&nbsp;</span></p>

<h2 style='text-align:justify'>Start ZooKeeper</h2>

<p class=MsoBodyText style='margin-top:6.05pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify'>Open a new
terminal and type the following command:</p>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=40 src="Apache-Kafka-Labs-Web_files/image012.png"
  alt="Text Box: bin/zookeeper-server-start.sh  config/zookeeper.properties"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:4.45pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>To start Kafka Broker, type the
following command:</p>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=40 src="Apache-Kafka-Labs-Web_files/image013.png"
  alt="Text Box: bin/kafka-server-start.sh  config/server.properties"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:56.05pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:107%'>After starting
Kafka Broker, type the command “jps” on ZooKeeper terminal and you would see
the following response:</p>

<p class=MsoBodyText style='margin-top:.45pt'><span style='font-size:13.0pt'>&nbsp;</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:61.35pt;border-collapse:collapse'>
 <tr style='height:14.25pt'>
  <td width=29 valign=top style='width:21.85pt;padding:0in 0in 0in 0in;
  height:14.25pt'>
  <p class=TableParagraph align=center style='margin-top:0in;margin-right:1.65pt;
  margin-bottom:0in;margin-left:1.5pt;margin-bottom:.0001pt;text-align:center;
  line-height:9.5pt'><span style='font-size:10.0pt;font-family:"Arial",sans-serif'>821</span></p>
  </td>
  <td width=110 valign=top style='width:82.35pt;padding:0in 0in 0in 0in;
  height:14.25pt'>
  <p class=TableParagraph style='margin-left:2.7pt;line-height:9.5pt'><span
  style='font-size:10.0pt;font-family:"Arial",sans-serif'>QuorumPeerMain</span></p>
  </td>
 </tr>
 <tr style='height:18.55pt'>
  <td width=29 valign=top style='width:21.85pt;padding:0in 0in 0in 0in;
  height:18.55pt'>
  <p class=TableParagraph align=center style='margin-top:2.3pt;margin-right:
  1.65pt;margin-bottom:0in;margin-left:1.5pt;margin-bottom:.0001pt;text-align:
  center'><span style='font-size:10.0pt;font-family:"Arial",sans-serif'>928</span></p>
  </td>
  <td width=110 valign=top style='width:82.35pt;padding:0in 0in 0in 0in;
  height:18.55pt'>
  <p class=TableParagraph style='margin-top:2.3pt;margin-right:0in;margin-bottom:
  0in;margin-left:2.7pt;margin-bottom:.0001pt'><span style='font-size:10.0pt;
  font-family:"Arial",sans-serif'>Kafka</span></p>
  </td>
 </tr>
 <tr style='height:14.25pt'>
  <td width=29 valign=top style='width:21.85pt;padding:0in 0in 0in 0in;
  height:14.25pt'>
  <p class=TableParagraph align=center style='margin-top:2.3pt;margin-right:
  1.65pt;margin-bottom:0in;margin-left:1.5pt;margin-bottom:.0001pt;text-align:
  center;line-height:10.95pt'><span style='font-size:10.0pt;font-family:"Arial",sans-serif'>931</span></p>
  </td>
  <td width=110 valign=top style='width:82.35pt;padding:0in 0in 0in 0in;
  height:14.25pt'>
  <p class=TableParagraph style='margin-top:2.3pt;margin-right:0in;margin-bottom:
  0in;margin-left:2.7pt;margin-bottom:.0001pt;line-height:10.95pt'><span
  style='font-size:10.0pt;font-family:"Arial",sans-serif'>Jps</span></p>
  </td>
 </tr>
</table>

<p class=MsoBodyText style='margin-top:.15pt'><span style='font-size:11.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:56.05pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'><span
style='position:relative;z-index:-1895778304'><span style='left:0px;position:
absolute;left:74px;top:-93px;width:645px;height:86px'><img width=645 height=86
src="Apache-Kafka-Labs-Web_files/image014.png"></span></span>Now you could see
two daemons running on the terminal where QuorumPeerMain is ZooKeeper daemon and
another one is Kafka daemon.</p>

<p class=MsoBodyText style='margin-top:.4pt'><span style='font-size:14.5pt'>&nbsp;</span></p>

<h1 style='margin-top:0in'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark20"></a>Single Node-Single Broker Configuration</h1>

<p class=MsoBodyText style='margin-top:4.6pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>In<span style='letter-spacing:
-.7pt'> </span>this<span style='letter-spacing:-.8pt'> </span>configuration<span
style='letter-spacing:-.65pt'> </span>you<span style='letter-spacing:-.7pt'> </span>have<span
style='letter-spacing:-.7pt'> </span>a<span style='letter-spacing:-.6pt'> </span>single<span
style='letter-spacing:-.75pt'> </span>ZooKeeper<span style='letter-spacing:
-.8pt'> </span>and<span style='letter-spacing:-.7pt'> </span>broker<span
style='letter-spacing:-.8pt'> </span>id<span style='letter-spacing:-.75pt'> </span>instance.<span
style='letter-spacing:-.45pt'> </span>Following<span style='letter-spacing:
-.7pt'> </span>are<span style='letter-spacing:-.8pt'> </span>the<span
style='letter-spacing:-.75pt'> </span>steps to configure<span style='letter-spacing:
-.2pt'> </span>it:</p>

<p class=MsoBodyText style='margin-top:8.05pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'><b>Creating a
Kafka Topic: </b>Kafka provides a command line utility named “kafka-topics.sh”
to create topics on the server. Open new terminal and type the below example.</p>

<h3 style='margin-top:8.1pt'>Syntax</h3>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=57 src="Apache-Kafka-Labs-Web_files/image015.png"
  alt="Text Box: bin/kafka-topics.sh  --create  --zookeeper  localhost:2181  --replication-factor  1  -- partitions  1  --topic  topic-name"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<h3>Example</h3>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=57 src="Apache-Kafka-Labs-Web_files/image016.png"
  alt="Text Box: bin/kafka-topics.sh  --create  --zookeeper  localhost:2181  --replication-factor  1  -- partitions  1  --topic  Hello-Kafka"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'>We just created
a topic named “Hello-Kafka” with a single partition and one replica factor. The
above created output will be similar to the following output:</p>

</div>

<span style='font-size:11.0pt;line-height:106%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection14>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.3pt'>&nbsp;</p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:0in;margin-bottom:0in;
margin-left:56.6pt;margin-bottom:.0001pt'><b><span style='font-size:10.0pt'>Output:
</span></b><span style='font-size:10.0pt'>Created topic “Hello-Kafka”</span></p>

<p class=MsoBodyText style='margin-top:9.05pt;margin-right:56.55pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>Once the topic has been created, you can get the notification in Kafka
broker terminal window and the log for the created topic specified in
“/tmp/kafka-logs/“ in the config/server.properties file.</p>

<p class=MsoBodyText style='margin-top:.2pt'><span style='font-size:14.5pt'>&nbsp;</span></p>

<h1 style='margin-top:0in;text-align:justify'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark21"></a>List of Topics</h1>

<p class=MsoBodyText style='margin-top:4.45pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify'>To get a list
of topics in Kafka server, you can use the following command:</p>

<h3 style='margin-top:8.95pt;text-align:justify'>Syntax</h3>

<p class=MsoBodyText style='margin-top:.45pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=40 src="Apache-Kafka-Labs-Web_files/image017.png"
  alt="Text Box: bin/kafka-topics.sh  --list  --zookeeper  localhost:2181"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<h3>Output</h3>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=40 src="Apache-Kafka-Labs-Web_files/image018.png"
  alt="Text Box: Hello-Kafka"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'>Since we have
created a topic, it will list out “Hello-Kafka” only. Suppose, if you create
more than one topics, you will get the topic names in the output.</p>

<p class=MsoBodyText style='margin-top:.45pt'><span style='font-size:12.0pt'>&nbsp;</span></p>

<h2>Start Producer to Send Messages</h2>

<h3 style='margin-top:6.2pt'>Syntax</h3>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=40 src="Apache-Kafka-Labs-Web_files/image019.png"
  alt="Text Box: bin/kafka-console-producer.sh  --broker-list  localhost:9092  --topic  topic-name"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:4.45pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>From the above syntax, two main
parameters are required for the producer command line client:</p>

<p class=MsoBodyText style='margin-top:9.05pt;margin-right:56.7pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'><b>Broker-list - </b>The list of brokers that we want to send the
messages to. In this case we only have one broker. The Config/server.properties
file contains broker port id, since we know our broker is listening on port
9092, so you can specify it directly.</p>

<p class=MsoBodyText style='margin-top:7.9pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify'>Topic name –
Here is an example for the topic name.</p>

<h3 style='margin-top:9.0pt;text-align:justify'>Example</h3>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=40 src="Apache-Kafka-Labs-Web_files/image020.png"
  alt="Text Box: bin/kafka-console-producer.sh  --broker-list  localhost:9092  --topic  Hello-Kafka"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:56.7pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>The producer will wait on input from stdin and publishes to the Kafka
cluster. By default, every new line is published as a new message then the
default producer properties are specified in “config/producer.properties” file.
Now you can type a few lines of messages in the terminal as shown below.</p>

</div>

<span style='font-size:11.0pt;line-height:107%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection15>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.3pt'>&nbsp;</p>

<h3 style='margin-top:5.0pt'>Output</h3>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=131 src="Apache-Kafka-Labs-Web_files/image021.png"
  alt="Text Box: $  bin/kafka-console-producer.sh  --broker-list  localhost:9092  --topic  Hello-Kafka&#13;&#10;[2016-01-16  13:50:45,931]  WARN  property  topic  is  not  valid  (kafka.utils.Verifia- bleProperties)&#13;&#10;Hello&#13;&#10;My first message&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText><b>&nbsp;</b></p>

<p class=MsoBodyText>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=40 src="Apache-Kafka-Labs-Web_files/image022.png"
  alt="Text Box: My second message"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:.4pt'><b><span style='font-size:7.0pt'>&nbsp;</span></b></p>

<h2 style='margin-top:4.55pt'>Start Consumer to Receive Messages</h2>

<p class=MsoBodyText style='margin-top:6.15pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:107%'>Similar to
producer, the default consumer properties are specified in
“config/consumer.proper- ties” file. Open a new terminal and type the below
syntax for consuming messages.</p>

<p class=MsoBodyText><span style='font-size:12.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.5pt'><span style='font-size:11.5pt'>&nbsp;</span></p>

<h3 style='margin-top:0in'>Syntax</h3>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=57 src="Apache-Kafka-Labs-Web_files/image023.png"
  alt="Text Box: bin/kafka-console-consumer.sh  --zookeeper  localhost:2181  —topic  topic-name  --from- beginning"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText><b>&nbsp;</b></p>

<p class=MsoBodyText style='margin-top:.5pt'><b><span style='font-size:10.5pt'>&nbsp;</span></b></p>

<h3 style='margin-top:0in'>Example</h3>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=57 src="Apache-Kafka-Labs-Web_files/image024.png"
  alt="Text Box: bin/kafka-console-consumer.sh  --zookeeper  localhost:2181  —topic  Hello-Kafka  --from- beginning"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText><b>&nbsp;</b></p>

<p class=MsoBodyText><b><span style='font-size:11.0pt'>&nbsp;</span></b></p>

<h3 style='margin-top:.05pt'>Output</h3>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=90 src="Apache-Kafka-Labs-Web_files/image025.png"
  alt="Text Box: Hello&#13;&#10;My first message My second message&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:56.5pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
106%'>Finally,<span style='letter-spacing:-.45pt'> </span>you<span
style='letter-spacing:-.3pt'> </span>are<span style='letter-spacing:-.3pt'> </span>able<span
style='letter-spacing:-.4pt'> </span>to<span style='letter-spacing:-.15pt'> </span>enter<span
style='letter-spacing:-.3pt'> </span>messages<span style='letter-spacing:-.4pt'>
</span>from<span style='letter-spacing:-.3pt'> </span>the<span
style='letter-spacing:-.45pt'> </span>producer’s<span style='letter-spacing:
-.25pt'> </span>terminal<span style='letter-spacing:-.15pt'> </span>and<span
style='letter-spacing:-.3pt'> </span>see<span style='letter-spacing:-.3pt'> </span>them<span
style='letter-spacing:-.2pt'> </span>appearing<span style='letter-spacing:-.45pt'>
</span>in the consumer’s terminal. As of now, you have a very good
understanding on the single node cluster with a single broker. Let us now move
on to the multiple brokers<span style='letter-spacing:-.8pt'> </span>configuration.</p>

</div>

<span style='font-size:11.0pt;line-height:106%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection16>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.2pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<h1>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark22"></a>Single Node-Multiple Brokers Configuration</h1>

<p class=MsoBodyText style='margin-top:4.45pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>Before moving on to the multiple
brokers cluster setup, first start your ZooKeeper server.</p>

<p class=MsoBodyText style='margin-top:9.05pt;margin-right:56.55pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'><b>Create Multiple Kafka Brokers </b>– We have one Kafka broker instance
already in con- fig/server.properties. Now we need multiple broker instances,
so copy the existing<span style='letter-spacing:-1.9pt'> </span>server.prop-
erties<span style='letter-spacing:-.3pt'> </span>file<span style='letter-spacing:
-.45pt'> </span>into<span style='letter-spacing:-.45pt'> </span>two<span
style='letter-spacing:-.35pt'> </span>new<span style='letter-spacing:-.3pt'> </span>config<span
style='letter-spacing:-.35pt'> </span>files<span style='letter-spacing:-.45pt'>
</span>and<span style='letter-spacing:-.25pt'> </span>rename<span
style='letter-spacing:-.45pt'> </span>it<span style='letter-spacing:-.3pt'> </span>as<span
style='letter-spacing:-.3pt'> </span>server-one.properties<span
style='letter-spacing:-.35pt'> </span>and<span style='letter-spacing:-.25pt'> </span>server-two.prop-
erties. Then edit both new files and assign the following<span
style='letter-spacing:-.3pt'> </span>changes:</p>

<p class=MsoBodyText style='margin-top:.25pt'><span style='font-size:12.0pt'>&nbsp;</span></p>

<h2 style='text-align:justify'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=164 src="Apache-Kafka-Labs-Web_files/image026.png"
  alt="Text Box: #  The  id  of  the  broker.  This  must  be  set  to  a  unique  integer  for  each  broker. broker.id=1&#13;&#10;#  The  port  the  socket  server  listens  on port=9093&#13;&#10;# A comma seperated list of directories under which to store log files log.dirs=/tmp/kafka-logs-1&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
config/server-one.properties</h2>

<p class=MsoBodyText style='margin-top:.3pt'><b><span style='font-size:7.5pt;
font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<h2 style='margin-top:4.55pt'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=164 src="Apache-Kafka-Labs-Web_files/image027.png"
  alt="Text Box: #  The  id  of  the  broker.  This  must  be  set  to  a  unique  integer  for  each  broker. broker.id=2&#13;&#10;#  The  port  the  socket  server  listens  on port=9094&#13;&#10;# A comma seperated list of directories under which to store log files log.dirs=/tmp/kafka-logs-2&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
config/server-two.properties</h2>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:107%'><b>Start
Multiple Brokers – </b>After all the changes have been made on three servers
then open three new terminals to start each broker one by one.</p>

<p class=MsoBodyText>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=164 src="Apache-Kafka-Labs-Web_files/image028.png"
  alt="Text Box: Broker1&#13;&#10;bin/kafka-server-start.sh  config/server.properties&#13;&#10;Broker2&#13;&#10;bin/kafka-server-start.sh  config/server-one.properties&#13;&#10;Broker3&#13;&#10;bin/kafka-server-start.sh  config/server-two.properties&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:56.05pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'>Now we have
three different brokers running on the machine. Try it by yourself to check all
the daemons by typing “jps” on the ZooKeeper terminal, then you would see the
response.</p>

</div>

<span style='font-size:11.0pt;line-height:106%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection17>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.2pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<h1>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark23"></a><span style='letter-spacing:-1.1pt'>Creating </span>a<span
style='letter-spacing:-3.8pt'> </span><span style='letter-spacing:-1.3pt'>Topic</span></h1>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:47.6pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'>Let us assign
the replication factor value as three for this topic because we have three
different brokers running. If you have two brokers, then the assigned replica
value will be two.</p>

<h3 style='margin-top:8.05pt'>Syntax</h3>

<p class=MsoBodyText style='margin-top:.45pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=57 src="Apache-Kafka-Labs-Web_files/image029.png"
  alt="Text Box: bin/kafka-topics.sh  --create  --zookeeper  localhost:2181  --replication-factor  3  -par- titions  1  --topic  topic-name"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<h3>Example</h3>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=57 src="Apache-Kafka-Labs-Web_files/image030.png"
  alt="Text Box: bin/kafka-topics.sh  --create  --zookeeper  localhost:2181  --replication-factor  3  -par- titions  1  --topic  Multibrokerapplication"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<h3>Output</h3>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=40 src="Apache-Kafka-Labs-Web_files/image031.png"
  alt="Text Box: created  topic  “Multibrokerapplication”"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:55.75pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'>The “Describe”
command is used to check which broker is listening on the current created topic
as shown below:</p>

<p class=MsoBodyText style='margin-top:.1pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=57 src="Apache-Kafka-Labs-Web_files/image032.png"
  alt="Text Box: bin/kafka-topics.sh  --describe  --zookeeper  localhost:2181  --topic  Multibrokerappli- cation"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<h3>Output</h3>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=106 src="Apache-Kafka-Labs-Web_files/image033.png"
  alt="Text Box: bin/kafka-topics.sh  --describe  --zookeeper  localhost:2181  --topic  Multibrokerappli- cation&#13;&#10;Topic:Multibrokerapplication	PartitionCount:1	ReplicationFactor:3	Configs: Topic:Multibrokerapplication  Partition:0	Leader:0	Replicas:0,2,1	Isr:0,2,1&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:56.5pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>From the above output, we can conclude that first line gives a summary of
all the partitions, showing topic name, partition count and the replication
factor that we have chosen already. In the second line, each node will be the
leader for a randomly selected portion of the partitions.</p>

<p class=MsoBodyText style='margin-top:8.05pt;margin-right:56.4pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
106%'>In our case, we see that our first broker (with broker.id 0) is the
leader. Then Replicas:0,2,1 means that all the brokers replicate the topic
finally <span style='font-family:"Courier New"'>“</span>Isr&quot; is the set of
<span style='font-family:"Courier New"'>“</span>in-sync<span style='font-family:
"Courier New"'>” </span>replicas. Well, this is the subset of replicas that are
currently alive and caught up by the leader.</p>

<p class=MsoBodyText><span style='font-size:12.5pt'>&nbsp;</span></p>

<h2 style='text-align:justify'>Start Producer to Send Messages</h2>

<p class=MsoBodyText style='margin-top:6.05pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify'>This procedure
remains the same as in the single broker setup.</p>

<h3 style='margin-top:8.95pt;text-align:justify'>Example</h3>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=57 src="Apache-Kafka-Labs-Web_files/image034.png"
  alt="Text Box: bin/kafka-console-producer.sh  --broker-list  localhost:9092  --topic  Multibrokerappli- cation"></td>
 </tr>
</table>

<br clear=ALL>
</p>

</div>

<span style='font-size:5.5pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection18>

<p class=MsoBodyText><b>&nbsp;</b></p>

<p class=MsoBodyText><b>&nbsp;</b></p>

<p class=MsoBodyText style='margin-top:.3pt'><b>&nbsp;</b></p>

<h3 style='margin-top:5.0pt'>Output</h3>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=148 src="Apache-Kafka-Labs-Web_files/image035.png"
  alt="Text Box: bin/kafka-console-producer.sh  --broker-list  localhost:9092  --topic  Multibrokerappli- cation&#13;&#10;[2016-01-20  19:27:21,045]  WARN  Property  topic  is  not  valid  (kafka.utils.Verifia- bleProperties)&#13;&#10;This  is  single  node-multi  broker  demo This is the second message&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:.45pt'><b><span style='font-size:7.0pt'>&nbsp;</span></b></p>

<h2 style='margin-top:4.5pt'>Start Consumer to Receive Messages</h2>

<p class=MsoBodyText style='margin-top:6.05pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>This procedure remains the same
as shown in the single broker setup.</p>

<h3 style='margin-top:8.95pt'>Example</h3>

<p class=MsoBodyText style='margin-top:.45pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=57 src="Apache-Kafka-Labs-Web_files/image036.png"
  alt="Text Box: bin/kafka-console-consumer.sh  --zookeeper  localhost:2181  —topic  Multibrokerapplica- tion  --from-beginning"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText><b>&nbsp;</b></p>

<p class=MsoBodyText style='margin-top:.15pt'><b><span style='font-size:10.5pt'>&nbsp;</span></b></p>

<h3 style='margin-top:0in'>Output</h3>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=106 src="Apache-Kafka-Labs-Web_files/image037.png"
  alt="Text Box: bin/kafka-console-consumer.sh  --zookeeper  localhost:2181  —topic  Multibrokerapplica- tion  —from-beginning&#13;&#10;This  is  single  node-multi  broker  demo This is the second message&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:.3pt'><b><span style='font-size:9.5pt'>&nbsp;</span></b></p>

<h1>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark24"></a><span style='letter-spacing:-1.0pt'>Basic</span><span
style='letter-spacing:-3.7pt'> </span><span style='letter-spacing:-1.25pt'>Topic
</span><span style='letter-spacing:-1.15pt'>Operations</span></h1>

<p class=MsoBodyText style='margin-top:4.45pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>In this chapter we will discuss
the various basic topic operations.</p>

<p class=MsoBodyText style='margin-top:.15pt'><span style='font-size:13.0pt'>&nbsp;</span></p>

<h2>Modifying a Topic</h2>

<p class=MsoBodyText style='margin-top:6.3pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'>As you have
already understood how to create a topic in Kafka Cluster. Now let us modify a
created topic using the following command</p>

<h3 style='margin-top:8.05pt'>Syntax</h3>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=57 src="Apache-Kafka-Labs-Web_files/image038.png"
  alt="Text Box: bin/kafka-topics.sh  —zookeeper  localhost:2181  --alter  --topic  topic_name  --parti- tions count"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<h3>Example</h3>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=98 src="Apache-Kafka-Labs-Web_files/image039.png"
  alt="Text Box: We  have  already  created  a  topic  “Hello-Kafka”  with  single  partition  count  and  one replica factor. Now using “alter” command we have changed the partition count.&#13;&#10;bin/kafka-topics.sh  --zookeeper  localhost:2181  --alter  --topic  Hello-kafka  --parti- tions 2&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

</div>

<span style='font-size:5.5pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection19>

<p class=MsoBodyText><b>&nbsp;</b></p>

<p class=MsoBodyText><b>&nbsp;</b></p>

<p class=MsoBodyText style='margin-top:.3pt'><b>&nbsp;</b></p>

<h3 style='margin-top:5.0pt'>Output</h3>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=82 src="Apache-Kafka-Labs-Web_files/image040.png"
  alt="Text Box: WARNING:  If  partitions  are  increased  for  a  topic  that  has  a  key,  the  partition  logic or  ordering  of  the  messages  will  be  affected&#13;&#10;Adding  partitions  succeeded!&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:.3pt'><b><span style='font-size:9.5pt'>&nbsp;</span></b></p>

<h1>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark25"></a><span style='letter-spacing:-1.1pt'>Deleting </span>a
<span style='letter-spacing:-1.3pt'>Topic</span></h1>

<p class=MsoBodyText style='margin-top:4.45pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>To delete a topic, you can use
the following syntax.</p>

<h3 style='margin-top:9.0pt'>Syntax</h3>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=40 src="Apache-Kafka-Labs-Web_files/image041.png"
  alt="Text Box: bin/kafka-topics.sh  --zookeeper  localhost:2181	--delete  --topic  topic_name"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<h3>Example</h3>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=40 src="Apache-Kafka-Labs-Web_files/image042.png"
  alt="Text Box: bin/kafka-topics.sh  --zookeeper  localhost:2181	--delete  --topic  Hello-kafka"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText><b>&nbsp;</b></p>

<p class=MsoBodyText><b><span style='font-size:11.0pt'>&nbsp;</span></b></p>

<h3 style='margin-top:.05pt'>Output</h3>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=40 src="Apache-Kafka-Labs-Web_files/image043.png"
  alt="Text Box: &gt;  Topic  Hello-kafka  marked  for  deletion"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoNormal style='margin-top:4.45pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'><b><span style='font-size:10.0pt'>Note</span></b><span
style='font-size:10.0pt'>: This will have no impact if <b>delete.topic.enable </b>is
not set to true.</span></p>

</div>

<span style='font-size:10.0pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection20>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.45pt'><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:5.0pt;margin-right:56.5pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
106%'><span style='position:relative;z-index:-1895777280'><span
style='left:0px;position:absolute;left:626px;top:-137px;width:96px;height:20px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=96 height=20 style='vertical-align:top'><span style='position:absolute;
  left:0pt;z-index:-1895777280'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:0pt 0pt 0pt 0pt'>
    <p class=MsoBodyText style='line-height:12.1pt'>Apache<span
    style='letter-spacing:-.25pt'> </span>Kafka</p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span></span><span style='position:relative;z-index:251682816'><span
style='left:0px;position:absolute;left:-2px;top:-188px;width:803px;height:156px'><img
width=803 height=156 src="Apache-Kafka-Labs-Web_files/image044.png"></span></span>Let
us create an <a name="_bookmark26"></a>application for publishing and consuming
messages using a Java client. Kafka producer client consists of the following
API’s.</p>

<p class=MsoBodyText style='margin-top:.35pt'><span style='font-size:14.5pt'>&nbsp;</span></p>

<h1 style='margin-top:0in'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark27"></a>KafkaProducer API</h1>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:56.6pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
106%'>Let<span style='letter-spacing:-.35pt'> </span>us<span style='letter-spacing:
-.4pt'> </span>understand<span style='letter-spacing:-.3pt'> </span>the<span
style='letter-spacing:-.3pt'> </span>most<span style='letter-spacing:-.3pt'> </span>important<span
style='letter-spacing:-.2pt'> </span>set<span style='letter-spacing:-.2pt'> </span>of<span
style='letter-spacing:-.35pt'> </span>Kafka<span style='letter-spacing:-.35pt'>
</span>producer<span style='letter-spacing:-.45pt'> </span>API<span
style='letter-spacing:-.35pt'> </span>in<span style='letter-spacing:-.3pt'> </span>this<span
style='letter-spacing:-.4pt'> </span>section.<span style='letter-spacing:-.25pt'>
</span>The<span style='letter-spacing:.05pt'> </span>central<span
style='letter-spacing:-.15pt'> </span>part of the KafkaProducer API is “KafkaProducer”
class. The KafkaProducer class provides an option to connect a Kafka broker in
its constructor with the following<span style='letter-spacing:-.4pt'> </span>methods.</p>

<p class=MsoListParagraph style='margin-top:8.3pt;margin-right:56.5pt;
margin-bottom:0in;margin-left:92.65pt;margin-bottom:.0001pt;line-height:105%'><span
style='font-size:10.0pt;line-height:105%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:105%'>KafkaProducer
class provides send method to send messages asynchronously to a topic. The
signature of send() is as<span style='letter-spacing:-.05pt'> </span>follows</span></p>

<p class=MsoBodyText style='margin-top:.25pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=124 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=599 height=57 src="Apache-Kafka-Labs-Web_files/image045.png"
  alt="Text Box: producer.send(new ProducerRecord&lt;byte[],byte[]&gt;(topic, partition, key1, value1) , callback);"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoListParagraph style='margin-top:4.55pt;margin-right:0in;margin-bottom:
0in;margin-left:128.65pt;margin-bottom:.0001pt'><span style='font-size:10.0pt;
font-family:Wingdings'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><b><span style='font-size:10.0pt'>ProducerRecord - </span></b><span
style='font-size:10.0pt'>The producer manages a buffer of records waiting to<span
style='letter-spacing:-2.55pt'> </span>be sent.</span></p>

<p class=MsoBodyText style='margin-top:.15pt'><span style='font-size:11.5pt'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-top:0in;margin-right:56.8pt;margin-bottom:
0in;margin-left:128.65pt;margin-bottom:.0001pt;line-height:106%'><span
style='font-size:10.0pt;line-height:106%;font-family:Wingdings'>§<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><b><span
style='font-size:10.0pt;line-height:106%'>Callback<span style='letter-spacing:
-1.0pt'> </span>-<span style='letter-spacing:-.85pt'> </span></span></b><span
style='font-size:10.0pt;line-height:106%'>A<span style='letter-spacing:-.95pt'>
</span>user-supplied<span style='letter-spacing:-1.0pt'> </span>callback<span
style='letter-spacing:-1.05pt'> </span>to<span style='letter-spacing:-1.05pt'> </span>execute<span
style='letter-spacing:-1.05pt'> </span>when<span style='letter-spacing:-.95pt'>
</span>the<span style='letter-spacing:-1.1pt'> </span>record<span
style='letter-spacing:-.95pt'> </span>has<span style='letter-spacing:-1.0pt'> </span>been<span
style='letter-spacing:-.9pt'> </span>acknowl- edged by the server (null
indicates no<span style='letter-spacing:-.35pt'> </span>callback).</span></p>

<p class=MsoBodyText><span style='font-size:12.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.4pt'><span style='font-size:11.0pt'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-right:56.6pt;line-height:105%'><span
style='font-size:10.0pt;line-height:105%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:105%'>KafkaProducer<span
style='letter-spacing:-.65pt'> </span>class<span style='letter-spacing:-.65pt'>
</span>provides<span style='letter-spacing:-.7pt'> </span>a<span
style='letter-spacing:-.55pt'> </span>flush<span style='letter-spacing:-.7pt'> </span>method<span
style='letter-spacing:-.65pt'> </span>to<span style='letter-spacing:-.65pt'> </span>ensure<span
style='letter-spacing:-.75pt'> </span>all<span style='letter-spacing:-.55pt'> </span>previously<span
style='letter-spacing:-.7pt'> </span>sent<span style='letter-spacing:-.65pt'> </span>messages<span
style='letter-spacing:-.75pt'> </span>have been actually completed. Syntax of
the flush method is as<span style='letter-spacing:-.55pt'> </span>follows:</span></p>

<p class=MsoBodyText style='margin-top:.3pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=124 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=599 height=40 src="Apache-Kafka-Labs-Web_files/image046.png"
  alt="Text Box: public void flush()"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoListParagraph style='margin-top:4.55pt;margin-right:56.45pt;
margin-bottom:0in;margin-left:92.65pt;margin-bottom:.0001pt;text-align:justify;
line-height:106%'><span style='font-size:10.0pt;line-height:106%;font-family:
Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:106%'>KafkaProducer
class provides partitionFor method, which helps in getting the partition
metadata for a given topic. This can be used for custom partitioning. The
signature of this method is as<span style='letter-spacing:-.2pt'> </span>follows:</span></p>

<p class=MsoBodyText style='margin-top:.2pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=124 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=599 height=40 src="Apache-Kafka-Labs-Web_files/image047.png"
  alt="Text Box: public partitionsFor(string topic)"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:4.45pt;margin-right:0in;margin-bottom:
0in;margin-left:92.65pt;margin-bottom:.0001pt'>It returns the metadata of the
topic.</p>

<p class=MsoListParagraph style='margin-top:9.05pt;margin-right:56.7pt;
margin-bottom:0in;margin-left:92.65pt;margin-bottom:.0001pt;line-height:105%'><span
style='font-size:10.0pt;line-height:105%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:105%'>KafkaProducer
class provides metrics method that is used to return a map of metrics
maintained by the producer. The signature of this method is as<span
style='letter-spacing:-.65pt'> </span>follows:</span></p>

<p class=MsoBodyText style='margin-top:.3pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=124 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=599 height=40 src="Apache-Kafka-Labs-Web_files/image048.png"
  alt="Text Box: public  Map  metrics()"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:4.45pt;margin-right:0in;margin-bottom:
0in;margin-left:92.65pt;margin-bottom:.0001pt'>It returns the map of internal
metrics maintained by the producer.</p>

<p class=MsoListParagraph style='margin-top:9.05pt;margin-right:56.55pt;
margin-bottom:0in;margin-left:92.65pt;margin-bottom:.0001pt;line-height:106%'><span
style='font-size:10.0pt;line-height:106%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:106%'>public<span
style='letter-spacing:-.8pt'> </span>void<span style='letter-spacing:-.8pt'> </span>close()<span
style='letter-spacing:-.65pt'> </span>–<span style='letter-spacing:-.75pt'> </span>KafkaProducer<span
style='letter-spacing:-.7pt'> </span>class<span style='letter-spacing:-.8pt'> </span>provides<span
style='letter-spacing:-.65pt'> </span>close<span style='letter-spacing:-.75pt'>
</span>method<span style='letter-spacing:-.6pt'> </span>blocks<span
style='letter-spacing:-.55pt'> </span>until<span style='letter-spacing:-.65pt'>
</span>all<span style='letter-spacing:-.65pt'> </span>previously sent requests
are<span style='letter-spacing:-.1pt'> </span>completed.</span></p>

</div>

<span style='font-size:10.0pt;line-height:106%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection21>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.2pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<h1>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark28"></a>Producer API</h1>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'>The central part
of the Producer API is “Producer” class. Producer class provides an option to
connect Kafka broker in its constructor by the following methods.</p>

<p class=MsoBodyText style='margin-top:.45pt'><span style='font-size:12.0pt'>&nbsp;</span></p>

<h2>The Producer Class</h2>

<p class=MsoBodyText style='margin-top:6.3pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'>The producer
class provides <b>send </b>method to send messages to either single or multiple
topics using the following signatures.</p>

<p class=MsoBodyText style='margin-top:.1pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=156 src="Apache-Kafka-Labs-Web_files/image049.png"
  alt="Text Box: public  void  send(KeyedMessage&lt;k,v&gt;  message)  -  sends  the  data  to  a  single  topic,par- titioned by key using either sync or async producer.&#13;&#10;public  void  send(List&lt;KeyedMessage&lt;k,v&gt;&gt;  messages)  -  sends  data  to  multiple  topics. Properties prop = new Properties();&#13;&#10;prop.put(producer.type,”async”)&#13;&#10;ProducerConfig config = new ProducerConfig(prop);&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:4.45pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>There are two types of producers
– <b>Sync </b>and <b>Async</b>.</p>

<p class=MsoBodyText style='margin-top:9.05pt;margin-right:56.5pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>The same API configuration applies to “Sync” producer as well. The
difference between them is a sync producer sends messages directly, but sends
messages in background. Async producer is preferred when you want a higher
throughput. In the previous releases like 0.8, an async producer does not have
a callback for send() to register error handlers. This is available only in the
current release of 0.9.</p>

<p class=MsoBodyText style='margin-top:.25pt'><span style='font-size:12.0pt'>&nbsp;</span></p>

<h2>public void close()</h2>

<p class=MsoBodyText style='margin-top:6.15pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:107%'>Producer class
provides <b>close </b>method to close the producer pool connections to all
Kafka bro- kers.</p>

<p class=MsoBodyText style='margin-top:.25pt'><span style='font-size:14.5pt'>&nbsp;</span></p>

<h1 style='margin-top:0in'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark29"></a>Configuration Settings</h1>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:47.6pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'>The Producer
API’s main configuration settings are listed in the following table for better
under- standing:</p>

<p class=MsoBodyText style='margin-top:.3pt'><span style='font-size:6.5pt'>&nbsp;</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:56.6pt;border-collapse:collapse;border:none'>
 <tr style='height:29.1pt'>
  <td width=149 valign=top style='width:112.6pt;border:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:29.1pt'>
  <p class=TableParagraph style='margin-top:3.95pt'><span style='font-size:
  10.0pt'>client.id</span></p>
  </td>
  <td width=482 valign=top style='width:369.1pt;border:solid black 1.0pt;
  border-left:none;padding:0in 0in 0in 0in;height:29.1pt'>
  <p class=TableParagraph style='margin-top:3.95pt;margin-right:0in;margin-bottom:
  0in;margin-left:3.9pt;margin-bottom:.0001pt'><span style='font-size:10.0pt'>identifies
  producer application</span></p>
  </td>
 </tr>
 <tr style='height:29.15pt'>
  <td width=149 valign=top style='width:112.6pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:29.15pt'>
  <p class=TableParagraph style='margin-top:3.85pt'><span style='font-size:
  10.0pt'>producer.type</span></p>
  </td>
  <td width=482 valign=top style='width:369.1pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:29.15pt'>
  <p class=TableParagraph style='margin-top:3.85pt;margin-right:0in;margin-bottom:
  0in;margin-left:3.9pt;margin-bottom:.0001pt'><span style='font-size:10.0pt'>either
  sync or async</span></p>
  </td>
 </tr>
 <tr style='height:42.2pt'>
  <td width=149 valign=top style='width:112.6pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:42.2pt'>
  <p class=TableParagraph style='margin-top:3.85pt'><span style='font-size:
  10.0pt'>acks</span></p>
  </td>
  <td width=482 valign=top style='width:369.1pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:42.2pt'>
  <p class=TableParagraph style='margin-top:3.95pt;margin-right:0in;margin-bottom:
  0in;margin-left:3.9pt;margin-bottom:.0001pt;line-height:106%'><span
  style='font-size:10.0pt;line-height:106%'>The acks config controls the
  criteria under producer requests are con- sidered complete.</span></p>
  </td>
 </tr>
 <tr style='height:29.0pt'>
  <td width=149 valign=top style='width:112.6pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:29.0pt'>
  <p class=TableParagraph style='margin-top:3.85pt'><span style='font-size:
  10.0pt'>retries</span></p>
  </td>
  <td width=482 valign=top style='width:369.1pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:29.0pt'>
  <p class=TableParagraph style='margin-top:3.85pt;margin-right:0in;margin-bottom:
  0in;margin-left:3.9pt;margin-bottom:.0001pt'><span style='font-size:10.0pt'>If
  producer request fails, then automatically retry with specific value.</span></p>
  </td>
 </tr>
 <tr style='height:29.15pt'>
  <td width=149 valign=top style='width:112.6pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:29.15pt'>
  <p class=TableParagraph style='margin-top:4.0pt'><span style='font-size:10.0pt'>bootstrap.servers</span></p>
  </td>
  <td width=482 valign=top style='width:369.1pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:29.15pt'>
  <p class=TableParagraph style='margin-top:4.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:3.9pt;margin-bottom:.0001pt'><span style='font-size:10.0pt'>bootstrapping
  list of brokers.</span></p>
  </td>
 </tr>
</table>

</div>

<span style='font-size:10.0pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection22>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.5pt'><span style='font-size:14.0pt'>&nbsp;</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:56.6pt;border-collapse:collapse;border:none'>
 <tr style='height:42.2pt'>
  <td width=149 valign=top style='width:112.6pt;border:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:42.2pt'>
  <p class=TableParagraph style='margin-top:3.85pt'><span style='font-size:
  10.0pt'>linger.ms</span></p>
  </td>
  <td width=482 valign=top style='width:369.1pt;border:solid black 1.0pt;
  border-left:none;padding:0in 0in 0in 0in;height:42.2pt'>
  <p class=TableParagraph style='margin-top:3.95pt;margin-right:0in;margin-bottom:
  0in;margin-left:3.9pt;margin-bottom:.0001pt;line-height:107%'><span
  style='font-size:10.0pt;line-height:107%'>if you want to reduce the number of
  requests you can set linger.ms to something greater than some value.</span></p>
  </td>
 </tr>
 <tr style='height:29.15pt'>
  <td width=149 valign=top style='width:112.6pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:29.15pt'>
  <p class=TableParagraph style='margin-top:3.85pt'><span style='font-size:
  10.0pt'>key.serializer</span></p>
  </td>
  <td width=482 valign=top style='width:369.1pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:29.15pt'>
  <p class=TableParagraph style='margin-top:3.85pt;margin-right:0in;margin-bottom:
  0in;margin-left:3.9pt;margin-bottom:.0001pt'><span style='font-size:10.0pt'>Key
  for the serializer interface</span></p>
  </td>
 </tr>
 <tr style='height:29.0pt'>
  <td width=149 valign=top style='width:112.6pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:29.0pt'>
  <p class=TableParagraph style='margin-top:3.85pt'><span style='font-size:
  10.0pt'>value.serializer</span></p>
  </td>
  <td width=482 valign=top style='width:369.1pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:29.0pt'>
  <p class=TableParagraph style='margin-top:3.85pt;margin-right:0in;margin-bottom:
  0in;margin-left:3.9pt;margin-bottom:.0001pt'><span style='font-size:10.0pt'>value
  for the serializer interface</span></p>
  </td>
 </tr>
 <tr style='height:29.1pt'>
  <td width=149 valign=top style='width:112.6pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:29.1pt'>
  <p class=TableParagraph style='margin-top:3.95pt'><span style='font-size:
  10.0pt'>batch.size</span></p>
  </td>
  <td width=482 valign=top style='width:369.1pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:29.1pt'>
  <p class=TableParagraph style='margin-top:3.95pt;margin-right:0in;margin-bottom:
  0in;margin-left:3.9pt;margin-bottom:.0001pt'><span style='font-size:10.0pt'>Buffer
  size</span></p>
  </td>
 </tr>
 <tr style='height:42.25pt'>
  <td width=149 valign=top style='width:112.6pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:42.25pt'>
  <p class=TableParagraph style='margin-top:4.0pt'><span style='font-size:10.0pt'>buffer.memory</span></p>
  </td>
  <td width=482 valign=top style='width:369.1pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:42.25pt'>
  <p class=TableParagraph style='margin-top:4.1pt;margin-right:3.7pt;
  margin-bottom:0in;margin-left:3.9pt;margin-bottom:.0001pt;line-height:106%'><span
  style='font-size:10.0pt;line-height:106%'>controls the total amount of memory
  available to the producer for buff- ering.</span></p>
  </td>
 </tr>
</table>

<p class=MsoBodyText style='margin-top:.55pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<h1>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark30"></a>ProducerRecord API</h1>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'>ProducerRecord<span
style='letter-spacing:-.8pt'> </span>is<span style='letter-spacing:-.8pt'> </span>a<span
style='letter-spacing:-.75pt'> </span>key/value<span style='letter-spacing:
-.8pt'> </span>pair<span style='letter-spacing:-.65pt'> </span>that<span
style='letter-spacing:-.85pt'> </span>is<span style='letter-spacing:-.75pt'> </span>sent<span
style='letter-spacing:-.7pt'> </span>to<span style='letter-spacing:-.8pt'> </span>Kafka<span
style='letter-spacing:-.75pt'> </span>cluster.ProducerRecord<span
style='letter-spacing:-.75pt'> </span>class<span style='letter-spacing:-.7pt'> </span>constructor
for creating a record with partition, key and value pairs using the following<span
style='letter-spacing:-.7pt'> </span>signature.</p>

<p class=MsoBodyText style='margin-top:.1pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=40 src="Apache-Kafka-Labs-Web_files/image050.png"
  alt="Text Box: public ProducerRecord (string topic, int partition, k key, v value)"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoListParagraph style='margin-top:4.55pt'><span style='font-size:
10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Topic - user defined topic name
that will appended to<span style='letter-spacing:-.35pt'> </span>record.</span></p>

<p class=MsoListParagraph style='margin-top:.85pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Partition - partition<span
style='letter-spacing:-.05pt'> </span>count.</span></p>

<p class=MsoListParagraph style='margin-top:.95pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Key - The key that will be
included in the<span style='letter-spacing:-.1pt'> </span>record.</span></p>

<p class=MsoListParagraph style='margin-top:.7pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Value - Record<span
style='letter-spacing:-.15pt'> </span>contents.</span></p>

<p class=MsoBodyText style='margin-top:.3pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=40 src="Apache-Kafka-Labs-Web_files/image051.png"
  alt="Text Box: public ProducerRecord (string topic, k key, v value)"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'>ProducerRecord
class constructor is used to create a record with key, value pairs and without
partition.</p>

<p class=MsoListParagraph style='margin-top:8.05pt'><span style='font-size:
10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Topic - Create a topic to assign<span
style='letter-spacing:-.3pt'> </span>record.</span></p>

<p class=MsoListParagraph style='margin-top:6.0pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Key - key for the<span
style='letter-spacing:-.15pt'> </span>record.</span></p>

<p class=MsoListParagraph style='margin-top:6.05pt'><span style='font-size:
10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Value - record<span
style='letter-spacing:-.05pt'> </span>contents.</span></p>

<p class=MsoBodyText style='margin-top:.45pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=40 src="Apache-Kafka-Labs-Web_files/image052.png"
  alt="Text Box: public ProducerRecord (string topic, v value)"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:4.45pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>ProducerRecord class creates a
record without partition and key.</p>

<p class=MsoListParagraph style='margin-top:8.95pt'><span style='font-size:
10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Topic - create a<span
style='letter-spacing:-.25pt'> </span>topic.</span></p>

<p class=MsoListParagraph style='margin-top:6.0pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Value - record<span
style='letter-spacing:-.05pt'> </span>contents.</span></p>

</div>

<span style='font-size:10.0pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection23>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.3pt'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:5.0pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>The ProducerRecord class methods
are listed in the following table:</p>

<p class=MsoBodyText style='margin-top:.5pt;margin-right:0in;margin-bottom:
.05pt;margin-left:0in'><span style='font-size:7.0pt'>&nbsp;</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:56.6pt;border-collapse:collapse;border:none'>
 <tr style='height:29.15pt'>
  <td width=154 valign=top style='width:117.0pt;border:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:29.15pt'>
  <p class=TableParagraph style='margin-top:3.85pt'><span style='font-size:
  10.0pt'>public string topic()</span></p>
  </td>
  <td width=477 valign=top style='width:364.65pt;border:solid black 1.0pt;
  border-left:none;padding:0in 0in 0in 0in;height:29.15pt'>
  <p class=TableParagraph style='margin-top:3.85pt'><span style='font-size:
  10.0pt'>Topic will append to the record.</span></p>
  </td>
 </tr>
 <tr style='height:42.2pt'>
  <td width=154 valign=top style='width:117.0pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:42.2pt'>
  <p class=TableParagraph style='margin-top:3.85pt'><span style='font-size:
  10.0pt'>public K key()</span></p>
  </td>
  <td width=477 valign=top style='width:364.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:42.2pt'>
  <p class=TableParagraph style='margin-top:3.95pt;line-height:106%'><span
  style='font-size:10.0pt;line-height:106%'>Key that will be included in the
  record. If no such key, null will be re- turned here.</span></p>
  </td>
 </tr>
 <tr style='height:29.0pt'>
  <td width=154 valign=top style='width:117.0pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:29.0pt'>
  <p class=TableParagraph style='margin-top:3.85pt'><span style='font-size:
  10.0pt'>public V value()</span></p>
  </td>
  <td width=477 valign=top style='width:364.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:29.0pt'>
  <p class=TableParagraph style='margin-top:3.85pt'><span style='font-size:
  10.0pt'>Record contents.</span></p>
  </td>
 </tr>
 <tr style='height:29.15pt'>
  <td width=154 valign=top style='width:117.0pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:29.15pt'>
  <p class=TableParagraph style='margin-top:3.95pt'><span style='font-size:
  10.0pt'>partition()</span></p>
  </td>
  <td width=477 valign=top style='width:364.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:29.15pt'>
  <p class=TableParagraph style='margin-top:3.95pt'><span style='font-size:
  10.0pt'>Partition count for the record</span></p>
  </td>
 </tr>
</table>

<p class=MsoBodyText style='margin-top:.1pt'><span style='font-size:14.5pt'>&nbsp;</span></p>

<h1 style='margin-top:0in'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark31"></a>SimpleProducer application</h1>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:56.45pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>Before creating the application, first start ZooKeeper and Kafka broker
then create your own topic in Kafka broker using create topic command. After
that create a java class named “Sim- pleProducer.java” and type in the
following coding.</p>

<p class=MsoBodyText style='margin-top:.55pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=561 src="Apache-Kafka-Labs-Web_files/image053.png"
  alt="Text Box: import  java.util.Properties;&#13;&#10;//import util.properties packages&#13;&#10;import org.apache.kafka.clients.producer.Producer;&#13;&#10;//import simple producer packages&#13;&#10;import org.apache.kafka.clients.producer.KafkaProducer;&#13;&#10;//import KafkaProducer packages&#13;&#10;import  org.apache.kafka.clients.producer.ProducerRecord;&#13;&#10;//import ProducerRecord packages public class SimpleProducer {&#13;&#10;//Create  java  class  named  “SimpleProducer”&#13;&#10;public  static  void  main(String[]  args)  throws  Exception  { if(args.length  ==  0)&#13;&#10;//  Check  arguments  length  value&#13;&#10;{&#13;&#10;System.out.println(&quot;Enter  topic  name”); return;&#13;&#10;}&#13;&#10;String  topicName  =  args[0].toString();&#13;&#10;//Assign  topicName  to  string  variable&#13;&#10;&#13;&#10;&#13;&#10;Properties  props  =  new  Properties();&#13;&#10;//  create  instance  for  properties  to  access  producer  configs&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

</div>

<span style='font-size:4.5pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection24>

<p class=MsoBodyText><span style='position:absolute;z-index:-1895776256;
margin-left:74px;margin-top:119px;width:645px;height:866px'><img width=645
height=866 src="Apache-Kafka-Labs-Web_files/image054.png"></span></p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.45pt'><span style='font-size:12.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:3.0pt;margin-right:0in;margin-bottom:
0in;margin-left:151.9pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>p</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>o</span><span style='font-family:"Arial",sans-serif'>p</span><span
style='font-family:"Arial",sans-serif'>s</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>.</span><span style='font-family:"Arial",sans-serif'>pu</span><span
style='font-family:"Arial",sans-serif'>t</span><span style='font-family:"Arial",sans-serif'>(</span><span
style='font-family:"Arial",sans-serif'>&quot;</span><span style='font-family:
"Arial",sans-serif'>bo<span style='letter-spacing:-.1pt'>o</span></span><span
style='font-family:"Arial",sans-serif'>t</span><span style='font-family:"Arial",sans-serif'>s</span><span
style='font-family:"Arial",sans-serif'>t</span><span style='font-family:"Arial",sans-serif'>r</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>a</span><span
style='font-family:"Arial",sans-serif'>p</span><span style='font-family:"Arial",sans-serif'>.</span><span
style='font-family:"Arial",sans-serif'>s</span><span style='font-family:"Arial",sans-serif'>e</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>v</span><span style='font-family:"Arial",sans-serif'>e</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>s</span><span style='font-family:"Arial",sans-serif'>&quot;</span><span
style='font-family:"Arial",sans-serif'>,</span><span style='font-family:"Arial",sans-serif'>
<span style='letter-spacing:.3pt'> </span>“loc<span style='letter-spacing:-.1pt'>a</span>lhos<span
style='letter-spacing:-.1pt'>t</span>:9092<span style='letter-spacing:-.1pt'>&quot;</span>);</span></p>

<p class=MsoBodyText style='margin-top:7.25pt;margin-right:0in;margin-bottom:
0in;margin-left:151.9pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>//</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>A</span><span
style='font-family:"Arial",sans-serif'>ss</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>i</span><span style='font-family:"Arial",sans-serif'>gn</span><span
style='font-family:"Arial",sans-serif'> <span style='letter-spacing:-.05pt'> </span>loca<span
style='letter-spacing:-.1pt'>l</span>host <span style='letter-spacing:-.15pt'> </span>id</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.35pt'><span style='font-size:12.0pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.05pt;margin-right:0in;margin-bottom:
0in;margin-left:151.9pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>p</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>o</span><span style='font-family:"Arial",sans-serif'>p</span><span
style='font-family:"Arial",sans-serif'>s</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>.</span><span style='font-family:"Arial",sans-serif'>pu</span><span
style='font-family:"Arial",sans-serif'>t</span><span style='font-family:"Arial",sans-serif'>(</span><span
style='font-family:"Arial",sans-serif'>&quot;</span><span style='font-family:
"Arial",sans-serif'>a</span><span style='font-family:"Arial",sans-serif'>c<span
style='letter-spacing:-.1pt'>k</span>s</span><span style='font-family:"Arial",sans-serif'>&quot;</span><span
style='font-family:"Arial",sans-serif'>,</span><span style='font-family:"Arial",sans-serif'>
<span style='letter-spacing:-.05pt'> </span><span style='letter-spacing:-.1pt'>“</span>all&quot;);</span></p>

<p class=MsoBodyText style='margin-top:.1in;margin-right:0in;margin-bottom:
0in;margin-left:151.9pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>//</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>S</span><span
style='font-family:"Arial",sans-serif'>e</span><span style='font-family:"Arial",sans-serif'>t</span><span
style='font-family:"Arial",sans-serif'> <span style='letter-spacing:-.15pt'> </span>acknowl<span
style='letter-spacing:-.1pt'>e</span>dgem<span style='letter-spacing:-.1pt'>e</span>nts
<span style='letter-spacing:-.05pt'> </span>f<span style='letter-spacing:-.1pt'>o</span>r
<span style='letter-spacing:-.05pt'> </span><span style='letter-spacing:-.1pt'>p</span>roducer
<span style='letter-spacing:-.15pt'> </span>requ<span style='letter-spacing:
-.1pt'>e</span>sts.</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.45pt'><span style='font-size:12.0pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-left:151.9pt'><span style='font-family:"Arial",sans-serif'>p</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>o</span><span style='font-family:"Arial",sans-serif'>p</span><span
style='font-family:"Arial",sans-serif'>s</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>.</span><span style='font-family:"Arial",sans-serif'>pu</span><span
style='font-family:"Arial",sans-serif'>t</span><span style='font-family:"Arial",sans-serif'>(</span><span
style='font-family:"Arial",sans-serif'>&quot;</span><span style='font-family:
"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif'>e</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>t</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif'>i</span><span
style='font-family:"Arial",sans-serif'>e</span><span style='font-family:"Arial",sans-serif'>s</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>&quot;</span><span
style='font-family:"Arial",sans-serif'>,</span><span style='font-family:"Arial",sans-serif'>
<span style='letter-spacing:-.05pt'> </span>0);</span></p>

<p class=MsoBodyText style='margin-top:.1in;margin-right:0in;margin-bottom:
0in;margin-left:151.9pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>//<span
style='letter-spacing:-.1pt'>I</span>f</span><span style='font-family:"Arial",sans-serif'>
<span style='letter-spacing:-.05pt'> </span><span style='letter-spacing:-.1pt'>t</span>he
<span style='letter-spacing:-.05pt'> </span>requ<span style='letter-spacing:
-.1pt'>e</span>st <span style='letter-spacing:-.05pt'> </span>f<span
style='letter-spacing:-.1pt'>a</span>ils, <span style='letter-spacing:-.05pt'> </span><span
style='letter-spacing:-.1pt'>t</span>he <span style='letter-spacing:-.15pt'> </span>producer
<span style='letter-spacing:-.15pt'> </span>can <span style='letter-spacing:
-.15pt'> </span>autom<span style='letter-spacing:-.1pt'>a</span>ti<span
style='letter-spacing:-.1pt'>c</span>ally <span style='letter-spacing:-.05pt'> </span>re<span
style='letter-spacing:-.1pt'>t</span>ry,</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.4pt'><span style='font-size:12.0pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-left:151.9pt'><span style='font-family:"Arial",sans-serif'>p</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>o</span><span style='font-family:"Arial",sans-serif'>p</span><span
style='font-family:"Arial",sans-serif'>s</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>.</span><span style='font-family:"Arial",sans-serif'>pu</span><span
style='font-family:"Arial",sans-serif'>t</span><span style='font-family:"Arial",sans-serif'>(</span><span
style='font-family:"Arial",sans-serif'>&quot;</span><span style='font-family:
"Arial",sans-serif'>ba</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>t</span><span style='font-family:"Arial",sans-serif'>c</span><span
style='font-family:"Arial",sans-serif'>h</span><span style='font-family:"Arial",sans-serif'>.</span><span
style='font-family:"Arial",sans-serif'>s</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>i</span><span style='font-family:"Arial",sans-serif'>z</span><span
style='font-family:"Arial",sans-serif'>e</span><span style='font-family:"Arial",sans-serif'>&quot;</span><span
style='font-family:"Arial",sans-serif'>,</span><span style='font-family:"Arial",sans-serif'>
<span style='letter-spacing:-.05pt'> </span><span style='letter-spacing:-.1pt'>1</span>63<span
style='letter-spacing:-.1pt'>8</span>4);</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:0in;margin-bottom:
0in;margin-left:151.9pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>//</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>S</span><span
style='font-family:"Arial",sans-serif'>pe</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>c</span><span style='font-family:"Arial",sans-serif'>i</span><span
style='font-family:"Arial",sans-serif'>f</span><span style='font-family:"Arial",sans-serif'>y</span><span
style='font-family:"Arial",sans-serif'> <span style='letter-spacing:-.05pt'> </span>buf<span
style='letter-spacing:-.1pt'>f</span>er <span style='letter-spacing:-.05pt'> </span>s<span
style='letter-spacing:-.1pt'>i</span>ze <span style='letter-spacing:-.05pt'> </span>in
<span style='letter-spacing:-.15pt'> </span>co<span style='letter-spacing:-.1pt'>n</span>fig</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.5pt'><span style='font-size:12.0pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.05pt;margin-right:0in;margin-bottom:
0in;margin-left:151.9pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>p</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>o</span><span style='font-family:"Arial",sans-serif'>p</span><span
style='font-family:"Arial",sans-serif'>s</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>.</span><span style='font-family:"Arial",sans-serif'>pu</span><span
style='font-family:"Arial",sans-serif'>t</span><span style='font-family:"Arial",sans-serif'>(</span><span
style='font-family:"Arial",sans-serif'>&quot;</span><span style='font-family:
"Arial",sans-serif'>li</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>n</span><span style='font-family:"Arial",sans-serif'>ge</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif'>.</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>m</span><span
style='font-family:"Arial",sans-serif'>s</span><span style='font-family:"Arial",sans-serif'>&quot;</span><span
style='font-family:"Arial",sans-serif'>,</span><span style='font-family:"Arial",sans-serif'>
<span style='letter-spacing:-.05pt'> </span>1<span style='letter-spacing:-.1pt'>)</span>;</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:0in;margin-bottom:
0in;margin-left:151.9pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>//</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>R</span><span
style='font-family:"Arial",sans-serif'>ed<span style='letter-spacing:-.1pt'>u</span></span><span
style='font-family:"Arial",sans-serif'>c</span><span style='font-family:"Arial",sans-serif'>e</span><span
style='font-family:"Arial",sans-serif'> <span style='letter-spacing:-.05pt'> </span>the
<span style='letter-spacing:-.05pt'> </span><span style='letter-spacing:-.1pt'>n</span>o
<span style='letter-spacing:-.05pt'> </span>of <span style='letter-spacing:
-.15pt'> </span>reque<span style='letter-spacing:-.1pt'>s</span>ts <span
style='letter-spacing:-.15pt'> </span>less <span style='letter-spacing:-.05pt'> </span>th<span
style='letter-spacing:-.1pt'>a</span>n <span style='letter-spacing:-.05pt'> </span>0</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.5pt'><span style='font-size:12.0pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.05pt;margin-right:0in;margin-bottom:
0in;margin-left:151.9pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>p</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>o</span><span style='font-family:"Arial",sans-serif'>p</span><span
style='font-family:"Arial",sans-serif'>s</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>.</span><span style='font-family:"Arial",sans-serif'>pu</span><span
style='font-family:"Arial",sans-serif'>t</span><span style='font-family:"Arial",sans-serif'>(</span><span
style='font-family:"Arial",sans-serif'>&quot;</span><span style='font-family:
"Arial",sans-serif'>bu</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>f</span><span style='font-family:"Arial",sans-serif'>f</span><span
style='font-family:"Arial",sans-serif'>e</span><span style='font-family:"Arial",sans-serif'>r</span><span
style='font-family:"Arial",sans-serif'>.</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>m</span><span style='font-family:"Arial",sans-serif'>e</span><span
style='font-family:"Arial",sans-serif'>m</span><span style='font-family:"Arial",sans-serif'>o</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif'>y</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>&quot;</span><span
style='font-family:"Arial",sans-serif'>,</span><span style='font-family:"Arial",sans-serif'>
<span style='letter-spacing:-.05pt'> </span><span style='letter-spacing:-.1pt'>3</span>3554432<span
style='letter-spacing:-.1pt'>)</span>;</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:56.55pt;margin-bottom:
0in;margin-left:63.85pt;margin-bottom:.0001pt;text-indent:88.05pt;line-height:
110%'><span style='font-family:"Arial",sans-serif'>//</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>T</span><span
style='font-family:"Arial",sans-serif'>he</span><span style='font-family:"Arial",sans-serif'>
<span style='letter-spacing:-.15pt'> </span>buffer.<span style='letter-spacing:
-.1pt'>m</span>emory <span style='letter-spacing:-.15pt'> </span>cont<span
style='letter-spacing:-.1pt'>r</span>ols <span style='letter-spacing:-.15pt'> </span>the
<span style='letter-spacing:-.05pt'> </span>to<span style='letter-spacing:-.1pt'>t</span>al
<span style='letter-spacing:-.05pt'> </span>a<span style='letter-spacing:-.1pt'>m</span>ount
<span style='letter-spacing:-.05pt'> </span><span style='letter-spacing:-.1pt'>o</span>f
<span style='letter-spacing:-.05pt'> </span><span style='letter-spacing:-.1pt'>m</span>emory
<span style='letter-spacing:-.05pt'> </span>a<span style='letter-spacing:-.1pt'>v</span>aila<span
style='letter-spacing:-.1pt'>b</span>le <span style='letter-spacing:-.05pt'> </span>to
the  pro<span style='letter-spacing:-.1pt'>d</span>ucer <span style='letter-spacing:
-.15pt'> </span>for <span style='letter-spacing:-.05pt'> </span>b<span
style='letter-spacing:-.1pt'>u</span>ff<span style='letter-spacing:-.1pt'>e</span>ring.</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.2pt'><span style='font-size:11.0pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-left:63.85pt;text-indent:88.05pt;line-height:
110%'><span style='font-family:"Arial",sans-serif'>p</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>o</span><span style='font-family:"Arial",sans-serif'>p</span><span
style='font-family:"Arial",sans-serif'>s</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>.</span><span style='font-family:"Arial",sans-serif'>pu</span><span
style='font-family:"Arial",sans-serif'>t</span><span style='font-family:"Arial",sans-serif'>(</span><span
style='font-family:"Arial",sans-serif'>&quot;</span><span style='font-family:
"Arial",sans-serif'>k</span><span style='font-family:"Arial",sans-serif'>e</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>y</span><span
style='font-family:"Arial",sans-serif'>.</span><span style='font-family:"Arial",sans-serif'>s</span><span
style='font-family:"Arial",sans-serif'>e</span><span style='font-family:"Arial",sans-serif'>r</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>i</span><span
style='font-family:"Arial",sans-serif'>a</span><span style='font-family:"Arial",sans-serif'>li</span><span
style='font-family:"Arial",sans-serif'>z</span><span style='font-family:"Arial",sans-serif'>e</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>r</span><span
style='font-family:"Arial",sans-serif'>&quot;</span><span style='font-family:
"Arial",sans-serif'>,</span><span style='font-family:"Arial",sans-serif'> <span
style='letter-spacing:-.15pt'> </span>&quot;org.ap<span style='letter-spacing:
-.1pt'>a</span>che.<span style='letter-spacing:-.1pt'>k</span>afka.<span
style='letter-spacing:-.1pt'>c</span>om<span style='letter-spacing:-.1pt'>m</span>on.seri<span
style='letter-spacing:-.1pt'>a</span>liza- tion.StringSerializer&quot;);</span></p>

<p class=MsoBodyText style='margin-top:6.05pt;margin-right:0in;margin-bottom:
0in;margin-left:63.85pt;margin-bottom:.0001pt;text-indent:88.05pt;line-height:
110%'><span style='font-family:"Arial",sans-serif'>p</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>o</span><span style='font-family:"Arial",sans-serif'>p</span><span
style='font-family:"Arial",sans-serif'>s</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>.</span><span style='font-family:"Arial",sans-serif'>pu</span><span
style='font-family:"Arial",sans-serif'>t</span><span style='font-family:"Arial",sans-serif'>(</span><span
style='font-family:"Arial",sans-serif'>&quot;</span><span style='font-family:
"Arial",sans-serif'>v</span><span style='font-family:"Arial",sans-serif'>a</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>l</span><span
style='font-family:"Arial",sans-serif'>ue</span><span style='font-family:"Arial",sans-serif'>.</span><span
style='font-family:"Arial",sans-serif'>s</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>e</span><span style='font-family:"Arial",sans-serif'>r</span><span
style='font-family:"Arial",sans-serif'>i</span><span style='font-family:"Arial",sans-serif'>a</span><span
style='font-family:"Arial",sans-serif'>li</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>z</span><span style='font-family:"Arial",sans-serif'>e</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>&quot;</span><span style='font-family:"Arial",sans-serif'>,</span><span
style='font-family:"Arial",sans-serif'> <span style='letter-spacing:-.05pt'> </span>&quot;org.<span
style='letter-spacing:-.1pt'>a</span>pach<span style='letter-spacing:-.1pt'>e</span>.kafk<span
style='letter-spacing:-.1pt'>a</span>.c<span style='letter-spacing:-.1pt'>o</span>mmon.se<span
style='letter-spacing:-.1pt'>r</span>iali<span style='letter-spacing:-.1pt'>z</span>a-
tion.StringSerializer&quot;);</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.35pt'><span style='font-size:8.5pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:3.0pt;margin-right:0in;margin-bottom:
0in;margin-left:151.9pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>P</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>o</span><span style='font-family:"Arial",sans-serif'>du</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>c</span><span
style='font-family:"Arial",sans-serif'>e</span><span style='font-family:"Arial",sans-serif'>r</span><span
style='font-family:"Arial",sans-serif'>&lt;</span><span style='font-family:
"Arial",sans-serif'>S</span><span style='font-family:"Arial",sans-serif'>t</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif'>i</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>n</span><span
style='font-family:"Arial",sans-serif'>g</span><span style='font-family:"Arial",sans-serif'>,</span><span
style='font-family:"Arial",sans-serif'> <span style='letter-spacing:.15pt'> </span>S<span
style='letter-spacing:-.1pt'>t</span>ring&gt; <span style='letter-spacing:-.15pt'> </span>pr<span
style='letter-spacing:-.1pt'>o</span>ducer <span style='letter-spacing:-.05pt'> </span>=
<span style='letter-spacing:-.15pt'> </span>new <span style='letter-spacing:
-.05pt'> </span><span style='letter-spacing:-.1pt'>K</span>afkaP<span
style='letter-spacing:-.1pt'>r</span>od<span style='letter-spacing:-.1pt'>u</span>cer&lt;Str<span
style='letter-spacing:-.1pt'>i</span>ng,</span></p>

<p class=MsoBodyText style='margin-top:1.1pt;margin-right:0in;margin-bottom:
0in;margin-left:63.85pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>String&gt;(props);</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.4pt'><span style='font-size:9.5pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:3.0pt;margin-right:0in;margin-bottom:
0in;margin-left:151.9pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>f</span><span
style='font-family:"Arial",sans-serif'>o</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>r</span><span style='font-family:"Arial",sans-serif'>(</span><span
style='font-family:"Arial",sans-serif'>i</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>n</span><span style='font-family:"Arial",sans-serif'>t</span><span
style='font-family:"Arial",sans-serif'> <span style='letter-spacing:-.05pt'> </span>i
<span style='letter-spacing:-.05pt'> </span>= <span style='letter-spacing:-.05pt'> </span>0;
<span style='letter-spacing:-.15pt'> </span>i <span style='letter-spacing:-.05pt'> </span>&lt;
<span style='letter-spacing:-.15pt'> </span>10; <span style='letter-spacing:
-.05pt'> </span>i<span style='letter-spacing:-.1pt'>+</span>+)</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:0in;margin-bottom:
0in;margin-left:63.85pt;margin-bottom:.0001pt;text-indent:132.0pt;line-height:
110%'><span style='font-family:"Arial",sans-serif'>p</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif'>odu</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>c</span><span
style='font-family:"Arial",sans-serif'>e</span><span style='font-family:"Arial",sans-serif'>r</span><span
style='font-family:"Arial",sans-serif'>.</span><span style='font-family:"Arial",sans-serif'>s</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>e</span><span
style='font-family:"Arial",sans-serif'>nd</span><span style='font-family:"Arial",sans-serif'>(</span><span
style='font-family:"Arial",sans-serif'>ne</span><span style='font-family:"Arial",sans-serif'>w</span><span
style='font-family:"Arial",sans-serif'> <span style='letter-spacing:-.15pt'> </span>P<span
style='letter-spacing:-.1pt'>r</span>oducerR<span style='letter-spacing:-.1pt'>e</span>cord<span
style='letter-spacing:-.1pt'>&lt;</span>Strin<span style='letter-spacing:-.1pt'>g</span>,
<span style='letter-spacing:-.05pt'> </span><span style='letter-spacing:-.1pt'>S</span>tring&gt;(<span
style='letter-spacing:-.1pt'>t</span>opic<span style='letter-spacing:-.1pt'>N</span>ame,
Integer.toString(i),<span style='letter-spacing:2.25pt'> </span>Integer.toString(i)));</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.35pt'><span style='font-size:8.5pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:3.0pt;margin-right:110.0pt;margin-bottom:
0in;margin-left:151.9pt;margin-bottom:.0001pt;line-height:161%'><span
style='font-family:"Arial",sans-serif'>S</span><span style='font-family:"Arial",sans-serif'>y<span
style='letter-spacing:-.1pt'>s</span></span><span style='font-family:"Arial",sans-serif;
letter-spacing:.05pt'>t</span><span style='font-family:"Arial",sans-serif'>e</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>m</span><span
style='font-family:"Arial",sans-serif'>.</span><span style='font-family:"Arial",sans-serif'>ou</span><span
style='font-family:"Arial",sans-serif'>t.</span><span style='font-family:"Arial",sans-serif'>p</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>i</span><span style='font-family:"Arial",sans-serif'>n</span><span
style='font-family:"Arial",sans-serif'>t</span><span style='font-family:"Arial",sans-serif'>l</span><span
style='font-family:"Arial",sans-serif'>n</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>(</span><span style='font-family:"Arial",sans-serif;
letter-spacing:.2pt'>“</span><span style='font-family:"Arial",sans-serif'>M</span><span
style='font-family:"Arial",sans-serif'>e</span><span style='font-family:"Arial",sans-serif'>ss</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>a</span><span
style='font-family:"Arial",sans-serif'>ge</span><span style='font-family:"Arial",sans-serif'>
<span style='letter-spacing:-.15pt'> </span>sent <span style='letter-spacing:
-.05pt'> </span>su<span style='letter-spacing:-.1pt'>c</span>cess<span
style='letter-spacing:-.1pt'>f</span>ull<span style='letter-spacing:.3pt'>y</span>”<span
style='letter-spacing:-.1pt'>)</span>; pr<span style='letter-spacing:-.1pt'>o</span>du<span
style='letter-spacing:-.1pt'>c</span>er.clos<span style='letter-spacing:-.1pt'>e</span>();</span></p>

<p class=MsoBodyText style='margin-left:107.9pt;line-height:11.45pt'><span
style='font-family:"Arial",sans-serif'>}</span></p>

<p class=MsoBodyText style='margin-top:7.25pt;margin-right:0in;margin-bottom:
0in;margin-left:63.85pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>}</span></p>

<p class=MsoBodyText style='margin-top:.15pt'><span style='font-size:7.5pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:4.95pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'><b>Compilation – </b>The
application can be compiled using the following command.</p>

</div>

<span style='font-size:11.0pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection25>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.5pt'><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-left:55.9pt'><img width=650 height=40
src="Apache-Kafka-Labs-Web_files/image055.png"
alt="Text Box: javac  -cp  “/path/to/kafka/kafka_2.11-0.9.0.0/lib/*”  *.java"></p>

<p class=MsoBodyText style='margin-top:4.05pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'><b>Execution – </b>The
application can be executed using the following command.</p>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=40 src="Apache-Kafka-Labs-Web_files/image056.png"
  alt="Text Box: java  -cp  “/path/to/kafka/kafka_2.11-0.9.0.0/lib/*”:.  SimpleProducer	&lt;topic-name&gt;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<h3>Output</h3>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=397 src="Apache-Kafka-Labs-Web_files/image057.png"
  alt="Text Box: Message sent successfully&#13;&#10;To  check  the  above  output  open  new  terminal  and  type  Consumer  CLI  command  to  receive messages.&#13;&#10;&gt;&gt;  bin/kafka-console-consumer.sh  --zookeeper  localhost:2181  —topic  &lt;topic-name&gt;  — from-beginning&#13;&#10;&#13;&#10;&#13;&#10;1&#13;&#10;2&#13;&#10;3&#13;&#10;4&#13;&#10;5&#13;&#10;6&#13;&#10;7&#13;&#10;8&#13;&#10;9&#13;&#10;10&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:.3pt'><b><span style='font-size:9.5pt'>&nbsp;</span></b></p>

<h1>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark32"></a>Simple Consumer Example</h1>

<p class=MsoBodyText style='margin-top:4.6pt;margin-right:56.7pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>As of now we have created a producer to send messages to Kafka cluster.
Now let us create a consumer<span style='letter-spacing:-.6pt'> </span>to<span
style='letter-spacing:-.55pt'> </span>consume<span style='letter-spacing:-.4pt'>
</span>messages<span style='letter-spacing:-.65pt'> </span>form<span
style='letter-spacing:-.35pt'> </span>the<span style='letter-spacing:-.5pt'> </span>Kafka<span
style='letter-spacing:-.6pt'> </span>cluster.<span style='letter-spacing:-.5pt'>
</span>KafkaConsumer<span style='letter-spacing:-.55pt'> </span>API<span
style='letter-spacing:-.6pt'> </span>is<span style='letter-spacing:-.65pt'> </span>used<span
style='letter-spacing:-.45pt'> </span>to<span style='letter-spacing:-.55pt'> </span>consume
messages from the Kafka cluster. KafkaConsumer class constructor is defined<span
style='letter-spacing:-.5pt'> </span>below.</p>

<p class=MsoBodyText style='margin-top:.55pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=39 src="Apache-Kafka-Labs-Web_files/image058.png"
  alt="Text Box: public  KafkaConsumer(java.util.Map&lt;java.lang.String,java.lang.Object&gt;  configs)"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoNormal style='margin-top:4.45pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'><b><span style='font-size:10.0pt'>configs
- </span></b><span style='font-size:10.0pt'>Return a map of consumer configs.</span></p>

<p class=MsoBodyText style='margin-top:8.95pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>KafkaConsumer class has the
following significant methods that are listed in the table below.</p>

<p class=MsoBodyText style='margin-top:.55pt'><span style='font-size:7.0pt'>&nbsp;</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:56.6pt;border-collapse:collapse;border:none'>
 <tr style='height:42.25pt'>
  <td width=238 valign=top style='width:180.05pt;border:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:42.25pt'>
  <p class=TableParagraph style='margin-top:4.3pt;margin-right:10.35pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;line-height:108%'><span
  style='font-size:10.0pt;line-height:108%;font-family:"Arial",sans-serif'>public</span><span
  style='font-size:10.0pt;line-height:108%;font-family:"Arial",sans-serif'>  java.util.Set&lt;TopicPar-
  tition&gt; assignment()</span></p>
  </td>
  <td width=393 valign=top style='width:301.65pt;border:solid black 1.0pt;
  border-left:none;padding:0in 0in 0in 0in;height:42.25pt'>
  <p class=TableParagraph style='margin-top:4.1pt;margin-right:3.65pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;line-height:106%'><span
  style='font-size:10.0pt;line-height:106%'>Get the set of partitions currently
  assigned by the con- sumer.</span></p>
  </td>
 </tr>
 <tr style='height:42.2pt'>
  <td width=238 valign=top style='width:180.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:42.2pt'>
  <p class=TableParagraph style='margin-top:.05pt;margin-right:0in;margin-bottom:
  0in;margin-left:0in;margin-bottom:.0001pt'><span style='font-size:8.5pt'>&nbsp;</span></p>
  <p class=TableParagraph><span style='font-size:10.0pt;font-family:"Arial",sans-serif'>public
  string subscription()</span></p>
  </td>
  <td width=393 valign=top style='width:301.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:42.2pt'>
  <p class=TableParagraph style='margin-top:4.1pt;margin-right:3.65pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;line-height:106%'><span
  style='font-size:10.0pt;line-height:106%'>Subscribe to the given list of
  topics to get dynamically as- signed partitions.</span></p>
  </td>
 </tr>
</table>

</div>

<span style='font-size:10.0pt;line-height:106%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection26>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.5pt'><span style='font-size:14.0pt'>&nbsp;</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:56.6pt;border-collapse:collapse;border:none'>
 <tr style='height:66.55pt'>
  <td width=240 valign=top style='width:180.05pt;border:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:66.55pt'>
  <p class=TableParagraph style='margin-top:3.7pt;margin-right:10.35pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;line-height:110%'><span
  style='font-size:10.0pt;line-height:110%;font-family:"Arial",sans-serif'>public
  void sub- scribe(java.util.List&lt;java.lang</span></p>
  <p class=TableParagraph style='margin-right:21.25pt;line-height:108%'><span
  style='font-size:10.0pt;line-height:108%;font-family:"Arial",sans-serif'>.String</span><span
  style='font-size:10.0pt;line-height:108%;font-family:"Arial",sans-serif'>&gt;</span><span
  style='font-size:10.0pt;line-height:108%;font-family:"Arial",sans-serif'>  topics, 
  ConsumerRe- balanceListener listener)</span></p>
  </td>
  <td width=392 valign=top style='width:301.65pt;border:solid black 1.0pt;
  border-left:none;padding:0in 0in 0in 0in;height:66.55pt'>
  <p class=TableParagraph style='margin-top:3.95pt;margin-right:3.9pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;text-align:justify;
  line-height:107%'><span style='font-size:10.0pt;line-height:107%'>First
  argument topics refers to subscribing topics list and second<span
  style='letter-spacing:-.8pt'> </span>argument<span style='letter-spacing:
  -.8pt'> </span>listener<span style='letter-spacing:-.85pt'> </span>refers<span
  style='letter-spacing:-.85pt'> </span>to<span style='letter-spacing:-.8pt'> </span>get<span
  style='letter-spacing:-.8pt'> </span>notifications<span style='letter-spacing:
  -.85pt'> </span>on<span style='letter-spacing:-.75pt'> </span>par- tition
  assignment/revocation for the subscribed<span style='letter-spacing:-.6pt'> </span>topics.</span></p>
  </td>
 </tr>
 <tr style='height:31.15pt'>
  <td width=240 valign=top style='width:180.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:31.15pt'>
  <p class=TableParagraph style='margin-top:4.9pt'><span style='font-size:10.0pt;
  font-family:"Arial",sans-serif'>public void unsubscribe()</span></p>
  </td>
  <td width=392 valign=top style='width:301.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:31.15pt'>
  <p class=TableParagraph style='margin-top:3.85pt'><span style='font-size:
  10.0pt'>Unsubscribe the topics from the given list of partitions.</span></p>
  </td>
 </tr>
 <tr style='height:55.3pt'>
  <td width=240 valign=top style='width:180.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:55.3pt'>
  <p class=TableParagraph style='margin-top:4.5pt;margin-right:10.35pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;line-height:110%'><span
  style='font-size:10.0pt;line-height:110%;font-family:"Arial",sans-serif'>public
  void sub- scribe(java.util.List&lt;java.lang</span></p>
  <p class=TableParagraph style='line-height:11.3pt'><span style='font-size:
  10.0pt;font-family:"Arial",sans-serif'>.String&gt; topics)</span></p>
  </td>
  <td width=392 valign=top style='width:301.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:55.3pt'>
  <p class=TableParagraph style='margin-top:4.1pt;margin-right:3.85pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;text-align:justify;
  line-height:106%'><span style='font-size:10.0pt;line-height:106%'>Subscribe
  to the given list of topics to get dynamically as- signed partitions. If the
  given list of topics is empty, it is treated the same as unsubscribe().</span></p>
  </td>
 </tr>
 <tr style='height:66.55pt'>
  <td width=240 valign=top style='width:180.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:66.55pt'>
  <p class=TableParagraph style='margin-top:3.8pt;margin-right:10.35pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;line-height:110%'><span
  style='font-size:10.0pt;line-height:110%;font-family:"Arial",sans-serif'>public
  void sub- scribe(java.util.regex.Pattern </span><span style='font-size:10.0pt;
  line-height:110%;font-family:"Arial",sans-serif'>pattern,
  ConsumerRebalanceLis- </span><span style='font-size:10.0pt;line-height:110%;
  font-family:"Arial",sans-serif'>tener</span><span style='font-size:10.0pt;
  line-height:110%;font-family:"Arial",sans-serif'>  listener)</span></p>
  </td>
  <td width=392 valign=top style='width:301.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:66.55pt'>
  <p class=TableParagraph style='margin-top:4.1pt;margin-right:3.85pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;text-align:justify;
  line-height:106%'><span style='font-size:10.0pt;line-height:106%'>The
  argument pattern refers to the subscribing pattern in the<span
  style='letter-spacing:-.8pt'> </span>format<span style='letter-spacing:-.55pt'>
  </span>of<span style='letter-spacing:-.65pt'> </span>regular<span
  style='letter-spacing:-.75pt'> </span>expression<span style='letter-spacing:
  -.65pt'> </span>and<span style='letter-spacing:-.45pt'> </span>the<span
  style='letter-spacing:-.8pt'> </span>listener<span style='letter-spacing:
  -.75pt'> </span>argument gets notifications from the subscribing<span
  style='letter-spacing:-.45pt'> </span>pattern.</span></p>
  </td>
 </tr>
 <tr style='height:53.85pt'>
  <td width=240 valign=top style='width:180.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:53.85pt'>
  <p class=TableParagraph style='margin-top:3.7pt;margin-right:5.1pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;line-height:110%'><span
  style='font-size:10.0pt;line-height:110%;font-family:"Arial",sans-serif'>public
  void as- sign(java.util.List&lt;TopicParti- </span><span style='font-size:
  10.0pt;line-height:110%;font-family:"Arial",sans-serif'>tion&gt;</span><span
  style='font-size:10.0pt;line-height:110%;font-family:"Arial",sans-serif'>  partitions)</span></p>
  </td>
  <td width=392 valign=top style='width:301.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:53.85pt'>
  <p class=TableParagraph style='margin-top:3.85pt'><span style='font-size:
  10.0pt'>Manually assign a list of partitions to the customer.</span></p>
  </td>
 </tr>
 <tr style='height:55.45pt'>
  <td width=240 valign=top style='width:180.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:55.45pt'>
  <p class=TableParagraph style='margin-left:0in'><span style='font-size:14.0pt'>&nbsp;</span></p>
  <p class=TableParagraph><span style='font-size:10.0pt;font-family:"Arial",sans-serif'>poll()</span></p>
  </td>
  <td width=392 valign=top style='width:301.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:55.45pt'>
  <p class=TableParagraph style='margin-top:4.1pt;margin-right:3.7pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;text-align:justify;
  line-height:106%'><span style='font-size:10.0pt;line-height:106%'>Fetch data
  for the topics or partitions specified using one of the subscribe/assign
  APIs. This will return error, if the topics are not subscribed before the
  polling for data.</span></p>
  </td>
 </tr>
 <tr style='height:55.3pt'>
  <td width=240 valign=top style='width:180.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:55.3pt'>
  <p class=TableParagraph style='margin-top:.45pt;margin-right:0in;margin-bottom:
  0in;margin-left:0in;margin-bottom:.0001pt'><span style='font-size:13.5pt'>&nbsp;</span></p>
  <p class=TableParagraph><span style='font-size:10.0pt;font-family:"Arial",sans-serif'>public
  void commitSync()</span></p>
  </td>
  <td width=392 valign=top style='width:301.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:55.3pt'>
  <p class=TableParagraph style='margin-top:3.95pt;margin-right:3.5pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;text-align:justify;
  line-height:107%'><span style='font-size:10.0pt;line-height:107%'>Commit
  offsets returned on the last poll() for all the sub- scribed list of topics
  and partitions. The same operation is applied to commitAsyn().</span></p>
  </td>
 </tr>
 <tr style='height:42.2pt'>
  <td width=240 valign=top style='width:180.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:42.2pt'>
  <p class=TableParagraph style='margin-top:4.15pt;line-height:110%'><span
  style='font-size:10.0pt;line-height:110%;font-family:"Arial",sans-serif'>public
  void seek(TopicPartition </span><span style='font-size:10.0pt;line-height:
  110%;font-family:"Arial",sans-serif'>partition, long offset)</span></p>
  </td>
  <td width=392 valign=top style='width:301.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:42.2pt'>
  <p class=TableParagraph style='margin-top:3.95pt;margin-right:3.65pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;line-height:107%'><span
  style='font-size:10.0pt;line-height:107%'>Fetch the current offset value that
  consumer will use on the next poll() method.</span></p>
  </td>
 </tr>
 <tr style='height:31.2pt'>
  <td width=240 valign=top style='width:180.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:31.2pt'>
  <p class=TableParagraph style='margin-top:4.9pt'><span style='font-size:10.0pt;
  font-family:"Arial",sans-serif'>public void resume()</span></p>
  </td>
  <td width=392 valign=top style='width:301.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:31.2pt'>
  <p class=TableParagraph style='margin-top:3.85pt'><span style='font-size:
  10.0pt'>Resume the paused partitions.</span></p>
  </td>
 </tr>
 <tr style='height:29.15pt'>
  <td width=240 valign=top style='width:180.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:29.15pt'>
  <p class=TableParagraph style='margin-top:3.9pt'><span style='font-size:10.0pt;
  font-family:"Arial",sans-serif'>public</span><span style='font-size:10.0pt;
  font-family:"Arial",sans-serif'>  <span style='letter-spacing:-.1pt'>v</span>oid 
  <span style='letter-spacing:-.1pt'>w</span>akeup<span style='letter-spacing:
  -.1pt'>(</span>)</span></p>
  </td>
  <td width=392 valign=top style='width:301.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:29.15pt'>
  <p class=TableParagraph style='margin-top:3.95pt'><span style='font-size:
  10.0pt'>Wakeup the consumer.</span></p>
  </td>
 </tr>
</table>

<p class=MsoBodyText style='margin-top:.55pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<h1>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark33"></a>ConsumerRecordAPI</h1>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:56.5pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>The ConsumerRecord API is used to receive records from the Kafka cluster.
This API consists of a<span style='letter-spacing:-.75pt'> </span>topic<span
style='letter-spacing:-.8pt'> </span>name,<span style='letter-spacing:-.7pt'> </span>partition<span
style='letter-spacing:-.7pt'> </span>number,<span style='letter-spacing:-.7pt'>
</span>from<span style='letter-spacing:-.65pt'> </span>which<span
style='letter-spacing:-.75pt'> </span>the<span style='letter-spacing:-.55pt'> </span>record<span
style='letter-spacing:-.6pt'> </span>is<span style='letter-spacing:-.8pt'> </span>being<span
style='letter-spacing:-.75pt'> </span>received<span style='letter-spacing:-.6pt'>
</span>and<span style='letter-spacing:-.75pt'> </span>an<span style='letter-spacing:
-.7pt'> </span>offset<span style='letter-spacing:-.75pt'> </span>that<span
style='letter-spacing:-.7pt'> </span>points to the record in a Kafka partition.
ConsumerRecord class is used to create a consumer record with specific topic
name, partition count and &lt;key, value&gt; pairs. It has the following<span
style='letter-spacing:-1.85pt'> </span>signature.</p>

<p class=MsoBodyText style='margin-top:.5pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=40 src="Apache-Kafka-Labs-Web_files/image059.png"
  alt="Text Box: public  ConsumerRecord(string  topic,int  partition,  long  offset,K  key,  V  value)"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoListParagraph style='margin-top:4.55pt'><span style='font-size:
10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Topic - The topic name for
consumer record received from the Kafka<span style='letter-spacing:-.35pt'> </span>cluster.</span></p>

<p class=MsoListParagraph style='margin-top:.85pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Partition - Partition for the<span
style='letter-spacing:-.1pt'> </span>topic.</span></p>

<p class=MsoListParagraph style='margin-top:.8pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Key - The key of the record, if no
key exists null will be<span style='letter-spacing:-.35pt'> </span>returned.</span></p>

</div>

<span style='font-size:10.0pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection27>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.3pt'>&nbsp;</p>

<p class=MsoListParagraph style='margin-top:5.0pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Value - Record<span
style='letter-spacing:-.1pt'> </span>contents.</span></p>

<p class=MsoBodyText style='margin-top:.55pt'><span style='font-size:15.0pt'>&nbsp;</span></p>

<h1 style='margin-top:0in'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark34"></a>ConsumerRecords API</h1>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:47.6pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:107%'>ConsumerRecords
API acts as a container for ConsumerRecord. This API is used to keep the list
of ConsumerRecord per partition for a particular topic. Its Constructor is
defined below.</p>

<p class=MsoBodyText>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=56 src="Apache-Kafka-Labs-Web_files/image060.png"
  alt="Text Box: public  ConsumerRecords(java.util.Map&lt;TopicPartition,java.util.List&lt;Consumer- Record&lt;K,V&gt;&gt;&gt; records)"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:.55pt'>&nbsp;</p>

<p class=MsoListParagraph style='margin-top:4.95pt'><span style='font-size:
10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>TopicPartition - Return a map of
partition for a particular<span style='letter-spacing:-.2pt'> </span>topic.</span></p>

<p class=MsoListParagraph style='margin-top:6.0pt;margin-right:239.4pt;
margin-bottom:.35pt;margin-left:56.6pt;text-indent:18.05pt;line-height:171%'><span
style='font-size:10.0pt;line-height:171%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:171%'>Records - Return
list of ConsumerRecord. ConsumerRecords class has the following methods<span
style='letter-spacing:-.8pt'> </span>defined.</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:56.6pt;border-collapse:collapse;border:none'>
 <tr style='height:29.0pt'>
  <td width=182 valign=top style='width:139.6pt;border:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:29.0pt'>
  <p class=TableParagraph style='margin-top:3.85pt'><span style='font-size:
  10.0pt'>public int count()</span></p>
  </td>
  <td width=449 valign=top style='width:347.7pt;border:solid black 1.0pt;
  border-left:none;padding:0in 0in 0in 0in;height:29.0pt'>
  <p class=TableParagraph style='margin-top:3.85pt;margin-right:0in;margin-bottom:
  0in;margin-left:3.95pt;margin-bottom:.0001pt'><span style='font-size:10.0pt'>The
  number of records for all the topics.</span></p>
  </td>
 </tr>
 <tr style='height:42.2pt'>
  <td width=182 valign=top style='width:139.6pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:42.2pt'>
  <p class=TableParagraph style='margin-top:3.95pt'><span style='font-size:
  10.0pt'>public Set partitions()</span></p>
  </td>
  <td width=449 valign=top style='width:347.7pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:42.2pt'>
  <p class=TableParagraph style='margin-top:4.1pt;margin-right:0in;margin-bottom:
  0in;margin-left:3.95pt;margin-bottom:.0001pt;line-height:106%'><span
  style='font-size:10.0pt;line-height:106%'>The set of partitions with data in
  this record set (if no data was returned then the set is empty).</span></p>
  </td>
 </tr>
 <tr style='height:42.25pt'>
  <td width=182 valign=top style='width:139.6pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:42.25pt'>
  <p class=TableParagraph style='margin-top:3.95pt'><span style='font-size:
  10.0pt'>public Iterator iterator()</span></p>
  </td>
  <td width=449 valign=top style='width:347.7pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:42.25pt'>
  <p class=TableParagraph style='margin-top:4.1pt;margin-right:0in;margin-bottom:
  0in;margin-left:3.95pt;margin-bottom:.0001pt;line-height:106%'><span
  style='font-size:10.0pt;line-height:106%'>Iterator enables you to cycle
  through a collection, obtaining or re- moving elements.</span></p>
  </td>
 </tr>
 <tr style='height:29.1pt'>
  <td width=182 valign=top style='width:139.6pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:29.1pt'>
  <p class=TableParagraph style='margin-top:3.95pt'><span style='font-size:
  10.0pt'>public List records()</span></p>
  </td>
  <td width=449 valign=top style='width:347.7pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:29.1pt'>
  <p class=TableParagraph style='margin-top:3.95pt;margin-right:0in;margin-bottom:
  0in;margin-left:3.95pt;margin-bottom:.0001pt'><span style='font-size:10.0pt'>Get
  list of records for the given partition.</span></p>
  </td>
 </tr>
</table>

<p class=MsoBodyText style='margin-top:.1pt'><span style='font-size:14.5pt'>&nbsp;</span></p>

<h1 style='margin-top:0in'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark35"></a>Configuration Settings</h1>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'>The
configuration settings for the Consumer client API main configuration settings
are listed below:</p>

<p class=MsoBodyText style='margin-top:.25pt'><span style='font-size:6.5pt'>&nbsp;</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:56.6pt;border-collapse:collapse;border:none'>
 <tr style='height:29.15pt'>
  <td width=192 valign=top style='width:144.05pt;border:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:29.15pt'>
  <p class=TableParagraph style='margin-top:3.95pt'><span style='font-size:
  10.0pt'>bootstrap.servers</span></p>
  </td>
  <td width=440 valign=top style='width:333.05pt;border:solid black 1.0pt;
  border-left:none;padding:0in 0in 0in 0in;height:29.15pt'>
  <p class=TableParagraph style='margin-top:3.95pt'><span style='font-size:
  10.0pt'>Bootstrapping list of brokers.</span></p>
  </td>
 </tr>
 <tr style='height:29.1pt'>
  <td width=192 valign=top style='width:144.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:29.1pt'>
  <p class=TableParagraph style='margin-top:3.85pt'><span style='font-size:
  10.0pt'>group.id</span></p>
  </td>
  <td width=440 valign=top style='width:333.05pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:29.1pt'>
  <p class=TableParagraph style='margin-top:3.85pt'><span style='font-size:
  10.0pt'>Assigns an individual consumer to a group.</span></p>
  </td>
 </tr>
 <tr style='height:42.2pt'>
  <td width=192 valign=top style='width:144.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:42.2pt'>
  <p class=TableParagraph style='margin-top:10.45pt'><span style='font-size:
  10.0pt'>enable.auto.commit</span></p>
  </td>
  <td width=440 valign=top style='width:333.05pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:42.2pt'>
  <p class=TableParagraph style='margin-top:3.95pt;line-height:106%'><span
  style='font-size:10.0pt;line-height:106%'>Enable auto commit for offsets if
  the value is true, otherwise not committed.</span></p>
  </td>
 </tr>
 <tr style='height:42.2pt'>
  <td width=192 valign=top style='width:144.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:42.2pt'>
  <p class=TableParagraph style='margin-top:10.45pt'><span style='font-size:
  10.0pt'>auto.commit.interval.ms</span></p>
  </td>
  <td width=440 valign=top style='width:333.05pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:42.2pt'>
  <p class=TableParagraph style='margin-top:3.95pt;line-height:106%'><span
  style='font-size:10.0pt;line-height:106%'>Return how often updated consumed
  offsets are written to ZooKeeper.</span></p>
  </td>
 </tr>
 <tr style='height:55.3pt'>
  <td width=192 valign=top style='width:144.05pt;border:solid black 1.0pt;
  border-top:none;padding:0in 0in 0in 0in;height:55.3pt'>
  <p class=TableParagraph style='margin-top:.5pt;margin-right:0in;margin-bottom:
  0in;margin-left:0in;margin-bottom:.0001pt'><span style='font-size:13.5pt'>&nbsp;</span></p>
  <p class=TableParagraph><span style='font-size:10.0pt'>session.timeout.ms</span></p>
  </td>
  <td width=440 valign=top style='width:333.05pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 0in 0in 0in;height:55.3pt'>
  <p class=TableParagraph style='margin-top:3.95pt;margin-right:3.55pt;
  margin-bottom:0in;margin-left:4.05pt;margin-bottom:.0001pt;text-align:justify;
  line-height:107%'><span style='font-size:10.0pt;line-height:107%'>Indicates
  how many milliseconds Kafka will wait for the ZooKeeper to respond to a
  request (read or write) before giving up and continuing to consume messages.</span></p>
  </td>
 </tr>
</table>

</div>

<span style='font-size:10.0pt;line-height:107%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection28>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.2pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<h1>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark36"></a>SimpleConsumerApplication</h1>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:56.7pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>The producer application steps remain the same here. First, start your
ZooKeeper and Kafka broker. Then create a “SimpleConsumer” application with the
java class named “SimpleCon- sumer.java” and type the following code.</p>

<p class=MsoBodyText style='margin-top:.25pt'><span style='font-size:11.5pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:346.25pt;margin-bottom:
0in;margin-left:63.85pt;margin-bottom:.0001pt;line-height:161%'><span
style='position:relative;z-index:-1895775232'><span style='left:0px;position:
absolute;left:74px;top:-9px;width:645px;height:774px'><img width=645
height=774 src="Apache-Kafka-Labs-Web_files/image061.png"></span></span><span
style='font-family:"Arial",sans-serif'>import</span><span style='font-family:
"Arial",sans-serif'>  <span style='letter-spacing:-.1pt'>j</span>ava.<span
style='letter-spacing:-.1pt'>u</span>til.P<span style='letter-spacing:-.1pt'>r</span>op<span
style='letter-spacing:-.1pt'>e</span>rties; import  <span style='letter-spacing:
-.1pt'>j</span>ava.<span style='letter-spacing:-.1pt'>u</span>til.A<span
style='letter-spacing:-.1pt'>r</span>ra<span style='letter-spacing:-.1pt'>y</span>s;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:213.4pt;margin-bottom:
0in;margin-left:63.85pt;margin-bottom:.0001pt;line-height:161%'><span
style='font-family:"Arial",sans-serif'>import</span><span style='font-family:
"Arial",sans-serif'>  org.apache.kafka.clients.consumer.KafkaConsumer; import
org.apache.kafka.clients.consumer.ConsumerRecords; import
org.apache.kafka.clients.consumer.ConsumerRecord; public class SimpleConsumer {</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:110.0pt;margin-bottom:
0in;margin-left:151.9pt;margin-bottom:.0001pt;text-indent:-44.05pt;line-height:
162%'><span style='font-family:"Arial",sans-serif'>pub</span><span
style='font-family:"Arial",sans-serif'>l<span style='letter-spacing:-.1pt'>i</span></span><span
style='font-family:"Arial",sans-serif'>c</span><span style='font-family:"Arial",sans-serif'>
<span style='letter-spacing:-.05pt'> </span>sta<span style='letter-spacing:
-.1pt'>t</span>ic <span style='letter-spacing:-.15pt'> </span>void <span
style='letter-spacing:-.05pt'> </span>ma<span style='letter-spacing:-.1pt'>i</span>n(St<span
style='letter-spacing:-.1pt'>r</span>ing[] <span style='letter-spacing:-.15pt'> </span>ar<span
style='letter-spacing:-.1pt'>g</span>s) <span style='letter-spacing:-.05pt'> </span>thro<span
style='letter-spacing:-.1pt'>w</span>s <span style='letter-spacing:-.05pt'> </span>Ex<span
style='letter-spacing:-.1pt'>c</span>eption <span style='letter-spacing:-.15pt'> </span>{
if<span style='letter-spacing:-.1pt'>(</span>ar<span style='letter-spacing:
-.1pt'>g</span>s.length <span style='letter-spacing:-.15pt'> </span>== <span
style='letter-spacing:-.05pt'> </span><span style='letter-spacing:-.1pt'>0</span>)</span></p>

<p class=MsoBodyText align=center style='margin-right:285.5pt;text-align:center;
line-height:11.35pt'><span style='font-family:"Arial",sans-serif'>{</span></p>

<p class=MsoBodyText style='margin-top:7.05pt;margin-right:149.6pt;margin-bottom:
0in;margin-left:195.85pt;margin-bottom:.0001pt;line-height:162%'><span
style='font-family:"Arial",sans-serif'>S</span><span style='font-family:"Arial",sans-serif'>ys</span><span
style='font-family:"Arial",sans-serif'>t</span><span style='font-family:"Arial",sans-serif'>e</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>m</span><span
style='font-family:"Arial",sans-serif'>.</span><span style='font-family:"Arial",sans-serif'>ou</span><span
style='font-family:"Arial",sans-serif'>t<span style='letter-spacing:-.1pt'>.</span></span><span
style='font-family:"Arial",sans-serif'>p</span><span style='font-family:"Arial",sans-serif'>r</span><span
style='font-family:"Arial",sans-serif'>i</span><span style='font-family:"Arial",sans-serif'>n</span><span
style='font-family:"Arial",sans-serif'>t</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>l</span><span style='font-family:"Arial",sans-serif'>n</span><span
style='font-family:"Arial",sans-serif'>(</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>&quot;</span><span style='font-family:"Arial",sans-serif'>E</span><span
style='font-family:"Arial",sans-serif'>n</span><span style='font-family:"Arial",sans-serif'>t</span><span
style='font-family:"Arial",sans-serif'>e</span><span style='font-family:"Arial",sans-serif'>r</span><span
style='font-family:"Arial",sans-serif'> <span style='letter-spacing:-.05pt'> </span>t<span
style='letter-spacing:-.1pt'>o</span>pic <span style='letter-spacing:-.05pt'> </span><span
style='letter-spacing:-.1pt'>n</span>ame&quot;); retur<span style='letter-spacing:
-.1pt'>n</span>;</span></p>

<p class=MsoBodyText style='margin-left:151.9pt;line-height:11.35pt'><span
style='font-family:"Arial",sans-serif'>}</span></p>

<p class=MsoBodyText style='margin-top:7.15pt;margin-right:213.4pt;margin-bottom:
0in;margin-left:151.9pt;margin-bottom:.0001pt;line-height:162%'><span
style='font-family:"Arial",sans-serif'>S</span><span style='font-family:"Arial",sans-serif'>t</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>r</span><span
style='font-family:"Arial",sans-serif'>i</span><span style='font-family:"Arial",sans-serif'>ng</span><span
style='font-family:"Arial",sans-serif'> <span style='letter-spacing:-.15pt'> </span>topicN<span
style='letter-spacing:-.1pt'>a</span>me <span style='letter-spacing:-.05pt'> </span>=
<span style='letter-spacing:-.15pt'> </span>args[<span style='letter-spacing:
-.1pt'>0</span>].<span style='letter-spacing:-.1pt'>t</span>oString<span
style='letter-spacing:-.1pt'>(</span>); Pr<span style='letter-spacing:-.1pt'>o</span>pe<span
style='letter-spacing:-.1pt'>r</span>ties <span style='letter-spacing:-.05pt'> </span>pr<span
style='letter-spacing:-.1pt'>o</span>ps <span style='letter-spacing:-.05pt'> </span>=
<span style='letter-spacing:-.15pt'> </span>new <span style='letter-spacing:
-.05pt'> </span>P<span style='letter-spacing:-.1pt'>r</span>op<span
style='letter-spacing:-.1pt'>e</span>rties();</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:149.6pt;margin-bottom:
0in;margin-left:151.9pt;margin-bottom:.0001pt;line-height:161%'><span
style='font-family:"Arial",sans-serif'>//</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>K</span><span style='font-family:"Arial",sans-serif'>a</span><span
style='font-family:"Arial",sans-serif'>f</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>k</span><span style='font-family:"Arial",sans-serif'>a</span><span
style='font-family:"Arial",sans-serif'> <span style='letter-spacing:-.05pt'> </span>consu<span
style='letter-spacing:-.1pt'>m</span>er <span style='letter-spacing:-.05pt'> </span>c<span
style='letter-spacing:-.1pt'>o</span>nfigu<span style='letter-spacing:-.1pt'>r</span>at<span
style='letter-spacing:-.1pt'>i</span>on <span style='letter-spacing:-.05pt'> </span>sett<span
style='letter-spacing:-.1pt'>i</span>ngs pr<span style='letter-spacing:-.1pt'>o</span>ps<span
style='letter-spacing:-.1pt'>.</span>put(&quot;bo<span style='letter-spacing:
-.1pt'>o</span>tstr<span style='letter-spacing:-.1pt'>a</span>p.ser<span
style='letter-spacing:-.1pt'>v</span>er<span style='letter-spacing:-.1pt'>s</span>&quot;,
<span style='letter-spacing:-.05pt'> </span>&quot;loc<span style='letter-spacing:
-.1pt'>a</span>lhos<span style='letter-spacing:-.1pt'>t</span>:9092<span
style='letter-spacing:-.1pt'>&quot;</span>); pr<span style='letter-spacing:
-.1pt'>o</span>ps<span style='letter-spacing:-.1pt'>.</span>put(&quot;gr<span
style='letter-spacing:-.1pt'>o</span>up.i<span style='letter-spacing:-.1pt'>d</span>&quot;,
<span style='letter-spacing:-.05pt'> </span>&quot;t<span style='letter-spacing:
-.1pt'>e</span>st<span style='letter-spacing:-.1pt'>&quot;</span>); pr<span
style='letter-spacing:-.1pt'>o</span>ps<span style='letter-spacing:-.1pt'>.</span>put(&quot;en<span
style='letter-spacing:-.1pt'>a</span>ble.<span style='letter-spacing:-.1pt'>a</span>uto.c<span
style='letter-spacing:-.1pt'>o</span>mm<span style='letter-spacing:-.1pt'>i</span>t&quot;,
<span style='letter-spacing:-.05pt'> </span>&quot;tr<span style='letter-spacing:
-.1pt'>u</span>e&quot;); pr<span style='letter-spacing:-.1pt'>o</span>ps<span
style='letter-spacing:-.1pt'>.</span>put(&quot;au<span style='letter-spacing:
-.1pt'>t</span>o.co<span style='letter-spacing:-.1pt'>m</span>mit.i<span
style='letter-spacing:-.1pt'>n</span>te<span style='letter-spacing:-.1pt'>r</span>val.ms&quot;,
<span style='letter-spacing:-.15pt'> </span>&quot;10<span style='letter-spacing:
-.1pt'>0</span>0&quot;);</span></p>

<p class=MsoBodyText style='margin-left:151.9pt;line-height:11.5pt'><span
style='font-family:"Arial",sans-serif'>p</span><span style='font-family:"Arial",sans-serif'>r</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>o</span><span
style='font-family:"Arial",sans-serif'>p</span><span style='font-family:"Arial",sans-serif'>s</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>.</span><span
style='font-family:"Arial",sans-serif'>pu</span><span style='font-family:"Arial",sans-serif'>t</span><span
style='font-family:"Arial",sans-serif'>(</span><span style='font-family:"Arial",sans-serif'>&quot;</span><span
style='font-family:"Arial",sans-serif'>s</span><span style='font-family:"Arial",sans-serif'>e</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>s</span><span
style='font-family:"Arial",sans-serif'>s</span><span style='font-family:"Arial",sans-serif'>i</span><span
style='font-family:"Arial",sans-serif'>on</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>.</span><span style='font-family:"Arial",sans-serif'>t</span><span
style='font-family:"Arial",sans-serif'>i</span><span style='font-family:"Arial",sans-serif'>m</span><span
style='font-family:"Arial",sans-serif'>eo<span style='letter-spacing:-.1pt'>u</span></span><span
style='font-family:"Arial",sans-serif'>t.</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>m</span><span style='font-family:"Arial",sans-serif'>s</span><span
style='font-family:"Arial",sans-serif'>&quot;</span><span style='font-family:
"Arial",sans-serif'>,</span><span style='font-family:"Arial",sans-serif'> <span
style='letter-spacing:-.05pt'> </span>&quot;30<span style='letter-spacing:-.1pt'>0</span>00&quot;);</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:0in;margin-bottom:
0in;margin-left:63.85pt;margin-bottom:.0001pt;text-indent:88.05pt;line-height:
110%'><span style='font-family:"Arial",sans-serif'>p</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>o</span><span style='font-family:"Arial",sans-serif'>p</span><span
style='font-family:"Arial",sans-serif'>s</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>.</span><span style='font-family:"Arial",sans-serif'>pu</span><span
style='font-family:"Arial",sans-serif'>t</span><span style='font-family:"Arial",sans-serif'>(</span><span
style='font-family:"Arial",sans-serif'>&quot;</span><span style='font-family:
"Arial",sans-serif'>k</span><span style='font-family:"Arial",sans-serif'>e</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>y</span><span
style='font-family:"Arial",sans-serif'>.</span><span style='font-family:"Arial",sans-serif'>de</span><span
style='font-family:"Arial",sans-serif'>s</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>e</span><span style='font-family:"Arial",sans-serif'>r</span><span
style='font-family:"Arial",sans-serif'>i</span><span style='font-family:"Arial",sans-serif'>a</span><span
style='font-family:"Arial",sans-serif'>li</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>z</span><span style='font-family:"Arial",sans-serif'>e</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>&quot;</span><span style='font-family:"Arial",sans-serif'>,</span><span
style='font-family:"Arial",sans-serif'> <span style='letter-spacing:-.05pt'> </span>&quot;org.<span
style='letter-spacing:-.1pt'>a</span>pach<span style='letter-spacing:-.1pt'>e</span>.kafk<span
style='letter-spacing:-.1pt'>a</span>.c<span style='letter-spacing:-.1pt'>o</span>mmon.se<span
style='letter-spacing:-.1pt'>r</span>iali<span style='letter-spacing:-.1pt'>z</span>a-
tion.StringDeserializer&quot;);</span></p>

<p class=MsoBodyText style='margin-top:5.9pt;margin-right:0in;margin-bottom:
0in;margin-left:63.85pt;margin-bottom:.0001pt;text-indent:88.05pt;line-height:
110%'><span style='font-family:"Arial",sans-serif'>p</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>o</span><span style='font-family:"Arial",sans-serif'>p</span><span
style='font-family:"Arial",sans-serif'>s</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>.</span><span style='font-family:"Arial",sans-serif'>pu</span><span
style='font-family:"Arial",sans-serif'>t</span><span style='font-family:"Arial",sans-serif'>(</span><span
style='font-family:"Arial",sans-serif'>&quot;</span><span style='font-family:
"Arial",sans-serif'>v</span><span style='font-family:"Arial",sans-serif'>a</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>l</span><span
style='font-family:"Arial",sans-serif'>ue</span><span style='font-family:"Arial",sans-serif'>.</span><span
style='font-family:"Arial",sans-serif'>d<span style='letter-spacing:-.1pt'>e</span></span><span
style='font-family:"Arial",sans-serif'>s</span><span style='font-family:"Arial",sans-serif'>e</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif'>i</span><span
style='font-family:"Arial",sans-serif'>a</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>l</span><span style='font-family:"Arial",sans-serif'>i</span><span
style='font-family:"Arial",sans-serif'>z</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>e</span><span style='font-family:"Arial",sans-serif'>r</span><span
style='font-family:"Arial",sans-serif'>&quot;</span><span style='font-family:
"Arial",sans-serif'>,</span><span style='font-family:"Arial",sans-serif'> <span
style='letter-spacing:-.05pt'> </span>&quot;or<span style='letter-spacing:-.1pt'>g</span>.apa<span
style='letter-spacing:-.1pt'>c</span>he.ka<span style='letter-spacing:-.1pt'>f</span>ka<span
style='letter-spacing:-.1pt'>.</span>common.<span style='letter-spacing:-.1pt'>s</span>eria<span
style='letter-spacing:-.1pt'>l</span>iza- tion.StringDeserializer&quot;);</span></p>

<p class=MsoBodyText style='margin-top:5.75pt;margin-right:0in;margin-bottom:
0in;margin-left:151.9pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>K</span><span
style='font-family:"Arial",sans-serif'>a</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>f</span><span style='font-family:"Arial",sans-serif'>k</span><span
style='font-family:"Arial",sans-serif'>a</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>C</span><span style='font-family:"Arial",sans-serif'>on</span><span
style='font-family:"Arial",sans-serif'>s</span><span style='font-family:"Arial",sans-serif'>u</span><span
style='font-family:"Arial",sans-serif'>m</span><span style='font-family:"Arial",sans-serif'>e</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>&lt;</span><span style='font-family:"Arial",sans-serif'>S</span><span
style='font-family:"Arial",sans-serif'>t</span><span style='font-family:"Arial",sans-serif'>r</span><span
style='font-family:"Arial",sans-serif'>i</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>n</span><span style='font-family:"Arial",sans-serif'>g</span><span
style='font-family:"Arial",sans-serif'>,</span><span style='font-family:"Arial",sans-serif'>
<span style='letter-spacing:-.05pt'> </span><span style='letter-spacing:.25pt'>S</span>t<span
style='letter-spacing:-.1pt'>r</span>in<span style='letter-spacing:-.1pt'>g</span>&gt;
<span style='letter-spacing:-.05pt'> </span>consu<span style='letter-spacing:
-.1pt'>m</span>er <span style='letter-spacing:-.05pt'> </span>= <span
style='letter-spacing:-.15pt'> </span>new <span style='letter-spacing:-.05pt'> </span>K<span
style='letter-spacing:-.1pt'>a</span>fk<span style='letter-spacing:-.1pt'>a</span>Consume<span
style='letter-spacing:-.1pt'>r</span>&lt;Str<span style='letter-spacing:-.1pt'>i</span>ng,</span></p>

</div>

<span style='font-size:11.0pt;font-family:"Arial",sans-serif'><br clear=all
style='page-break-before:auto'>
</span>

<div class=WordSection29>

<p class=MsoBodyText style='margin-top:1.1pt;margin-right:0in;margin-bottom:
0in;margin-left:63.85pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif;
letter-spacing:-.15pt'>String&gt;(props);</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.1pt'><span style='font-size:9.5pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-left:63.85pt'><span style='font-family:"Arial",sans-serif'>topic
name</span></p>

<span style='font-size:10.0pt;font-family:"Verdana",sans-serif'><br clear=all>
</span>

<p class=MsoBodyText></p>

<p class=MsoBodyText style='margin-top:8.2pt;margin-right:0in;margin-bottom:
0in;margin-left:3.5pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>c</span><span
style='font-family:"Arial",sans-serif'>o<span style='letter-spacing:-.1pt'>n</span></span><span
style='font-family:"Arial",sans-serif'>s</span><span style='font-family:"Arial",sans-serif'>u</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>m</span><span
style='font-family:"Arial",sans-serif'>e</span><span style='font-family:"Arial",sans-serif'>r</span><span
style='font-family:"Arial",sans-serif'>.</span><span style='font-family:"Arial",sans-serif'>s</span><span
style='font-family:"Arial",sans-serif'>ub</span><span style='font-family:"Arial",sans-serif'>s<span
style='letter-spacing:-.1pt'>c</span></span><span style='font-family:"Arial",sans-serif'>r</span><span
style='font-family:"Arial",sans-serif'>i</span><span style='font-family:"Arial",sans-serif'>be</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>(</span><span
style='font-family:"Arial",sans-serif'>A</span><span style='font-family:"Arial",sans-serif'>rr</span><span
style='font-family:"Arial",sans-serif'>a</span><span style='font-family:"Arial",sans-serif'>y<span
style='letter-spacing:-.1pt'>s</span></span><span style='font-family:"Arial",sans-serif'>.</span><span
style='font-family:"Arial",sans-serif'>a</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>s</span><span style='font-family:"Arial",sans-serif'>L</span><span
style='font-family:"Arial",sans-serif'>i</span><span style='font-family:"Arial",sans-serif'>s</span><span
style='font-family:"Arial",sans-serif'>t</span><span style='font-family:"Arial",sans-serif'>(</span><span
style='font-family:"Arial",sans-serif'>t</span><span style='font-family:"Arial",sans-serif'>o<span
style='letter-spacing:-.1pt'>p</span></span><span style='font-family:"Arial",sans-serif'>i</span><span
style='font-family:"Arial",sans-serif'>c</span><span style='font-family:"Arial",sans-serif'>N</span><span
style='font-family:"Arial",sans-serif'>a</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>m</span><span style='font-family:"Arial",sans-serif'>e</span><span
style='font-family:"Arial",sans-serif'>))</span><span style='font-family:"Arial",sans-serif'>;</span></p>

<p class=MsoBodyText style='margin-top:7.25pt;margin-right:23.6pt;margin-bottom:
0in;margin-left:3.5pt;margin-bottom:.0001pt;line-height:161%'><span
style='font-family:"Arial",sans-serif'>//</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>K</span><span style='font-family:"Arial",sans-serif'>a</span><span
style='font-family:"Arial",sans-serif'>f</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>k</span><span style='font-family:"Arial",sans-serif'>a</span><span
style='font-family:"Arial",sans-serif'>C</span><span style='font-family:"Arial",sans-serif'>on</span><span
style='font-family:"Arial",sans-serif'>s</span><span style='font-family:"Arial",sans-serif'>u</span><span
style='font-family:"Arial",sans-serif'>m</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>e</span><span style='font-family:"Arial",sans-serif'>r</span><span
style='font-family:"Arial",sans-serif'> <span style='letter-spacing:-.05pt'> </span>su<span
style='letter-spacing:-.1pt'>b</span>scrib<span style='letter-spacing:-.1pt'>e</span>s
<span style='letter-spacing:-.05pt'> </span><span style='letter-spacing:-.1pt'>l</span>ist
<span style='letter-spacing:-.05pt'> </span>of <span style='letter-spacing:
-.05pt'> </span><span style='letter-spacing:-.1pt'>t</span>opics <span
style='letter-spacing:-.15pt'> </span>here. Sy<span style='letter-spacing:-.1pt'>s</span>te<span
style='letter-spacing:-.1pt'>m</span>.out.pr<span style='letter-spacing:-.1pt'>i</span>ntln<span
style='letter-spacing:-.1pt'>(</span>&quot;Subs<span style='letter-spacing:
-.1pt'>c</span>ri<span style='letter-spacing:-.1pt'>b</span>ed <span
style='letter-spacing:-.05pt'> </span>to <span style='letter-spacing:-.05pt'> </span>t<span
style='letter-spacing:-.1pt'>o</span>pic <span style='letter-spacing:-.05pt'> </span>&quot;
<span style='letter-spacing:-.15pt'> </span>+ <span style='letter-spacing:-.05pt'> </span>to<span
style='letter-spacing:-.1pt'>p</span>ic<span style='letter-spacing:-.1pt'>N</span>am<span
style='letter-spacing:.65pt'>e</span>); <span style='letter-spacing:-.05pt'> </span>/<span
style='letter-spacing:-.1pt'>/</span>print <span style='letter-spacing:-.15pt'> </span>the</span></p>

<p class=MsoBodyText><span style='font-size:11.0pt;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.05pt;margin-right:365.5pt;margin-bottom:
0in;margin-left:3.5pt;margin-bottom:.0001pt;line-height:161%'><span
style='font-family:"Arial",sans-serif'>i</span><span style='font-family:"Arial",sans-serif'>n</span><span
style='font-family:"Arial",sans-serif'>t</span><span style='font-family:"Arial",sans-serif'>
<span style='letter-spacing:-.15pt'> </span>i <span style='letter-spacing:-.15pt'> </span>=
<span style='letter-spacing:-.05pt'> </span>0; wh<span style='letter-spacing:
-.1pt'>i</span>le <span style='letter-spacing:-.15pt'> </span>(true) <span
style='letter-spacing:-.05pt'> </span>{</span></p>

</div>

<span style='font-size:11.0pt;line-height:161%;font-family:"Arial",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection30>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.4pt;margin-right:0in;margin-bottom:
.05pt;margin-left:0in'><span style='font-size:6.0pt;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-left:55.9pt'><span style='font-family:"Arial",sans-serif'><img
width=650 height=222 src="Apache-Kafka-Labs-Web_files/image062.png"
alt="Text Box: ConsumerRecords&lt;String,  String&gt;  records  =  con-&#13;&#10;sumer.poll(100);&#13;&#10;for  (ConsumerRecord&lt;String,  String&gt;  record  :  records) System.out.printf(&quot;offset  =  %d,  key  =  %s,  value&#13;&#10;=  %s\n&quot;,  record.offset(),  record.key(),  record.value());&#13;&#10;//  print  the  offset,key  and  value  for  the  consumer  records.&#13;&#10;}&#13;&#10;}&#13;&#10;}&#13;&#10;"></span></p>

<p class=MsoBodyText style='margin-top:3.9pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'><b>Compilation – </b>The
application can be compiled using the following command.</p>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=40 src="Apache-Kafka-Labs-Web_files/image063.png"
  alt="Text Box: javac  -cp  “/path/to/kafka/kafka_2.11-0.9.0.0/lib/*”  *.java"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:4.45pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'><b>Execution – </b>The
application can be executed using the following command.</p>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=40 src="Apache-Kafka-Labs-Web_files/image064.png"
  alt="Text Box: java  -cp  “/path/to/kafka/kafka_2.11-0.9.0.0/lib/*”:.  SimpleConsumer	&lt;topic-name&gt;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:107%'><b>Input – </b>Open
the producer CLI and send some messages to the topic. You can put the smple
input as ‘Hello Consumer’.</p>

<p class=MsoNormal style='margin-top:7.85pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'><b><span style='font-size:10.0pt'>Output
– </span></b><span style='font-size:10.0pt'>Following will be the output.</span></p>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=65 src="Apache-Kafka-Labs-Web_files/image065.png"
  alt="Text Box: Subscribed  to  topic  Hello-Kafka&#13;&#10;offset  =  3,  key  =  null,  value  =  Hello  Consumer&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

</div>

<span style='font-size:5.5pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection31>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.35pt'><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:4.95pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'><span style='position:relative;
z-index:-1895774208'><span style='left:0px;position:absolute;left:626px;
top:-137px;width:96px;height:20px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=96 height=20 style='vertical-align:top'><span style='position:absolute;
  left:0pt;z-index:-1895774208'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:0pt 0pt 0pt 0pt'>
    <p class=MsoBodyText style='line-height:12.1pt'>Apache<span
    style='letter-spacing:-.25pt'> </span>Kafka</p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span></span><span style='position:relative;z-index:251689984'><span
style='left:0px;position:absolute;left:-2px;top:-188px;width:803px;height:156px'><img
width=803 height=156 src="Apache-Kafka-Labs-Web_files/image066.png"></span></span>Consumer
group <a name="_bookmark37"></a>is a multi-threaded or multi-machine consumption
from Kafka topics.</p>

<p class=MsoBodyText style='margin-top:.15pt'><span style='font-size:13.0pt'>&nbsp;</span></p>

<h2>Consumer Group</h2>

<p class=MsoListParagraph style='margin-top:6.15pt'><span style='font-size:
10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Consumers can join a group by
using the same<span style='letter-spacing:-.1pt'> </span>“group.id”.</span></p>

<p class=MsoBodyText style='margin-top:.05pt'>&nbsp;</p>

<p class=MsoListParagraph style='margin-top:.05pt;margin-right:56.7pt;
margin-bottom:0in;margin-left:92.65pt;margin-bottom:.0001pt;line-height:98%'><span
style='font-size:10.0pt;line-height:98%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:98%'>The maximum
parallelism of a group is that the number of consumers in the group &lt;= no of<span
style='letter-spacing:-.25pt'> </span>partitions.</span></p>

<p class=MsoBodyText style='margin-top:.15pt'>&nbsp;</p>

<p class=MsoListParagraph style='margin-right:56.55pt;line-height:98%'><span
style='font-size:10.0pt;line-height:98%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:98%'>Kafka assigns the
partitions of a topic to the consumer in a group, so that each partition is
consumed by exactly one consumer in the<span style='letter-spacing:-.15pt'> </span>group.</span></p>

<p class=MsoBodyText style='margin-top:.1pt'>&nbsp;</p>

<p class=MsoListParagraph><span style='font-size:10.0pt;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Kafka guarantees that a message is
only ever read by a single consumer in the<span style='letter-spacing:-.75pt'> </span>group.</span></p>

<p class=MsoBodyText style='margin-top:.3pt'><span style='font-size:9.5pt'>&nbsp;</span></p>

<p class=MsoListParagraph><span style='font-size:10.0pt;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Consumers can see the message in
the order they were stored in the<span style='letter-spacing:-.5pt'> </span>log.</span></p>

<p class=MsoBodyText style='margin-top:.3pt'><span style='font-size:12.0pt'>&nbsp;</span></p>

<h2>Re-balancing of a Consumer</h2>

<p class=MsoBodyText style='margin-top:6.15pt;margin-right:56.45pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>Adding more processes/threads will cause Kafka to re-balance. If any
consumer or broker fails to send heartbeat to ZooKeeper, then it can be
re-configured via the Kafka cluster. During this re-balance, Kafka will assign
available partitions to the available threads, possibly moving a partition to
another process.</p>

<p class=MsoBodyText style='margin-top:.55pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=437 src="Apache-Kafka-Labs-Web_files/image067.png"
  alt="Text Box: import  java.util.Properties; import  java.util.Arrays;&#13;&#10;import org.apache.kafka.clients.consumer.KafkaConsumer; import org.apache.kafka.clients.consumer.ConsumerRecords; import  org.apache.kafka.clients.consumer.ConsumerRecord; public class ConsumerGroup {&#13;&#10;public  static  void  main(String[]  args)  throws  Exception  { if(args.length  &lt;  2)&#13;&#10;{&#13;&#10;System.out.println(&quot;Usage:  consumer  &lt;topic&gt;  &lt;groupname&gt;&quot;); return;&#13;&#10;}&#13;&#10;String  topic  =  args[0].toString(); String  group  =  args[1].toString(); Properties  props  =  new  Properties();&#13;&#10;props.put(&quot;bootstrap.servers&quot;,  &quot;localhost:9092&quot;); props.put(&quot;group.id&quot;,  group);&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

</div>

<span style='font-size:4.5pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection32>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.5pt'><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-left:55.9pt'><img width=650 height=521
src="Apache-Kafka-Labs-Web_files/image068.png"
alt="Text Box: props.put(&quot;enable.auto.commit&quot;,  &quot;true&quot;); props.put(&quot;auto.commit.interval.ms&quot;,  &quot;1000&quot;);&#13;&#10;props.put(&quot;session.timeout.ms&quot;,  &quot;30000&quot;);&#13;&#10;props.put(&quot;key.deserializer&quot;,  &quot;org.apache.kafka.common.serializa- tion.StringDeserializer&quot;);&#13;&#10;props.put(&quot;value.deserializer&quot;,  &quot;org.apache.kafka.common.serializa- tion.StringDeserializer&quot;);&#13;&#10;KafkaConsumer&lt;String,  String&gt;  consumer  =  new  KafkaConsumer&lt;String,&#13;&#10;String&gt;(props);&#13;&#10;consumer.subscribe(Arrays.asList(topic));&#13;&#10;&#13;&#10;&#13;&#10;System.out.println(&quot;Subscribed  to  topic  &quot;  +  topic); int  i  =  0;&#13;&#10;while  (true)  {&#13;&#10;ConsumerRecords&lt;String,  String&gt;  records  =  con-&#13;&#10;sumer.poll(100);&#13;&#10;for  (ConsumerRecord&lt;String,  String&gt;  record  :  records) System.out.printf(&quot;offset  =  %d,  key  =  %s,  value&#13;&#10;=  %s\n&quot;,  record.offset(),  record.key(),  record.value());&#13;&#10;}&#13;&#10;}&#13;&#10;}&#13;&#10;"></p>

<p class=MsoBodyText style='margin-top:.5pt'><span style='font-size:6.5pt'>&nbsp;</span></p>

<h2 style='margin-top:4.55pt'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=40 src="Apache-Kafka-Labs-Web_files/image069.png"
  alt="Text Box: javac  -cp  “/path/to/kafka/kafka_2.11-0.9.0.0/libs/*&quot;  ConsumerGroup.java"></td>
 </tr>
</table>

<br clear=ALL>
Compilation</h2>

<p class=MsoBodyText style='margin-top:.3pt'><b><span style='font-size:7.5pt;
font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<h2 style='margin-top:4.55pt'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=98 src="Apache-Kafka-Labs-Web_files/image070.png"
  alt="Text Box: &gt;&gt;java  -cp  “/path/to/kafka/kafka_2.11-0.9.0.0/libs/*&quot;:.  ConsumerGroup  &lt;topic-name&gt; my-group&#13;&#10;&gt;&gt;java  -cp  &quot;/home/bala/Workspace/kafka/kafka_2.11-0.9.0.0/libs/*&quot;:.  ConsumerGroup&#13;&#10;&lt;topic-name&gt;  my-group&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
Execution</h2>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'>Here we have
created a sample group name as “my-group” with two consumers. Similarly, you
can create your group and number of consumers in the group.</p>

</div>

<span style='font-size:11.0pt;line-height:106%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection33>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.1pt'><span style='font-size:13.0pt'>&nbsp;</span></p>

<h2 style='margin-top:4.55pt'>Input</h2>

<p class=MsoBodyText style='margin-top:6.05pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>Open producer CLI and send some
messages like –</p>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=65 src="Apache-Kafka-Labs-Web_files/image071.png"
  alt="Text Box: Test consumer group 01 Test consumer group 02"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:.4pt'><span style='font-size:7.0pt'>&nbsp;</span></p>

<h2 style='margin-top:4.55pt'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=65 src="Apache-Kafka-Labs-Web_files/image072.png"
  alt="Text Box: Subscribed  to  topic  Hello-kafka&#13;&#10;offset  =  3,  key  =  null,  value  =  Test  consumer  group  01&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
Output of the First Process</h2>

<p class=MsoBodyText style='margin-top:.3pt'><b><span style='font-size:7.5pt;
font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<h2 style='margin-top:4.55pt'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=65 src="Apache-Kafka-Labs-Web_files/image073.png"
  alt="Text Box: Subscribed  to  topic  Hello-kafka&#13;&#10;offset  =  3,  key  =  null,  value  =  Test  consumer  group  02&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
Output of the Second Process</h2>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:56.35pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
106%'>Now hopefully you would have understood SimpleConsumer and ConsumeGroup
by using the Java client demo. Now you have an idea about how to send and
receive messages using a Java client. Let us continue Kafka integration with
big data technologies in the next chapter.</p>

</div>

<span style='font-size:11.0pt;line-height:106%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection34>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.35pt'><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:4.95pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'><span style='position:relative;
z-index:-1895773184'><span style='left:0px;position:absolute;left:626px;
top:-137px;width:96px;height:20px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=96 height=20 style='vertical-align:top'><span style='position:absolute;
  left:0pt;z-index:-1895773184'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:0pt 0pt 0pt 0pt'>
    <p class=MsoBodyText style='line-height:12.1pt'>Apache<span
    style='letter-spacing:-.25pt'> </span>Kafka</p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span></span><span style='position:relative;z-index:251691008'><span
style='left:0px;position:absolute;left:-2px;top:-188px;width:803px;height:156px'><img
width=803 height=156 src="Apache-Kafka-Labs-Web_files/image074.png"></span></span>In
this chapter, we <a name="_bookmark38"></a>will learn how to integrate Kafka
with Apache Storm.</p>

<p class=MsoBodyText style='margin-top:.05pt'><span style='font-size:15.5pt'>&nbsp;</span></p>

<h1 style='margin-top:.05pt'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark39"></a>About Storm</h1>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:56.7pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>Storm was originally created by Nathan Marz and team at BackType. In a
short time, Apache Storm<span style='letter-spacing:-.5pt'> </span>became<span
style='letter-spacing:-.6pt'> </span>a<span style='letter-spacing:-.3pt'> </span>standard<span
style='letter-spacing:-.5pt'> </span>for<span style='letter-spacing:-.55pt'> </span>distributed<span
style='letter-spacing:-.45pt'> </span>real-time<span style='letter-spacing:
-.55pt'> </span>processing<span style='letter-spacing:-.5pt'> </span>system<span
style='letter-spacing:-.45pt'> </span>that<span style='letter-spacing:-.5pt'> </span>allows<span
style='letter-spacing:-.55pt'> </span>you<span style='letter-spacing:-.4pt'> </span>to<span
style='letter-spacing:-.55pt'> </span>process a huge volume of data. Storm is
very fast and a benchmark clocked it at over a million tuples processed per
second per node. Apache Storm runs continuously, consuming data from the
configured sources (Spouts) and passes the data down the processing pipeline
(Bolts). Com- bined, Spouts and Bolts make a<span style='letter-spacing:-.4pt'>
</span>Topology.</p>

<p class=MsoBodyText style='margin-top:.2pt'><span style='font-size:14.5pt'>&nbsp;</span></p>

<h1 style='margin-top:0in'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark40"></a>Integration with Storm</h1>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:56.45pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>Kafka<span style='letter-spacing:-.5pt'> </span>and<span
style='letter-spacing:-.45pt'> </span>Storm<span style='letter-spacing:-.5pt'> </span>naturally<span
style='letter-spacing:-.5pt'> </span>complement<span style='letter-spacing:
-.45pt'> </span>each<span style='letter-spacing:-.45pt'> </span>other,<span
style='letter-spacing:-.55pt'> </span>and<span style='letter-spacing:-.45pt'> </span>their<span
style='letter-spacing:-.55pt'> </span>powerful<span style='letter-spacing:-.3pt'>
</span>cooperation<span style='letter-spacing:-.45pt'> </span>enables<span
style='letter-spacing:-.4pt'> </span>real- time<span style='letter-spacing:
-.75pt'> </span>streaming<span style='letter-spacing:-.7pt'> </span>analytics<span
style='letter-spacing:-.75pt'> </span>for<span style='letter-spacing:-.6pt'> </span>fast-moving<span
style='letter-spacing:-.7pt'> </span>big<span style='letter-spacing:-.7pt'> </span>data.<span
style='letter-spacing:-.65pt'> </span>Kafka<span style='letter-spacing:-.7pt'> </span>and<span
style='letter-spacing:-.55pt'> </span>Storm<span style='letter-spacing:-.5pt'> </span>integration<span
style='letter-spacing:-.65pt'> </span>is<span style='letter-spacing:-.75pt'> </span>to<span
style='letter-spacing:-.65pt'> </span>make<span style='letter-spacing:-.6pt'> </span>easier
for developers to ingest and publish data streams from Storm<span
style='letter-spacing:-.35pt'> </span>topologies.</p>

<p class=MsoBodyText style='margin-top:.3pt'><span style='font-size:12.0pt'>&nbsp;</span></p>

<h2>Conceptual flow</h2>

<p class=MsoBodyText style='margin-top:6.15pt;margin-right:56.5pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>A<span style='letter-spacing:-.5pt'> </span>spout<span style='letter-spacing:
-.45pt'> </span>is<span style='letter-spacing:-.5pt'> </span>a<span
style='letter-spacing:-.35pt'> </span>source<span style='letter-spacing:-.35pt'>
</span>of<span style='letter-spacing:-.4pt'> </span>streams.<span
style='letter-spacing:-.4pt'> </span>For<span style='letter-spacing:-.45pt'> </span>example,<span
style='letter-spacing:-.5pt'> </span>a<span style='letter-spacing:-.25pt'> </span>spout<span
style='letter-spacing:-.45pt'> </span>may<span style='letter-spacing:-.25pt'> </span>read<span
style='letter-spacing:-.3pt'> </span>tuples<span style='letter-spacing:-.45pt'>
</span>off a<span style='letter-spacing:-.35pt'> </span>Kafka<span
style='letter-spacing:-.25pt'> </span>Topic<span style='letter-spacing:-.5pt'> </span>and<span
style='letter-spacing:-.35pt'> </span>emit them as a stream. A bolt consumes
input streams, process and possibly emits new streams. Bolts can do anything
from running functions, filtering tuples, do streaming aggregations, streaming<span
style='letter-spacing:-.9pt'> </span>joins,<span style='letter-spacing:-1.0pt'>
</span>talk<span style='letter-spacing:-.95pt'> </span>to<span
style='letter-spacing:-.85pt'> </span>databases,<span style='letter-spacing:
-.95pt'> </span>and<span style='letter-spacing:-.8pt'> </span>more.<span
style='letter-spacing:-.8pt'> </span>Each<span style='letter-spacing:-.9pt'> </span>node<span
style='letter-spacing:-.9pt'> </span>in<span style='letter-spacing:-.9pt'> </span>a<span
style='letter-spacing:-.9pt'> </span>Storm<span style='letter-spacing:-.8pt'> </span>topology<span
style='letter-spacing:-.85pt'> </span>executes<span style='letter-spacing:-1.0pt'>
</span>in<span style='letter-spacing:-.85pt'> </span>parallel. A topology runs
indefinitely until you terminate it. Storm will automatically reassign any
failed tasks. Additionally, Storm guarantees that there will be no data loss,
even if the machines go down and messages are<span style='letter-spacing:.05pt'>
</span>dropped.</p>

<p class=MsoBodyText style='margin-top:8.0pt;margin-right:56.75pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
106%'>Let us go through the Kafka-Storm integration API’s in detail. There are
three main classes to integrate Kafka with Storm. They are as follows –</p>

<p class=MsoBodyText style='margin-top:.45pt'><span style='font-size:12.0pt'>&nbsp;</span></p>

<h2 style='margin-top:.05pt'>BrokerHosts - ZkHosts &amp; StaticHosts</h2>

<p class=MsoBodyText style='margin-top:6.15pt;margin-right:56.6pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>BrokerHosts is an interface and ZkHosts and StaticHosts are its two main
implementations. ZkHosts<span style='letter-spacing:-.45pt'> </span>is<span
style='letter-spacing:-.55pt'> </span>used<span style='letter-spacing:-.35pt'> </span>to<span
style='letter-spacing:-.45pt'> </span>track<span style='letter-spacing:-.45pt'>
</span>the<span style='letter-spacing:-.6pt'> </span>Kafka<span
style='letter-spacing:-.45pt'> </span>brokers<span style='letter-spacing:-.45pt'>
</span>dynamically<span style='letter-spacing:-.55pt'> </span>by<span
style='letter-spacing:-.55pt'> </span>maintaining<span style='letter-spacing:
-.5pt'> </span>the<span style='letter-spacing:-.55pt'> </span>details<span
style='letter-spacing:-.55pt'> </span>in<span style='letter-spacing:-.45pt'> </span>ZooKeeper,
while StaticHosts is used to manually / statically set the Kafka brokers and
its details. ZkHosts is the simple and fast way to access the Kafka<span
style='letter-spacing:-.65pt'> </span>broker.</p>

<p class=MsoBodyText style='margin-top:7.85pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify'>The signature
of ZkHosts is as follows –</p>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=65 src="Apache-Kafka-Labs-Web_files/image075.png"
  alt="Text Box: public  ZkHosts(String  brokerZkStr,  String  brokerZkPath) public  ZkHosts(String  brokerZkStr)"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'>Where
brokerZkStr is ZooKeeper host and brokerZkPath is the ZooKeeper path to
maintain the Kafka broker details.</p>

</div>

<span style='font-size:11.0pt;line-height:106%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection35>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.1pt'><span style='font-size:13.0pt'>&nbsp;</span></p>

<h2 style='margin-top:4.55pt'>KafkaConfig API</h2>

<p class=MsoBodyText style='margin-top:6.15pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'>This<span
style='letter-spacing:-.8pt'> </span>API<span style='letter-spacing:-.8pt'> </span>is<span
style='letter-spacing:-.75pt'> </span>used<span style='letter-spacing:-.7pt'> </span>to<span
style='letter-spacing:-.75pt'> </span>define<span style='letter-spacing:-.75pt'>
</span>configuration<span style='letter-spacing:-.65pt'> </span>settings<span
style='letter-spacing:-.75pt'> </span>for<span style='letter-spacing:-.75pt'> </span>the<span
style='letter-spacing:-.75pt'> </span>Kafka<span style='letter-spacing:-.6pt'> </span>cluster.<span
style='letter-spacing:-.75pt'> </span>The<span style='letter-spacing:-.75pt'> </span>signature<span
style='letter-spacing:-.75pt'> </span>of<span style='letter-spacing:-.7pt'> </span>KafkaCon-
fig is defined as<span style='letter-spacing:-.35pt'> </span>follows</p>

<p class=MsoBodyText style='margin-top:.1pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=40 src="Apache-Kafka-Labs-Web_files/image076.png"
  alt="Text Box: public KafkaConfig(BrokerHosts hosts, string topic)"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoListParagraph style='margin-top:4.45pt'><span style='font-size:
10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Hosts - The BrokerHosts can be
ZkHosts /<span style='letter-spacing:.05pt'> </span>StaticHosts.</span></p>

<p class=MsoListParagraph style='margin-top:5.95pt'><span style='font-size:
10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Topic - topic<span
style='letter-spacing:-.2pt'> </span>name.</span></p>

<p class=MsoBodyText style='margin-top:.25pt'><span style='font-size:17.0pt'>&nbsp;</span></p>

<h2 style='margin-top:.05pt'>SpoutConfig API</h2>

<p class=MsoBodyText style='margin-top:6.15pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>Spoutconfig is an extension of
KafkaConfig that supports additional ZooKeeper information.</p>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=40 src="Apache-Kafka-Labs-Web_files/image077.png"
  alt="Text Box: public SpoutConfig(BrokerHosts hosts, string topic, string zkRoot, string id)"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoListParagraph style='margin-top:4.45pt'><span style='font-size:
10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Hosts - The BrokerHosts can be any
implementation of BrokerHosts<span style='letter-spacing:-.25pt'> </span>interface</span></p>

<p class=MsoListParagraph style='margin-top:5.95pt'><span style='font-size:
10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Topic - topic<span
style='letter-spacing:-.2pt'> </span>name.</span></p>

<p class=MsoListParagraph style='margin-top:6.0pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>zkRoot - ZooKeeper root path.</span></p>

<p class=MsoListParagraph style='margin-top:6.3pt;margin-right:56.95pt;
margin-bottom:0in;margin-left:92.65pt;margin-bottom:.0001pt;line-height:97%'><span
style='font-size:10.0pt;line-height:97%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:97%'>id - The spout stores
the state of the offsets its consumed in Zookeeper. The id should uniquely
identify your<span style='letter-spacing:-.3pt'> </span>spout.</span></p>

<p class=MsoBodyText style='margin-top:.45pt'><span style='font-size:12.0pt'>&nbsp;</span></p>

<h2 style='margin-top:.05pt'>SchemeAsMultiScheme</h2>

<p class=MsoBodyText style='margin-top:6.25pt;margin-right:56.55pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>SchemeAsMultiScheme is an interface that dictates how the ByteBuffer
consumed from Kafka gets<span style='letter-spacing:-.25pt'> </span>transformed<span
style='letter-spacing:-.2pt'> </span>into<span style='letter-spacing:-.35pt'> </span>a<span
style='letter-spacing:-.05pt'> </span>storm<span style='letter-spacing:-.15pt'>
</span>tuple.<span style='letter-spacing:-.25pt'> </span>It<span
style='letter-spacing:-.15pt'> </span>is<span style='letter-spacing:-.35pt'> </span>derived<span
style='letter-spacing:-.25pt'> </span>from<span style='letter-spacing:-.2pt'> </span>MultiScheme<span
style='letter-spacing:-.25pt'> </span>and<span style='letter-spacing:-.25pt'> </span>accept<span
style='letter-spacing:-.2pt'> </span>implementation of<span style='letter-spacing:
-.4pt'> </span>Scheme<span style='letter-spacing:-.4pt'> </span>class.<span
style='letter-spacing:-.25pt'> </span>There<span style='letter-spacing:-.35pt'>
</span>are<span style='letter-spacing:-.3pt'> </span>lot<span style='letter-spacing:
-.3pt'> </span>of<span style='letter-spacing:-.4pt'> </span>implementation<span
style='letter-spacing:-.3pt'> </span>of<span style='letter-spacing:-.35pt'> </span>Scheme<span
style='letter-spacing:-.4pt'> </span>class<span style='letter-spacing:-.35pt'> </span>and<span
style='letter-spacing:-.3pt'> </span>one<span style='letter-spacing:-.1pt'> </span>such<span
style='letter-spacing:-.35pt'> </span>implementation is StringScheme, which
parses the byte as a simple string. It also controls the naming of your output
field. The signature is defined as<span style='letter-spacing:-.5pt'> </span>follows.</p>

<p class=MsoBodyText style='margin-top:.45pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=39 src="Apache-Kafka-Labs-Web_files/image078.png"
  alt="Text Box: public SchemeAsMultiScheme(Scheme scheme)"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoListParagraph style='margin-top:4.45pt'><span style='font-size:
10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Scheme - byte buffer consumed from<span
style='letter-spacing:.05pt'> </span>kafka.</span></p>

<p class=MsoBodyText style='margin-top:.05pt'><span style='font-size:13.0pt'>&nbsp;</span></p>

<h2>KafkaSpout API</h2>

<p class=MsoBodyText style='margin-top:6.3pt;margin-right:56.6pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
106%'>KafkaSpout is our spout implementation, which will integrate with Storm.
It fetches the mes- sages from kafka topic and emits it into Storm ecosystem as
tuples. KafkaSpout get its config- uration details from SpoutConfig.</p>

<p class=MsoBodyText style='margin-top:8.15pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify'><span
style='position:absolute;z-index:251692032;left:0px;margin-left:74px;
margin-top:38px;width:648px;height:171px'><img width=648 height=171
src="Apache-Kafka-Labs-Web_files/image079.png"></span>Below is a sample code to
create a simple Kafka spout.</p>

</div>

<span style='font-size:11.0pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection36>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.5pt'><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-left:55.9pt'><img width=650 height=89
src="Apache-Kafka-Labs-Web_files/image080.png"
alt="Text Box: //convert the ByteBuffer to String.&#13;&#10;KafkaSpout  kafkaSpout  =  new  KafkaSpout(spoutConfig);&#13;&#10;//Assign  SpoutConfig  to  KafkaSpout.&#13;&#10;"></p>

<p class=MsoBodyText style='margin-top:.35pt'><span style='font-size:9.5pt'>&nbsp;</span></p>

<h1>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark41"></a>Bolt Creation</h1>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:56.6pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>Bolt<span style='letter-spacing:-.35pt'> </span>is<span style='letter-spacing:
-.3pt'> </span>a<span style='letter-spacing:-.2pt'> </span>component<span
style='letter-spacing:-.25pt'> </span>that<span style='letter-spacing:-.2pt'> </span>takes<span
style='letter-spacing:-.3pt'> </span>tuples<span style='letter-spacing:-.3pt'> </span>as<span
style='letter-spacing:-.25pt'> </span>input,<span style='letter-spacing:-.4pt'>
</span>processes<span style='letter-spacing:-.25pt'> </span>the<span
style='letter-spacing:-.35pt'> </span>tuple,<span style='letter-spacing:-.25pt'>
</span>and<span style='letter-spacing:-.25pt'> </span>produces<span
style='letter-spacing:-.3pt'> </span>new<span style='letter-spacing:-.2pt'> </span>tuples<span
style='letter-spacing:-.3pt'> </span>as output. Bolts will implement IRichBolt
interface. In this program, two bolt classes WordSplitter- Bolt and
WordCounterBolt are used to perform the<span style='letter-spacing:-.35pt'> </span>operations.</p>

<p class=MsoBodyText style='margin-top:7.95pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>IRichBolt interface has the
following methods:</p>

<p class=MsoListParagraph style='margin-top:9.05pt;margin-right:56.9pt;
margin-bottom:0in;margin-left:92.65pt;margin-bottom:.0001pt;line-height:106%'><span
style='font-size:10.0pt;line-height:106%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:106%'>Prepare &#8722;
Provides the bolt with an environment to execute. The executors will run this
method to initialize the<span style='letter-spacing:-.35pt'> </span>spout.</span></p>

<p class=MsoBodyText style='margin-top:.5pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p class=MsoListParagraph><span style='font-size:10.0pt;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Execute &#8722; Process a single
tuple of<span style='letter-spacing:-.4pt'> </span>input.</span></p>

<p class=MsoBodyText style='margin-top:.55pt'><span style='font-size:11.0pt'>&nbsp;</span></p>

<p class=MsoListParagraph><span style='font-size:10.0pt;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Cleanup &#8722; Called when a bolt
is going to shut<span style='letter-spacing:-.3pt'> </span>down.</span></p>

<p class=MsoBodyText style='margin-top:.55pt'><span style='font-size:11.0pt'>&nbsp;</span></p>

<p class=MsoListParagraph><span style='font-size:10.0pt;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>declareOutputFields &#8722;
Declares the output schema of the<span style='letter-spacing:-.45pt'> </span>tuple.</span></p>

<p class=MsoBodyText style='margin-top:9.0pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'>Let us create
SplitBolt.java, which implements the logic to split a sentence into words and
CountBolt.java, which implements logic to separate unique words and count its
occurrence.</p>

<p class=MsoBodyText style='margin-top:.45pt'><span style='font-size:12.0pt'>&nbsp;</span></p>

<h2 style='text-align:justify'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=410 src="Apache-Kafka-Labs-Web_files/image081.png"></td>
 </tr>
</table>

<br clear=ALL>
SplitBolt.java</h2>

</div>

<span style='font-size:11.0pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection37>

<p class=MsoBodyText><b><span style='font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<p class=MsoBodyText><b><span style='font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<p class=MsoBodyText><b><span style='font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<p class=MsoBodyText style='margin-top:.4pt;margin-right:0in;margin-bottom:
.05pt;margin-left:0in'><b><span style='font-size:6.0pt;font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<p class=MsoBodyText style='margin-left:55.9pt'><span style='font-family:"Arial",sans-serif'><img
width=650 height=611 src="Apache-Kafka-Labs-Web_files/image082.png"
alt="Text Box: public  void  execute(Tuple  input)  {&#13;&#10;String  sentence  =  input.getString(0); String[]  words  =  sentence.split(&quot;  &quot;); for(String  word:  words)  {&#13;&#10;word  =  word.trim(); if(!word.isEmpty())  {&#13;&#10;word  =  word.toLowerCase(); collector.emit(new  Values(word));&#13;&#10;}&#13;&#10;}&#13;&#10;collector.ack(input);&#13;&#10;}&#13;&#10;@Override&#13;&#10;public  void  declareOutputFields(OutputFieldsDeclarer  declarer)  { declarer.declare(new  Fields(&quot;word&quot;));&#13;&#10;}&#13;&#10;@Override&#13;&#10;public  void  cleanup()  {&#13;&#10;}&#13;&#10;@Override&#13;&#10;public  Map&lt;String,  Object&gt;  getComponentConfiguration()  { return  null;&#13;&#10;}&#13;&#10;}&#13;&#10;"></span></p>

<p class=MsoBodyText style='margin-top:.4pt'><b><span style='font-size:7.5pt;
font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<h2 style='margin-top:4.55pt'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=645 height=234 src="Apache-Kafka-Labs-Web_files/image083.png"></td>
 </tr>
</table>

<br clear=ALL>
CountBolt.java</h2>

</div>

<span style='font-size:11.0pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection38>

<p class=MsoBodyText><b><span style='font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<p class=MsoBodyText><b><span style='font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<p class=MsoBodyText><b><span style='font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<p class=MsoBodyText style='margin-top:.2pt'><b><span style='font-size:9.0pt;
font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<p class=MsoBodyText style='margin-top:3.0pt;margin-right:286.0pt;margin-bottom:
0in;margin-left:107.9pt;margin-bottom:.0001pt;line-height:161%'><span
style='font-family:"Arial",sans-serif'>M</span><span style='font-family:"Arial",sans-serif'>ap</span><span
style='font-family:"Arial",sans-serif'>&lt;</span><span style='font-family:
"Arial",sans-serif;letter-spacing:-.1pt'>S</span><span style='font-family:"Arial",sans-serif'>t</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif'>i</span><span
style='font-family:"Arial",sans-serif'>ng</span><span style='font-family:"Arial",sans-serif'>,</span><span
style='font-family:"Arial",sans-serif'> <span style='letter-spacing:-.15pt'> </span>I<span
style='letter-spacing:-.1pt'>n</span>teger&gt; <span style='letter-spacing:
-.05pt'> </span><span style='letter-spacing:-.1pt'>c</span>ount<span
style='letter-spacing:-.1pt'>e</span>rs; priv<span style='letter-spacing:-.1pt'>a</span>te
<span style='letter-spacing:-.05pt'> </span>Ou<span style='letter-spacing:-.1pt'>t</span>pu<span
style='letter-spacing:-.1pt'>t</span>Collect<span style='letter-spacing:-.1pt'>o</span>r
<span style='letter-spacing:-.05pt'> </span>co<span style='letter-spacing:-.1pt'>l</span>lecto<span
style='letter-spacing:-.1pt'>r</span>; @Ove<span style='letter-spacing:-.1pt'>r</span>ride</span></p>

<p class=MsoBodyText style='margin-top:.05pt;margin-right:110.0pt;margin-bottom:
0in;margin-left:195.85pt;margin-bottom:.0001pt;text-indent:-88.0pt;line-height:
161%'><span style='font-family:"Arial",sans-serif'>pub</span><span
style='font-family:"Arial",sans-serif'>l<span style='letter-spacing:-.1pt'>i</span></span><span
style='font-family:"Arial",sans-serif'>c</span><span style='font-family:"Arial",sans-serif'>
<span style='letter-spacing:-.05pt'> </span>void <span style='letter-spacing:
-.15pt'> </span>p<span style='letter-spacing:-.1pt'>r</span>epare(M<span
style='letter-spacing:-.1pt'>a</span>p <span style='letter-spacing:-.05pt'> </span>st<span
style='letter-spacing:-.1pt'>o</span>rmCon<span style='letter-spacing:-.1pt'>f</span>,
<span style='letter-spacing:-.05pt'> </span><span style='letter-spacing:-.1pt'>T</span>opology<span
style='letter-spacing:-.1pt'>C</span>onte<span style='letter-spacing:-.1pt'>x</span>t
<span style='letter-spacing:-.05pt'> </span>con<span style='letter-spacing:
-.1pt'>t</span>ex<span style='letter-spacing:-.1pt'>t</span>, Outpu<span
style='letter-spacing:-.1pt'>t</span>Coll<span style='letter-spacing:-.1pt'>e</span>ctor
<span style='letter-spacing:-.05pt'> </span><span style='letter-spacing:-.1pt'>c</span>ol<span
style='letter-spacing:-.1pt'>l</span>ector) <span style='letter-spacing:-.05pt'> </span>{</span></p>

<p class=MsoBodyText style='margin-top:.05pt;margin-right:149.6pt;margin-bottom:
0in;margin-left:151.9pt;margin-bottom:.0001pt;line-height:161%'><span
style='font-family:"Arial",sans-serif'>t</span><span style='font-family:"Arial",sans-serif'>h</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>i</span><span
style='font-family:"Arial",sans-serif'>s</span><span style='font-family:"Arial",sans-serif'>.</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>c</span><span
style='font-family:"Arial",sans-serif'>oun</span><span style='font-family:"Arial",sans-serif'>t</span><span
style='font-family:"Arial",sans-serif'>e</span><span style='font-family:"Arial",sans-serif'>r</span><span
style='font-family:"Arial",sans-serif'>s</span><span style='font-family:"Arial",sans-serif'>
<span style='letter-spacing:-.15pt'> </span>= <span style='letter-spacing:-.05pt'> </span>new
<span style='letter-spacing:-.15pt'> </span>Hash<span style='letter-spacing:
-.1pt'>M</span>ap<span style='letter-spacing:-.1pt'>&lt;</span>String, <span
style='letter-spacing:-.15pt'> </span>Inte<span style='letter-spacing:-.1pt'>g</span>er&gt;();
th<span style='letter-spacing:-.1pt'>i</span>s.<span style='letter-spacing:
-.1pt'>c</span>ollector <span style='letter-spacing:-.15pt'> </span>= <span
style='letter-spacing:-.05pt'> </span>c<span style='letter-spacing:-.1pt'>o</span>llect<span
style='letter-spacing:-.1pt'>o</span>r;</span></p>

<p class=MsoBodyText style='margin-left:107.9pt'><span style='font-family:"Arial",sans-serif'>}</span></p>

<p class=MsoBodyText style='margin-top:.1in;margin-right:0in;margin-bottom:
0in;margin-left:107.9pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>@</span><span
style='font-family:"Arial",sans-serif'>O</span><span style='font-family:"Arial",sans-serif'>v</span><span
style='font-family:"Arial",sans-serif'>e</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>r</span><span style='font-family:"Arial",sans-serif'>r</span><span
style='font-family:"Arial",sans-serif'>i</span><span style='font-family:"Arial",sans-serif'>de</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:267.35pt;margin-bottom:
0in;margin-left:151.9pt;margin-bottom:.0001pt;text-indent:-44.05pt;line-height:
161%'><span style='font-family:"Arial",sans-serif'>pub</span><span
style='font-family:"Arial",sans-serif'>l<span style='letter-spacing:-.1pt'>i</span></span><span
style='font-family:"Arial",sans-serif'>c</span><span style='font-family:"Arial",sans-serif'>
<span style='letter-spacing:-.05pt'> </span>void <span style='letter-spacing:
-.15pt'> </span>e<span style='letter-spacing:-.1pt'>x</span>ecute(T<span
style='letter-spacing:-.1pt'>u</span>ple <span style='letter-spacing:-.05pt'> </span><span
style='letter-spacing:-.1pt'>i</span>nput) <span style='letter-spacing:-.15pt'> </span>{
St<span style='letter-spacing:-.1pt'>r</span>ing <span style='letter-spacing:
-.15pt'> </span>str <span style='letter-spacing:-.05pt'> </span>= <span
style='letter-spacing:-.05pt'> </span><span style='letter-spacing:-.1pt'>i</span>nput<span
style='letter-spacing:-.1pt'>.</span>getSt<span style='letter-spacing:-.1pt'>r</span>in<span
style='letter-spacing:-.1pt'>g</span>(0); if<span style='letter-spacing:-.1pt'>(</span>!c<span
style='letter-spacing:-.1pt'>o</span>unters.<span style='letter-spacing:-.1pt'>c</span>onta<span
style='letter-spacing:-.1pt'>i</span>nsKey<span style='letter-spacing:-.1pt'>(</span>st<span
style='letter-spacing:-.1pt'>r</span>)){</span></p>

<p class=MsoBodyText style='margin-top:.05pt;margin-right:0in;margin-bottom:
0in;margin-left:195.85pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>c</span><span
style='font-family:"Arial",sans-serif'>oun</span><span style='font-family:"Arial",sans-serif'>t</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>e</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif'>s</span><span
style='font-family:"Arial",sans-serif'>.</span><span style='font-family:"Arial",sans-serif'>p<span
style='letter-spacing:-.1pt'>u</span></span><span style='font-family:"Arial",sans-serif'>t</span><span
style='font-family:"Arial",sans-serif'>(</span><span style='font-family:"Arial",sans-serif'>s</span><span
style='font-family:"Arial",sans-serif'>t</span><span style='font-family:"Arial",sans-serif'>r</span><span
style='font-family:"Arial",sans-serif'>,</span><span style='font-family:"Arial",sans-serif'>
<span style='letter-spacing:-.15pt'> </span>1<span style='letter-spacing:-.1pt'>)</span>;</span></p>

</div>

<span style='font-size:11.0pt;font-family:"Arial",sans-serif'><br clear=all
style='page-break-before:auto'>
</span>

<div class=WordSection39>

<p class=MsoBodyText align=right style='margin-top:7.1pt;text-align:right'><span
style='font-family:"Arial",sans-serif'>}</span><span style='font-family:"Arial",sans-serif'>e</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>l</span><span
style='font-family:"Arial",sans-serif'>s</span><span style='font-family:"Arial",sans-serif'>e</span><span
style='font-family:"Arial",sans-serif'>{</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.15pt'><span style='font-size:8.5pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText align=right style='margin-right:27.3pt;text-align:right'><span
style='font-family:"Arial",sans-serif'>}</span></p>

<span style='font-size:10.0pt;font-family:"Verdana",sans-serif'><br clear=all>
</span>

<p class=MsoBodyText></p>

<p class=MsoBodyText style='margin-top:.4pt'><span style='font-size:12.0pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:126.9pt;margin-bottom:
0in;margin-left:9.0pt;margin-bottom:.0001pt;line-height:162%'><span
style='font-family:"Arial",sans-serif'>I</span><span style='font-family:"Arial",sans-serif'>n</span><span
style='font-family:"Arial",sans-serif'>t</span><span style='font-family:"Arial",sans-serif'>eg<span
style='letter-spacing:-.1pt'>e</span></span><span style='font-family:"Arial",sans-serif'>r</span><span
style='font-family:"Arial",sans-serif'> <span style='letter-spacing:-.05pt'> </span>c
<span style='letter-spacing:-.05pt'> </span>= <span style='letter-spacing:-.15pt'> </span>coun<span
style='letter-spacing:-.1pt'>t</span>er<span style='letter-spacing:-.1pt'>s</span>.get(st<span
style='letter-spacing:-.1pt'>r</span>) <span style='letter-spacing:-.05pt'> </span>+1;
count<span style='letter-spacing:-.1pt'>e</span>rs.p<span style='letter-spacing:
-.1pt'>u</span>t(str, <span style='letter-spacing:-.15pt'> </span>c<span
style='letter-spacing:-.1pt'>)</span>;</span></p>

</div>

<span style='font-size:11.0pt;line-height:162%;font-family:"Arial",sans-serif'><br
clear=all style='page-break-before:auto'>
</span>

<div class=WordSection40>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:0in;margin-bottom:
0in;margin-left:151.9pt;margin-bottom:.0001pt'><span style='position:absolute;
z-index:-1895772160;left:0px;margin-left:74px;margin-top:119px;width:645px;
height:831px'><img width=645 height=831
src="Apache-Kafka-Labs-Web_files/image084.png"></span><span style='font-family:
"Arial",sans-serif'>c</span><span style='font-family:"Arial",sans-serif'>o</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>l</span><span
style='font-family:"Arial",sans-serif'>l</span><span style='font-family:"Arial",sans-serif'>e</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>c</span><span
style='font-family:"Arial",sans-serif'>t</span><span style='font-family:"Arial",sans-serif'>o</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif'>.</span><span
style='font-family:"Arial",sans-serif'>a</span><span style='font-family:"Arial",sans-serif'>ck</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>(</span><span
style='font-family:"Arial",sans-serif'>i</span><span style='font-family:"Arial",sans-serif'>npu</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>t</span><span
style='font-family:"Arial",sans-serif'>)</span><span style='font-family:"Arial",sans-serif'>;</span></p>

<p class=MsoBodyText style='margin-top:7.25pt;margin-right:0in;margin-bottom:
0in;margin-left:107.9pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>}</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:0in;margin-bottom:
0in;margin-left:107.9pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>@</span><span
style='font-family:"Arial",sans-serif'>O</span><span style='font-family:"Arial",sans-serif'>v</span><span
style='font-family:"Arial",sans-serif'>e</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>r</span><span style='font-family:"Arial",sans-serif'>r</span><span
style='font-family:"Arial",sans-serif'>i</span><span style='font-family:"Arial",sans-serif'>de</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:0in;margin-bottom:
0in;margin-left:107.9pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>pub</span><span
style='font-family:"Arial",sans-serif'>l<span style='letter-spacing:-.1pt'>i</span></span><span
style='font-family:"Arial",sans-serif'>c</span><span style='font-family:"Arial",sans-serif'>
<span style='letter-spacing:-.05pt'> </span>void <span style='letter-spacing:
-.15pt'> </span>c<span style='letter-spacing:-.1pt'>l</span>eanup() <span
style='letter-spacing:-.15pt'> </span>{</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:0in;margin-bottom:
0in;margin-left:195.85pt;margin-bottom:.0001pt;text-indent:-43.95pt;line-height:
162%'><span style='font-family:"Arial",sans-serif'>f</span><span
style='font-family:"Arial",sans-serif'>o</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>r</span><span style='font-family:"Arial",sans-serif'>(</span><span
style='font-family:"Arial",sans-serif'>M</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>a</span><span style='font-family:"Arial",sans-serif'>p</span><span
style='font-family:"Arial",sans-serif'>.</span><span style='font-family:"Arial",sans-serif'>E</span><span
style='font-family:"Arial",sans-serif'>n</span><span style='font-family:"Arial",sans-serif'>t</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif'>y</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>&lt;</span><span
style='font-family:"Arial",sans-serif'>S</span><span style='font-family:"Arial",sans-serif'>t</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif'>i</span><span
style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>n</span><span
style='font-family:"Arial",sans-serif'>g</span><span style='font-family:"Arial",sans-serif'>,</span><span
style='font-family:"Arial",sans-serif'> <span style='letter-spacing:-.05pt'> </span>In<span
style='letter-spacing:-.1pt'>t</span>eg<span style='letter-spacing:-.1pt'>e</span>r&gt;
<span style='letter-spacing:-.05pt'> </span>entr<span style='letter-spacing:
-.1pt'>y</span>:cou<span style='letter-spacing:-.1pt'>n</span>ters.<span
style='letter-spacing:-.1pt'>e</span>nt<span style='letter-spacing:-.1pt'>r</span>ySet()){
Syste<span style='letter-spacing:-.1pt'>m</span>.out<span style='letter-spacing:
-.1pt'>.</span>print<span style='letter-spacing:-.1pt'>l</span>n(<span
style='letter-spacing:-.1pt'>e</span>ntry.ge<span style='letter-spacing:-.1pt'>t</span>Key(<span
style='letter-spacing:-.1pt'>)</span>+&quot; <span style='letter-spacing:-.05pt'> </span>:
<span style='letter-spacing:-.05pt'> </span>&quot; <span style='letter-spacing:
-.15pt'> </span>+ <span style='letter-spacing:-.15pt'> </span>entry.g<span
style='letter-spacing:-.1pt'>e</span>tVal<span style='letter-spacing:-.1pt'>u</span>e());</span></p>

<p class=MsoBodyText style='margin-left:151.9pt;line-height:11.35pt'><span
style='font-family:"Arial",sans-serif'>}</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:0in;margin-bottom:
0in;margin-left:107.9pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>}</span></p>

<p class=MsoBodyText style='margin-top:7.25pt;margin-right:0in;margin-bottom:
0in;margin-left:107.9pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>@</span><span
style='font-family:"Arial",sans-serif'>O</span><span style='font-family:"Arial",sans-serif'>v</span><span
style='font-family:"Arial",sans-serif'>e</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>r</span><span style='font-family:"Arial",sans-serif'>r</span><span
style='font-family:"Arial",sans-serif'>i</span><span style='font-family:"Arial",sans-serif'>de</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:0in;margin-bottom:
0in;margin-left:107.9pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>pub</span><span
style='font-family:"Arial",sans-serif'>l<span style='letter-spacing:-.1pt'>i</span></span><span
style='font-family:"Arial",sans-serif'>c</span><span style='font-family:"Arial",sans-serif'>
<span style='letter-spacing:-.05pt'> </span>void <span style='letter-spacing:
-.15pt'> </span>d<span style='letter-spacing:-.1pt'>e</span>clareOu<span
style='letter-spacing:-.1pt'>t</span>putF<span style='letter-spacing:-.1pt'>i</span>elds(<span
style='letter-spacing:-.1pt'>O</span>ut<span style='letter-spacing:-.1pt'>p</span>utFi<span
style='letter-spacing:.5pt'>e</span>ld<span style='letter-spacing:-.1pt'>s</span>Decl<span
style='letter-spacing:-.1pt'>a</span>rer <span style='letter-spacing:-.05pt'> </span>d<span
style='letter-spacing:-.1pt'>e</span>cl<span style='letter-spacing:-.1pt'>a</span>rer)
<span style='letter-spacing:-.05pt'> </span>{</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:0in;margin-bottom:
0in;margin-left:107.9pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>}</span></p>

<p class=MsoBodyText style='margin-top:.1in;margin-right:0in;margin-bottom:
0in;margin-left:107.9pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>@</span><span
style='font-family:"Arial",sans-serif'>O</span><span style='font-family:"Arial",sans-serif'>v</span><span
style='font-family:"Arial",sans-serif'>e</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>r</span><span style='font-family:"Arial",sans-serif'>r</span><span
style='font-family:"Arial",sans-serif'>i</span><span style='font-family:"Arial",sans-serif'>de</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:149.6pt;margin-bottom:
0in;margin-left:151.9pt;margin-bottom:.0001pt;text-indent:-44.05pt;line-height:
161%'><span style='font-family:"Arial",sans-serif'>pub</span><span
style='font-family:"Arial",sans-serif'>l<span style='letter-spacing:-.1pt'>i</span></span><span
style='font-family:"Arial",sans-serif'>c</span><span style='font-family:"Arial",sans-serif'>
<span style='letter-spacing:-.05pt'> </span>Map<span style='letter-spacing:
-.1pt'>&lt;</span>St<span style='letter-spacing:-.1pt'>r</span>ing, <span
style='letter-spacing:-.05pt'> </span>Ob<span style='letter-spacing:-.1pt'>j</span>ect&gt;
<span style='letter-spacing:-.15pt'> </span>getCo<span style='letter-spacing:
-.1pt'>m</span>po<span style='letter-spacing:-.1pt'>n</span>entConf<span
style='letter-spacing:-.1pt'>i</span>gura<span style='letter-spacing:-.1pt'>t</span>ion()
<span style='letter-spacing:-.15pt'> </span>{ re<span style='letter-spacing:
-.1pt'>t</span>urn <span style='letter-spacing:-.15pt'> </span>null;</span></p>

<p class=MsoBodyText style='margin-left:107.9pt;line-height:11.45pt'><span
style='font-family:"Arial",sans-serif'>}</span></p>

<p class=MsoBodyText style='margin-top:7.25pt;margin-right:0in;margin-bottom:
0in;margin-left:63.85pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>}</span></p>

</div>

<span style='font-size:11.0pt;font-family:"Arial",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection41>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.35pt'><span style='font-size:12.0pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<h1>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark42"></a>Submitting to Topology</h1>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:56.7pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>The Storm topology is basically a Thrift structure. TopologyBuilder class
provides simple and easy<span style='letter-spacing:-.6pt'> </span>methods<span
style='letter-spacing:-.65pt'> </span>to<span style='letter-spacing:-.6pt'> </span>create<span
style='letter-spacing:-.45pt'> </span>complex<span style='letter-spacing:-.65pt'>
</span>topologies.<span style='letter-spacing:-.75pt'> </span>The<span
style='letter-spacing:-.6pt'> </span>TopologyBuilder<span style='letter-spacing:
-.7pt'> </span>class<span style='letter-spacing:-.75pt'> </span>has<span
style='letter-spacing:-.65pt'> </span>methods<span style='letter-spacing:-.65pt'>
</span>to<span style='letter-spacing:-.6pt'> </span>set<span style='letter-spacing:
-.5pt'> </span>spout (setSpout) and to set bolt (setBolt). Finally,
TopologyBuilder has createTopology to create to- pology. shuffleGrouping and
fieldsGrouping methods help to set stream grouping for spout and bolts.</p>

<p class=MsoBodyText style='margin-top:7.95pt;margin-right:56.55pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
106%'><b>Local Cluster – </b>For development purposes, we can create a local
cluster using &quot;LocalCluster&quot; object and then submit the topology
using &quot;submitTopology&quot; method of &quot;LocalCluster&quot; class.</p>

<p class=MsoBodyText style='margin-top:.45pt'><span style='font-size:12.0pt'>&nbsp;</span></p>

<h2 style='margin-top:.05pt;text-align:justify'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=661 src="Apache-Kafka-Labs-Web_files/image085.png"
  alt="Text Box: import backtype.storm.Config; import backtype.storm.LocalCluster;&#13;&#10;import backtype.storm.topology.TopologyBuilder;&#13;&#10;&#13;&#10;&#13;&#10;import  java.util.ArrayList; import  java.util.List; import  java.util.UUID;&#13;&#10;&#13;&#10;import  backtype.storm.spout.SchemeAsMultiScheme; import storm.kafka.trident.GlobalPartitionInformation; import storm.kafka.ZkHosts;&#13;&#10;import storm.kafka.Broker; import storm.kafka.StaticHosts; import storm.kafka.BrokerHosts; import  storm.kafka.SpoutConfig; import  storm.kafka.KafkaConfig; import storm.kafka.KafkaSpout; import storm.kafka.StringScheme;&#13;&#10;&#13;&#10;public class KafkaStormSample {&#13;&#10;&#13;&#10;&#13;&#10;public  static  void  main(String[]  args)  throws  Exception{ Config  config  =  new  Config(); config.setDebug(true); config.put(Config.TOPOLOGY_MAX_SPOUT_PENDING,  1);&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
KafkaStormSample.java</h2>

</div>

<span style='font-size:11.0pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection42>

<p class=MsoBodyText><b><span style='font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<p class=MsoBodyText><b><span style='font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<p class=MsoBodyText><b><span style='font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<p class=MsoBodyText style='margin-top:.4pt;margin-right:0in;margin-bottom:
.05pt;margin-left:0in'><b><span style='font-size:6.0pt;font-family:"Arial",sans-serif'>&nbsp;</span></b></p>

<p class=MsoBodyText style='margin-left:55.9pt'><span style='font-family:"Arial",sans-serif'><img
width=650 height=719 src="Apache-Kafka-Labs-Web_files/image086.png"
alt="Text Box: String  zkConnString  =  &quot;localhost:2181&quot;; String  topic  =  &quot;my-first-topic&quot;;&#13;&#10;BrokerHosts  hosts  =  new  ZkHosts(zkConnString);&#13;&#10;&#13;&#10;&#13;&#10;SpoutConfig  kafkaSpoutConfig  =  new  SpoutConfig  (hosts,  topic,  &quot;/&quot;  + topic,  UUID.randomUUID().toString());&#13;&#10;&#13;&#10;&#13;&#10;kafkaSpoutConfig.bufferSizeBytes  =  1024  *  1024  *  4;&#13;&#10;kafkaSpoutConfig.fetchSizeBytes  =  1024  *  1024  *  4; kafkaSpoutConfig.forceFromStart  =  true;&#13;&#10;kafkaSpoutConfig.scheme  =  new  SchemeAsMultiScheme(new  StringScheme());&#13;&#10;&#13;&#10;&#13;&#10;TopologyBuilder  builder  =  new  TopologyBuilder(); builder.setSpout(&quot;kafka-spout&quot;,  new  KafkaSpout(kafkaSpoutCon-&#13;&#10;fig));&#13;&#10;builder.setBolt(&quot;word-spitter&quot;,  new  SplitBolt()).shuffleGroup- ing(&quot;kafka-spout&quot;);&#13;&#10;builder.setBolt(&quot;word-counter&quot;,  new  CountBolt()).shuffleGroup- ing(&quot;word-spitter&quot;);&#13;&#10;&#13;&#10;LocalCluster  cluster  =  new  LocalCluster(); cluster.submitTopology(&quot;KafkaStormSample&quot;,  config,  builder.create-&#13;&#10;Topology());&#13;&#10;Thread.sleep(10000);&#13;&#10;&#13;&#10;&#13;&#10;cluster.shutdown();&#13;&#10;}&#13;&#10;&#13;&#10;&#13;&#10;}&#13;&#10;"></span></p>

<p class=MsoBodyText style='margin-top:4.0pt;margin-right:56.7pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>Before<span style='letter-spacing:-1.0pt'> </span>moving<span
style='letter-spacing:-.85pt'> </span>compilation,<span style='letter-spacing:
-.9pt'> </span>Kakfa-Storm<span style='letter-spacing:-.8pt'> </span>integration<span
style='letter-spacing:-.85pt'> </span>needs<span style='letter-spacing:-.7pt'> </span>curator<span
style='letter-spacing:-.9pt'> </span>ZooKeeper<span style='letter-spacing:-.85pt'>
</span>client<span style='letter-spacing:-.85pt'> </span>java<span
style='letter-spacing:-.85pt'> </span>library. Curator<span style='letter-spacing:
-.7pt'> </span>version<span style='letter-spacing:-.55pt'> </span>2.9.1<span
style='letter-spacing:-.45pt'> </span>support<span style='letter-spacing:-.55pt'>
</span>Apache<span style='letter-spacing:-.5pt'> </span>Storm<span
style='letter-spacing:-.45pt'> </span>version<span style='letter-spacing:-.55pt'>
</span>0.9.5<span style='letter-spacing:-.55pt'> </span>(which<span
style='letter-spacing:-.55pt'> </span>we<span style='letter-spacing:-.7pt'> </span>use<span
style='letter-spacing:-.35pt'> </span>in<span style='letter-spacing:-.55pt'> </span>this<span
style='letter-spacing:-.6pt'> </span>tutorial).<span style='letter-spacing:
-.6pt'> </span>Down- load the below specified jar files and place it in java
class<span style='letter-spacing:-.85pt'> </span>path.</p>

<p class=MsoListParagraph style='margin-top:7.9pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>curator-client-2.9.1.jar</span></p>

<p class=MsoListParagraph style='margin-top:6.05pt'><span style='font-size:
10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>curator-framework-2.9.1.jar</span></p>

</div>

<span style='font-size:10.0pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection43>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.3pt'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:5.0pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>After including dependency files,
compile the program using the following command,</p>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=40 src="Apache-Kafka-Labs-Web_files/image087.png"
  alt="Text Box: javac  -cp  &quot;/path/to/Kafka/apache-storm-0.9.5/lib/*&quot;  *.java"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:.3pt'><span style='font-size:9.5pt'>&nbsp;</span></p>

<h1>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark43"></a>Execution</h1>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'>Start Kafka
Producer CLI (explained in previous chapter), create a new topic called
“my-first- topic” and provide some sample messages as shown below:</p>

<p class=MsoBodyText style='margin-top:.1pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=164 src="Apache-Kafka-Labs-Web_files/image088.png"
  alt="Text Box: hello kafka storm spark&#13;&#10;test  message another test message&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:4.45pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>Now execute the application using
the following command:</p>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=40 src="Apache-Kafka-Labs-Web_files/image089.png"
  alt="Text Box: java  -cp  “/path/to/Kafka/apache-storm-0.9.5/lib/*”:.  KafkaStormSample"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:4.45pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>The sample output of this
application is specified below –</p>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=6 src="Apache-Kafka-Labs-Web_files/image090.png"
  alt="Text Box: storm : 1&#13;&#10;test : 2&#13;&#10;spark : 1&#13;&#10;another : 1&#13;&#10;kafka  : 1&#13;&#10;hello  : 1&#13;&#10;message : 2&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

</div>

<span style='font-size:5.5pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection44>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.45pt'><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:5.0pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'><span
style='position:relative;z-index:-1895771136'><span style='left:0px;position:
absolute;left:626px;top:-377px;width:96px;height:4px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=96 height=4 style='vertical-align:top'><span style='position:absolute;
  left:0pt;z-index:-1895771136'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:0pt 0pt 0pt 0pt'>
    <p class=MsoBodyText style='line-height:12.1pt'>Apache<span
    style='letter-spacing:-.25pt'> </span>Kafka</p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span></span><span style='position:relative;z-index:251693056'><span
style='left:0px;position:absolute;left:-2px;top:-379px;width:803px;height:11px'><img
width=803 height=11 src="Apache-Kafka-Labs-Web_files/image091.png"></span></span>In<span
style='letter-spacing:-.6pt'> </span>this<span style='letter-spacing:-.65pt'> </span>chapter,<span
style='letter-spacing:-.55pt'> </span>we<span style='letter-spacing:-.7pt'> </span>wi<a
name="_bookmark44"></a>ll<span style='letter-spacing:-.45pt'> </span>be<span
style='letter-spacing:-.7pt'> </span>discussing<span style='letter-spacing:
-.6pt'> </span>about<span style='letter-spacing:-.6pt'> </span>how<span
style='letter-spacing:-.65pt'> </span>to<span style='letter-spacing:-.65pt'> </span>integrate<span
style='letter-spacing:-.7pt'> </span>Apache<span style='letter-spacing:-.7pt'> </span>Kafka<span
style='letter-spacing:-.6pt'> </span>with<span style='letter-spacing:-.55pt'> </span>Spark<span
style='letter-spacing:-.3pt'> </span>Streaming API.</p>

<p class=MsoBodyText style='margin-top:.35pt'><span style='font-size:14.5pt'>&nbsp;</span></p>

<h1 style='margin-top:0in'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark45"></a>About Spark</h1>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:56.55pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>Spark<span style='letter-spacing:-.35pt'> </span>Streaming<span
style='letter-spacing:-.3pt'> </span>API<span style='letter-spacing:-.4pt'> </span>enables<span
style='letter-spacing:-.35pt'> </span>scalable,<span style='letter-spacing:
-.25pt'> </span>high-throughput,<span style='letter-spacing:-.3pt'> </span>fault-tolerant<span
style='letter-spacing:-.4pt'> </span>stream<span style='letter-spacing:-.3pt'> </span>processing<span
style='letter-spacing:-.3pt'> </span>of<span style='letter-spacing:-.35pt'> </span>live
data<span style='letter-spacing:-.35pt'> </span>streams.<span style='letter-spacing:
-.35pt'> </span>Data<span style='letter-spacing:-.35pt'> </span>can<span
style='letter-spacing:-.25pt'> </span>be<span style='letter-spacing:-.45pt'> </span>ingested<span
style='letter-spacing:-.35pt'> </span>from<span style='letter-spacing:-.25pt'> </span>many<span
style='letter-spacing:-.3pt'> </span>sources<span style='letter-spacing:-.45pt'>
</span>like<span style='letter-spacing:-.45pt'> </span>Kafka,<span
style='letter-spacing:-.45pt'> </span>Flume,<span style='letter-spacing:-.4pt'>
</span>Twitter,<span style='letter-spacing:-.4pt'> </span>etc.,<span
style='letter-spacing:-.3pt'> </span>and<span style='letter-spacing:-.35pt'> </span>can
be processed using complex algorithms such as high-level functions like map,
reduce, join and window. Finally, processed data can be pushed out to
filesystems, databases, and live dash- boards. Resilient Distributed Datasets
(RDD) is a fundamental data structure of Spark. It is an immutable<span
style='letter-spacing:-.75pt'> </span>distributed<span style='letter-spacing:
-.6pt'> </span>collection<span style='letter-spacing:-.65pt'> </span>of<span
style='letter-spacing:-.6pt'> </span>objects.<span style='letter-spacing:-.55pt'>
</span>Each<span style='letter-spacing:-.65pt'> </span>dataset<span
style='letter-spacing:-.6pt'> </span>in<span style='letter-spacing:-.65pt'> </span>RDD<span
style='letter-spacing:-.65pt'> </span>is<span style='letter-spacing:-.7pt'> </span>divided<span
style='letter-spacing:-.6pt'> </span><span style='letter-spacing:.1pt'>into</span><span
style='letter-spacing:-.75pt'> </span>logical<span style='letter-spacing:-.5pt'>
</span>partitions, which may be computed on different nodes of the<span
style='letter-spacing:-.35pt'> </span>cluster.</p>

<p class=MsoBodyText style='margin-top:.05pt'><span style='font-size:14.5pt'>&nbsp;</span></p>

<h1 style='margin-top:0in'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark46"></a>Integration with Spark</h1>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:56.65pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>Kafka is a potential messaging and integration platform for Spark
streaming. Kafka act as the central hub for real-time streams of data and are
processed using complex algorithms in Spark Streaming. Once the data is
processed, Spark Streaming could be publishing results into yet another Kafka
topic or store in HDFS, databases or dashboards. The following diagram depicts
the conceptual flow.</p>

<p class=MsoBodyText style='margin-top:.15pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=77 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=634 height=1 src="Apache-Kafka-Labs-Web_files/image092.jpg"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:.2pt'><span style='font-size:15.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-left:56.6pt'>Now, let us go through
Kafka-Spark API’s in detail.</p>

<p class=MsoBodyText style='margin-top:.1pt'><span style='font-size:13.0pt'>&nbsp;</span></p>

<h2 style='margin-top:.05pt'>SparkConf API</h2>

<p class=MsoBodyText style='margin-top:6.15pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'>It<span
style='letter-spacing:-.6pt'> </span>represents<span style='letter-spacing:
-.7pt'> </span>configuration<span style='letter-spacing:-.7pt'> </span>for<span
style='letter-spacing:-.75pt'> </span>a<span style='letter-spacing:-.75pt'> </span>Spark<span
style='letter-spacing:-.75pt'> </span>application.<span style='letter-spacing:
-.8pt'> </span>Used<span style='letter-spacing:-.7pt'> </span>to<span
style='letter-spacing:-.8pt'> </span>set<span style='letter-spacing:-.75pt'> </span>various<span
style='letter-spacing:-.75pt'> </span>Spark<span style='letter-spacing:-.75pt'>
</span>parameters<span style='letter-spacing:-.8pt'> </span>as<span
style='letter-spacing:-.65pt'> </span>key- value<span style='letter-spacing:
-.1pt'> </span>pairs.</p>

<p class=MsoBodyText style='margin-top:8.05pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify'>“SparkConf”
class has the following methods:</p>

<p class=MsoListParagraph style='margin-top:8.95pt'><span style='font-size:
10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>set(string key, string value) -
set configuration<span style='letter-spacing:-.15pt'> </span>variable</span></p>

<p class=MsoListParagraph style='margin-top:6.0pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>remove(string key) - remove key
from the<span style='letter-spacing:-.25pt'> </span>configuration.</span></p>

<p class=MsoListParagraph style='margin-top:6.0pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>setAppName(string name) - set
application name for your<span style='letter-spacing:-.25pt'> </span>application.</span></p>

<p class=MsoListParagraph style='margin-top:6.0pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>get(string key) - get key</span></p>

</div>

<span style='font-size:10.0pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection45>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.1pt'><span style='font-size:13.0pt'>&nbsp;</span></p>

<h2 style='margin-top:4.55pt'>StreamingContext API</h2>

<p class=MsoBodyText style='margin-top:6.15pt;margin-right:56.85pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>This is the main entry point for Spark functionality. A SparkContext
represents the connection to a Spark cluster, and can be used to create RDDs,
accumulators and broadcast variables on the cluster. The signature is defined
as shown below.</p>

<p class=MsoBodyText style='margin-top:.55pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=6 src="Apache-Kafka-Labs-Web_files/image090.png"
  alt="Text Box: public  StreamingContext(String  master,&#13;&#10;String  appName, Duration  batchDuration, String sparkHome,&#13;&#10;scala.collection.Seq&lt;String&gt; jars, scala.collection.Map&lt;String,String&gt; environment)&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoListParagraph style='margin-top:4.45pt'><span style='font-size:
10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>master - cluster URL to connect to
(e.g. mesos://host:port, spark://host:port,<span style='letter-spacing:-.8pt'> </span>local[4]).</span></p>

<p class=MsoListParagraph style='margin-top:5.95pt'><span style='font-size:
10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>appName - a name for your job, to
display on the cluster web<span style='letter-spacing:-.3pt'> </span>UI</span></p>

<p class=MsoListParagraph style='margin-top:6.0pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>batchDuration - the time interval
at which streaming data will be divided into<span style='letter-spacing:-.75pt'>
</span>batches</span></p>

<p class=MsoBodyText style='margin-top:.5pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=6 src="Apache-Kafka-Labs-Web_files/image090.png"
  alt="Text Box: public  StreamingContext(SparkConf  conf,  Duration  batchDuration)"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:4.45pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>Create a StreamingContext by
providing the configuration necessary for a new SparkContext.</p>

<p class=MsoListParagraph style='margin-top:8.95pt'><span style='font-size:
10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>conf - Spark<span
style='letter-spacing:-.05pt'> </span>parameters</span></p>

<p class=MsoListParagraph style='margin-top:6.0pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>batchDuration - the time interval
at which streaming data will be divided into<span style='letter-spacing:-.75pt'>
</span>batches</span></p>

<p class=MsoBodyText style='margin-top:.2pt'><span style='font-size:17.0pt'>&nbsp;</span></p>

<h2>KafkaUtils API</h2>

<p class=MsoBodyText style='margin-top:6.3pt;margin-right:56.05pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'>KafkaUtils API
is used to connect the Kafka cluster to Spark streaming. This API has the
signifi- cant method “createStream” signature defined as below.</p>

<p class=MsoBodyText style='margin-top:.1pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=6 src="Apache-Kafka-Labs-Web_files/image090.png"
  alt="Text Box: public static ReceiverInputDStream&lt;scala.Tuple2&lt;String,String&gt;&gt; createStream( StreamingContext ssc,&#13;&#10;String zkQuorum, String groupId,&#13;&#10;scala.collection.immutable.Map&lt;String,Object&gt; topics, StorageLevel storageLevel)&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

</div>

<span style='font-size:5.0pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection46>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.45pt'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:4.95pt;margin-right:56.85pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
106%'>The above shown method is used to Create an input stream that pulls
messages from Kafka Brokers.</p>

<p class=MsoListParagraph style='margin-top:8.05pt'><span style='font-size:
10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>ssc - StreamingContext<span
style='letter-spacing:.05pt'> </span>object.</span></p>

<p class=MsoListParagraph style='margin-top:6.0pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>zkQuorum - Zookeeper<span
style='letter-spacing:-.05pt'> </span>quorum.</span></p>

<p class=MsoListParagraph style='margin-top:6.0pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>groupId - The group id for this<span
style='letter-spacing:-.25pt'> </span>consumer.</span></p>

<p class=MsoListParagraph style='margin-top:6.0pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>topics - return a map of topics to<span
style='letter-spacing:-.1pt'> </span>consume.</span></p>

<p class=MsoListParagraph style='margin-top:6.0pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>storageLevel - Storage level to
use for storing the received<span style='letter-spacing:-.25pt'> </span>objects.</span></p>

<p class=MsoBodyText style='margin-top:.15pt'><span style='font-size:11.5pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.05pt;margin-right:56.75pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
106%'>KafkaUtils<span style='letter-spacing:-.45pt'> </span>API<span
style='letter-spacing:-.35pt'> </span>has<span style='letter-spacing:-.25pt'> </span>another<span
style='letter-spacing:-.35pt'> </span>method<span style='letter-spacing:-.1pt'>
</span>createDirectStream,<span style='letter-spacing:-.25pt'> </span>which<span
style='letter-spacing:-.35pt'> </span>is<span style='letter-spacing:-.45pt'> </span>used<span
style='letter-spacing:-.2pt'> </span>to<span style='letter-spacing:-.35pt'> </span>create<span
style='letter-spacing:-.35pt'> </span>an<span style='letter-spacing:-.3pt'> </span>input<span
style='letter-spacing:-.35pt'> </span>stream that directly pulls messages from
Kafka Brokers without using any receiver. This stream can guarantee that each
message from Kafka is included in transformations exactly<span
style='letter-spacing:-.75pt'> </span>once.</p>

<p class=MsoBodyText style='margin-top:8.25pt;margin-right:56.95pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
106%'>The<span style='letter-spacing:-.2pt'> </span>sample<span
style='letter-spacing:-.3pt'> </span>application<span style='letter-spacing:
-.25pt'> </span>is<span style='letter-spacing:-.25pt'> </span>done<span
style='letter-spacing:-.35pt'> </span>in<span style='letter-spacing:-.2pt'> </span>Scala.<span
style='letter-spacing:-.3pt'> </span>To<span style='letter-spacing:-.2pt'> </span>compile<span
style='letter-spacing:-.35pt'> </span>the<span style='letter-spacing:-.3pt'> </span>application,<span
style='letter-spacing:-.3pt'> </span>please<span style='letter-spacing:-.2pt'> </span>download<span
style='letter-spacing:-.25pt'> </span>and<span style='letter-spacing:-.2pt'> </span>install
“sbt”, scala build tool (similar to maven). The main application code is
presented<span style='letter-spacing:-.85pt'> </span>below.</p>

<p class=MsoBodyText style='margin-top:.1pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=6 src="Apache-Kafka-Labs-Web_files/image090.png"
  alt="Text Box: import  java.util.HashMap&#13;&#10;import  org.apache.kafka.clients.producer.{KafkaProducer,  ProducerConfig,  Produc- erRecord}&#13;&#10;import org.apache.spark.SparkConf import org.apache.spark.streaming._&#13;&#10;import org.apache.spark.streaming.kafka._&#13;&#10;&#13;&#10;&#13;&#10;object KafkaWordCount {&#13;&#10;def  main(args:  Array[String])  { if  (args.length  &lt;  4)  {&#13;&#10;System.err.println(&quot;Usage:  KafkaWordCount  &lt;zkQuorum&gt;  &lt;group&gt;  &lt;topics&gt;&#13;&#10;&lt;numThreads&gt;&quot;)&#13;&#10;System.exit(1)&#13;&#10;}&#13;&#10;&#13;&#10;&#13;&#10;val  Array(zkQuorum,  group,  topics,  numThreads)  =  args&#13;&#10;val  sparkConf  =  new  SparkConf().setAppName(&quot;KafkaWordCount&quot;) val  ssc  =  new  StreamingContext(sparkConf,  Seconds(2)) ssc.checkpoint(&quot;checkpoint&quot;)&#13;&#10;&#13;&#10;val  topicMap  =  topics.split(&quot;,&quot;).map((_,  numThreads.toInt)).toMap&#13;&#10;val  lines  =  KafkaUtils.createStream(ssc,  zkQuorum,  group,  topicMap).map(_._2) val  words  =  lines.flatMap(_.split(&quot;  &quot;))&#13;&#10;val  wordCounts  =  words.map(x  =&gt;  (x,  1L))&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

</div>

<span style='font-size:5.0pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection47>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.5pt'><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-left:55.9pt'><img width=650 height=6
src="Apache-Kafka-Labs-Web_files/image093.png"
alt="Text Box: .reduceByKeyAndWindow(_  +  _,  _  -  _,  Minutes(10),  Seconds(2),  2) wordCounts.print()&#13;&#10;&#13;&#10;ssc.start() ssc.awaitTermination()&#13;&#10;}&#13;&#10;}&#13;&#10;"></p>

<p class=MsoBodyText style='margin-top:.05pt'><span style='font-size:7.0pt'>&nbsp;</span></p>

<h2 style='margin-top:4.5pt'>Build Script</h2>

<p class=MsoBodyText style='margin-top:6.2pt;margin-right:56.5pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>The<span style='letter-spacing:-.4pt'> </span>spark-kafka<span
style='letter-spacing:-.4pt'> </span>integration<span style='letter-spacing:
-.35pt'> </span>depends<span style='letter-spacing:-.3pt'> </span>on<span
style='letter-spacing:-.25pt'> </span>the<span style='letter-spacing:-.35pt'> </span>spark,<span
style='letter-spacing:-.35pt'> </span>spark<span style='letter-spacing:-.3pt'> </span>streaming<span
style='letter-spacing:-.35pt'> </span>and<span style='letter-spacing:-.35pt'> </span>spark<span
style='letter-spacing:.05pt'> </span>Kafka<span style='letter-spacing:-.3pt'> </span>integration
jar.<span style='letter-spacing:-.8pt'> </span>Create<span style='letter-spacing:
-.8pt'> </span>a<span style='letter-spacing:-.7pt'> </span>new<span
style='letter-spacing:-.75pt'> </span>file<span style='letter-spacing:-.8pt'> </span>“build.sbt”<span
style='letter-spacing:-.7pt'> </span>and<span style='letter-spacing:-.75pt'> </span>specify<span
style='letter-spacing:-.8pt'> </span>the<span style='letter-spacing:-.65pt'> </span>application<span
style='letter-spacing:-.7pt'> </span>details<span style='letter-spacing:-.8pt'>
</span>and<span style='letter-spacing:-.8pt'> </span>its<span style='letter-spacing:
-.8pt'> </span>dependency.<span style='letter-spacing:-.8pt'> </span>The<span
style='letter-spacing:-.65pt'> </span>“sbt” will download the necessary jar
while compiling and packing the<span style='letter-spacing:-.3pt'> </span>application.</p>

<p class=MsoBodyText style='margin-top:.55pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=6 src="Apache-Kafka-Labs-Web_files/image090.png"
  alt="Text Box: name := &quot;Spark Kafka Project&quot; version := &quot;1.0&quot;&#13;&#10;scalaVersion := &quot;2.10.5&quot;&#13;&#10;&#13;&#10;&#13;&#10;libraryDependencies  +=  &quot;org.apache.spark&quot;  %%  &quot;spark-core&quot;  %  &quot;1.6.0&quot; libraryDependencies  +=  &quot;org.apache.spark&quot;  %%  &quot;spark-streaming&quot;  %	&quot;1.6.0&quot; libraryDependencies  +=  &quot;org.apache.spark&quot;  %%  &quot;spark-streaming-kafka&quot;  %	&quot;1.6.0&quot;&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:.4pt'><span style='font-size:7.0pt'>&nbsp;</span></p>

<h2 style='margin-top:4.55pt'>Compilation / Packaging</h2>

<p class=MsoBodyText style='margin-top:6.15pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:107%'>Run the
following command to compile and package the jar file of the application. We
need to submit the jar file into the spark console to run the application.</p>

<p class=MsoBodyText>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=6 src="Apache-Kafka-Labs-Web_files/image090.png"
  alt="Text Box: sbt package"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:.4pt'><span style='font-size:7.0pt'>&nbsp;</span></p>

<h2 style='margin-top:4.55pt'>Submiting to Spark</h2>

<p class=MsoBodyText style='margin-top:6.15pt;margin-right:56.55pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:107%'>Start Kafka
Producer CLI (explained in the previous chapter), create a new topic called
“my- first-topic” and provide some sample messages as shown below.</p>

<p class=MsoBodyText>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=6 src="Apache-Kafka-Labs-Web_files/image090.png"
  alt="Text Box: Another spark test message"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:4.45pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>Run the following command to
submit the application to spark console.</p>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=6 src="Apache-Kafka-Labs-Web_files/image090.png"
  alt="Text Box: /usr/local/spark/bin/spark-submit  --packages  org.apache.spark:spark-streaming- kafka_2.10:1.6.0  --class  &quot;KafkaWordCount&quot;  --master  local[4]  target/scala-2.10/spark- kafka-project_2.10-1.0.jar  localhost:2181  &lt;group  name&gt;  &lt;topic  name&gt;  &lt;number  of threads&gt;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

</div>

<span style='font-size:5.5pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection48>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.15pt'><span style='font-size:7.5pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:5.0pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>The sample output of this
application is shown below.</p>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=6 src="Apache-Kafka-Labs-Web_files/image090.png"
  alt="Text Box: spark console messages .. (Test,1)&#13;&#10;(spark,1) (another,1) (message,1)&#13;&#10;spark console message ..&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

</div>

<span style='font-size:5.5pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection49>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.45pt'><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:5.0pt;margin-right:56.6pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'><span style='position:relative;z-index:-1895770112'><span
style='left:0px;position:absolute;left:626px;top:-4274px;width:96px;height:
4px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=96 height=4 style='vertical-align:top'><span style='position:absolute;
  left:0pt;z-index:-1895770112'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:0pt 0pt 0pt 0pt'>
    <p class=MsoBodyText style='line-height:12.1pt'>Apache<span
    style='letter-spacing:-.25pt'> </span>Kafka</p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span></span><span style='position:relative;z-index:251694080'><span
style='left:0px;position:absolute;left:-2px;top:-4276px;width:803px;height:
11px'><img width=803 height=11 src="Apache-Kafka-Labs-Web_files/image091.png"></span></span>Let<span
style='letter-spacing:-.35pt'> </span>us<span style='letter-spacing:-.4pt'> </span>analyz<a
name="_bookmark47"></a>e<span style='letter-spacing:-.45pt'> </span>a<span
style='letter-spacing:-.25pt'> </span>real<span style='letter-spacing:-.2pt'> </span>time<span
style='letter-spacing:-.4pt'> </span>application<span style='letter-spacing:
-.35pt'> </span>to<span style='letter-spacing:-.45pt'> </span>get<span
style='letter-spacing:-.3pt'> </span>the<span style='letter-spacing:-.35pt'> </span>latest<span
style='letter-spacing:-.4pt'> </span>twitter<span style='letter-spacing:-.45pt'>
</span>feeds<span style='letter-spacing:-.3pt'> </span>and<span
style='letter-spacing:-.35pt'> </span>its<span style='letter-spacing:-.45pt'> </span>hashtags.<span
style='letter-spacing:-.45pt'> </span>Earlier,<span style='letter-spacing:-.25pt'>
</span>we have<span style='letter-spacing:-.45pt'> </span>seen<span
style='letter-spacing:-.35pt'> </span>integration<span style='letter-spacing:
-.35pt'> </span>of<span style='letter-spacing:-.15pt'> </span>Storm<span
style='letter-spacing:-.35pt'> </span>and<span style='letter-spacing:-.35pt'> </span>Spark<span
style='letter-spacing:-.4pt'> </span>with<span style='letter-spacing:-.45pt'> </span>Kafka.<span
style='letter-spacing:-.3pt'> </span>In<span style='letter-spacing:-.35pt'> </span>both<span
style='letter-spacing:-.3pt'> </span>the<span style='letter-spacing:-.4pt'> </span>scenarios,<span
style='letter-spacing:-.4pt'> </span>we<span style='letter-spacing:-.45pt'> </span>created<span
style='letter-spacing:-.35pt'> </span>a<span style='letter-spacing:-.35pt'> </span>Kafka
Producer (using cli) to send message to the Kafka ecosystem. Then, the storm
and spark inte- gration reads the messages by using the Kafka consumer and
injects it into storm and spark ecosystem respectively. So, practically we need
to create a Kafka Producer, which should<span style='letter-spacing:-1.05pt'> </span>–</p>

<p class=MsoListParagraph style='margin-top:7.8pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Read the twitter feeds using
“Twitter Streaming<span style='letter-spacing:-.3pt'> </span>API”,</span></p>

<p class=MsoListParagraph style='margin-top:6.0pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Process the<span style='letter-spacing:
-.15pt'> </span>feeds,</span></p>

<p class=MsoListParagraph style='margin-top:6.0pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Extract the HashTags<span
style='letter-spacing:-.2pt'> </span>and</span></p>

<p class=MsoListParagraph style='margin-top:6.0pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Send it to<span style='letter-spacing:
-.1pt'> </span>Kafka.</span></p>

<p class=MsoBodyText style='margin-top:.05pt'><span style='font-size:11.5pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:56.75pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>Once the “HashTags” are received by Kafka, the Storm / Spark integration
receive the infor- mation and send it to Storm / Spark ecosystem.</p>

<p class=MsoBodyText style='margin-top:.25pt'><span style='font-size:14.5pt'>&nbsp;</span></p>

<h1 style='margin-top:0in'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark48"></a>Twitter StreamingAPI</h1>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:56.55pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>The “Twitter Streaming API” can be accessed in any programming language.
The “twitter4j” is an<span style='letter-spacing:-.2pt'> </span>open<span
style='letter-spacing:-.25pt'> </span>source,<span style='letter-spacing:-.3pt'>
</span>unofficial<span style='letter-spacing:-.1pt'> </span>Java<span
style='letter-spacing:-.4pt'> </span>library,<span style='letter-spacing:-.3pt'>
</span>which<span style='letter-spacing:-.2pt'> </span>provides<span
style='letter-spacing:-.3pt'> </span>a<span style='letter-spacing:-.25pt'> </span>Java<span
style='letter-spacing:-.3pt'> </span>based<span style='letter-spacing:-.2pt'> </span>module<span
style='letter-spacing:-.35pt'> </span>to<span style='letter-spacing:-.35pt'> </span>easily<span
style='letter-spacing:-.25pt'> </span>access<span style='letter-spacing:-.35pt'>
</span>the “Twitter Streaming API”. The “twitter4j” provides a listener based
framework to access the tweets.<span style='letter-spacing:-.35pt'> </span>To<span
style='letter-spacing:-.3pt'> </span>access<span style='letter-spacing:-.3pt'> </span>the<span
style='letter-spacing:-.3pt'> </span>“Twitter<span style='letter-spacing:-.3pt'>
</span>Streaming<span style='letter-spacing:-.25pt'> </span>API”,<span
style='letter-spacing:-.1pt'> </span>we<span style='letter-spacing:-.3pt'> </span>need<span
style='letter-spacing:-.25pt'> </span>to<span style='letter-spacing:-.3pt'> </span>sign<span
style='letter-spacing:-.25pt'> </span>in<span style='letter-spacing:-.2pt'> </span>for<span
style='letter-spacing:-.15pt'> </span>Twitter<span style='letter-spacing:-.35pt'>
</span>developer<span style='letter-spacing:-.3pt'> </span>account and should
get the following <b>OAuth </b>authentication<span style='letter-spacing:-.05pt'>
</span>details.</p>

<p class=MsoListParagraph style='margin-top:7.85pt'><span style='font-size:
10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>Customerkey</span></p>

<p class=MsoListParagraph style='margin-top:5.95pt'><span style='font-size:
10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>CustomerSecret</span></p>

<p class=MsoListParagraph style='margin-top:6.0pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>AccessToken</span></p>

<p class=MsoListParagraph style='margin-top:6.0pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt'>AccessTookenSecret</span></p>

<p class=MsoBodyText style='margin-top:.15pt'><span style='font-size:11.5pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:56.45pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
106%'>Once<span style='letter-spacing:-.25pt'> </span>the<span
style='letter-spacing:-.3pt'> </span>developer<span style='letter-spacing:-.15pt'>
</span>account<span style='letter-spacing:-.25pt'> </span>is<span
style='letter-spacing:-.25pt'> </span>created,<span style='letter-spacing:-.15pt'>
</span>download<span style='letter-spacing:-.2pt'> </span>the<span
style='letter-spacing:-.35pt'> </span>“twitter4j”<span style='letter-spacing:
-.25pt'> </span>jar<span style='letter-spacing:-.3pt'> </span>files<span
style='letter-spacing:-.25pt'> </span>and<span style='letter-spacing:-.25pt'> </span>place<span
style='letter-spacing:-.3pt'> </span>it<span style='letter-spacing:-.2pt'> </span>in<span
style='letter-spacing:-.2pt'> </span>the<span style='letter-spacing:.2pt'> </span>java
class<span style='letter-spacing:-.05pt'> </span>path.</p>

<p class=MsoBodyText style='margin-top:8.15pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify'>The Complete
Twitter Kafka producer coding (KafkaTwitterProducer.java) is listed below –</p>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=6 src="Apache-Kafka-Labs-Web_files/image090.png"
  alt="Text Box: import  java.util.Arrays; import  java.util.Properties;&#13;&#10;import  java.util.concurrent.LinkedBlockingQueue;&#13;&#10;&#13;&#10;&#13;&#10;import twitter4j.*; import  twitter4j.conf.*;&#13;&#10;&#13;&#10;import org.apache.kafka.clients.producer.Producer; import org.apache.kafka.clients.producer.KafkaProducer;&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

</div>

<span style='font-size:5.5pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection50>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.05pt'><span style='font-size:9.5pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-left:63.85pt'><span style='font-family:"Arial",sans-serif'>import
org.apache.kafka.clients.producer.ProducerRecord;</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.35pt'><span style='font-size:9.5pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:3.05pt;margin-right:0in;margin-bottom:
0in;margin-left:63.85pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>public
class KafkaTwitterProducer </span><span style='font-family:"Arial",sans-serif'>{</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.4pt'><span style='font-size:12.0pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-left:92.65pt'><span style='font-family:"Arial",sans-serif'>public</span><span
style='font-family:"Arial",sans-serif'>  <span style='letter-spacing:-.1pt'>s</span>tatic
<span style='letter-spacing:-.15pt'> </span>void <span style='letter-spacing:
-.15pt'> </span>ma<span style='letter-spacing:-.1pt'>i</span>n(Strin<span
style='letter-spacing:-.1pt'>g</span>[]  a<span style='letter-spacing:-.1pt'>r</span>gs)
<span style='letter-spacing:-.05pt'> </span>t<span style='letter-spacing:-.1pt'>h</span>ro<span
style='letter-spacing:-.1pt'>w</span>s <span style='letter-spacing:-.05pt'> </span>Excep<span
style='letter-spacing:-.1pt'>t</span>ion <span style='letter-spacing:-.05pt'> </span>{</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.05pt'><span style='font-size:12.5pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:128.65pt'><span style='font-size:9.5pt;
font-family:"Arial",sans-serif;letter-spacing:-.1pt'>L</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:.05pt'>i</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:-.1pt'>n</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:.05pt'>k</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:-.1pt'>e</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:.05pt'>d</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:-.1pt'>B</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:.05pt'>l</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:-.1pt'>o</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:.05pt'>c</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:-.1pt'>k</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:.05pt'>i</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:-.1pt'>n</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:.05pt'>g</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:-.1pt'>Q</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:.05pt'>ue</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:-.1pt'>u</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:.05pt'>e</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:-.1pt'>&lt;</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:.05pt'>S</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:-.1pt'>t</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:.05pt'>a</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:-.1pt'>t</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:.05pt'>u</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:-.1pt'>s</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif'>&gt;</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif'> <span style='letter-spacing:
-.1pt'> </span><span style='letter-spacing:.05pt'>q</span><span
style='letter-spacing:-.1pt'>u</span><span style='letter-spacing:.05pt'>e</span><span
style='letter-spacing:-.1pt'>u</span>e <span style='letter-spacing:-.1pt'> </span>=
<span style='letter-spacing:-.1pt'> </span><span style='letter-spacing:.05pt'>n</span><span
style='letter-spacing:-.1pt'>e</span>w <span style='letter-spacing:.05pt'> </span><span
style='letter-spacing:-.1pt'>L</span><span style='letter-spacing:.05pt'>i</span><span
style='letter-spacing:-.1pt'>n</span><span style='letter-spacing:.05pt'>k</span><span
style='letter-spacing:-.1pt'>e</span><span style='letter-spacing:.05pt'>d</span><span
style='letter-spacing:-.1pt'>B</span><span style='letter-spacing:.05pt'>l</span><span
style='letter-spacing:-.1pt'>o</span><span style='letter-spacing:.05pt'>c</span><span
style='letter-spacing:-.1pt'>k</span><span style='letter-spacing:.05pt'>i</span><span
style='letter-spacing:-.1pt'>n</span><span style='letter-spacing:.05pt'>g</span><span
style='letter-spacing:-.1pt'>Q</span><span style='letter-spacing:.05pt'>u</span><span
style='letter-spacing:-.1pt'>e</span><span style='letter-spacing:.05pt'>u</span><span
style='letter-spacing:-.1pt'>e</span><span style='letter-spacing:.05pt'>&lt;</span><span
style='letter-spacing:-.1pt'>S</span><span style='letter-spacing:.05pt'>t</span><span
style='letter-spacing:.05pt'>a</span><span style='letter-spacing:-.1pt'>t</span><span
style='letter-spacing:.05pt'>u</span><span style='letter-spacing:-.1pt'>s</span><span
style='letter-spacing:.05pt'>&gt;</span><span style='letter-spacing:-.1pt'>(</span><span
style='letter-spacing:.05pt'>1</span><span style='letter-spacing:-.1pt'>0</span><span
style='letter-spacing:.05pt'>0</span><span style='letter-spacing:-.1pt'>0</span><span
style='letter-spacing:.05pt'>)</span>;</span></p>

<p class=MsoBodyText><span style='font-size:9.0pt;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.3pt'><span style='font-size:13.0pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-left:128.65pt'><span style='font-family:
"Arial",sans-serif'>if(args.length &lt; 5)</span></p>

<p class=MsoBodyText style='margin-top:7.25pt;margin-right:0in;margin-bottom:
0in;margin-left:128.65pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>{</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:63.85pt;margin-bottom:.0001pt;text-indent:100.75pt;line-height:
110%'><span style='font-family:"Arial",sans-serif'>System.<span
style='letter-spacing:-.1pt'>o</span></span><span style='font-family:"Arial",sans-serif'>ut.p<span
style='letter-spacing:-.1pt'>r</span></span><span style='font-family:"Arial",sans-serif'>intln<span
style='letter-spacing:-.1pt'>(</span></span><span style='font-family:"Arial",sans-serif'>&quot;U<span
style='letter-spacing:-.1pt'>s</span></span><span style='font-family:"Arial",sans-serif'>age:</span><span
style='font-family:"Arial",sans-serif'>  Ka<span style='letter-spacing:-.1pt'>f</span>kaTw<span
style='letter-spacing:-.1pt'>i</span>tterP<span style='letter-spacing:-.1pt'>r</span>od<span
style='letter-spacing:-.1pt'>u</span>cer  &lt;tw<span style='letter-spacing:
-.1pt'>i</span>tte<span style='letter-spacing:.1pt'>r</span><span
style='letter-spacing:-.1pt'>-</span>consu<span style='letter-spacing:-.1pt'>m</span>e<span
style='letter-spacing:.1pt'>r</span>- key&gt;  &lt;t<span style='letter-spacing:
-.1pt'>w</span>itte<span style='letter-spacing:-.1pt'>r</span>-cons<span
style='letter-spacing:-.1pt'>u</span>mer-secret&gt; <span style='letter-spacing:
-.15pt'> </span>&lt;tw<span style='letter-spacing:-.1pt'>i</span>tte<span
style='letter-spacing:.2pt'>r</span>-<span style='letter-spacing:-.1pt'>a</span>cc<span
style='letter-spacing:-.1pt'>e</span>s<span style='letter-spacing:.1pt'>s</span>-toke<span
style='letter-spacing:-.1pt'>n</span>&gt; <span style='letter-spacing:-.05pt'> </span>&lt;t<span
style='letter-spacing:-.1pt'>w</span><span style='letter-spacing:.1pt'>i</span>tter<span
style='letter-spacing:-.1pt'>-</span>ac<span style='letter-spacing:-.1pt'>c</span>es<span
style='letter-spacing:.1pt'>s</span>-tok<span style='letter-spacing:-.1pt'>e</span><span
style='letter-spacing:.05pt'>n</span>-se<span style='letter-spacing:-.1pt'>c</span>ret&gt;</span></p>

<p class=MsoBodyText style='margin-left:63.85pt'><span style='font-family:"Arial",sans-serif'>&lt;topic</span><span
style='font-family:"Arial",sans-serif'>-</span><span style='font-family:"Arial",sans-serif;
letter-spacing:-.1pt'>n</span><span style='font-family:"Arial",sans-serif'>a</span><span
style='font-family:"Arial",sans-serif'>m</span><span style='font-family:"Arial",sans-serif'>e</span><span
style='font-family:"Arial",sans-serif'>&gt;</span><span style='font-family:
"Arial",sans-serif'> <span style='letter-spacing:-.15pt'> </span>&lt;twit<span
style='letter-spacing:-.1pt'>t</span>e<span style='letter-spacing:.2pt'>r</span><span
style='letter-spacing:-.1pt'>-</span>search-<span style='letter-spacing:-.1pt'>k</span>eywo<span
style='letter-spacing:-.1pt'>r</span>ds&gt;&quot;);</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.25pt'><span style='font-size:9.5pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:3.05pt;margin-right:0in;margin-bottom:
0in;margin-left:164.65pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>return;</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:0in;margin-bottom:
0in;margin-left:128.65pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>}</span></p>

<p class=MsoBodyText style='margin-top:.1in;margin-right:213.4pt;margin-bottom:
0in;margin-left:128.65pt;margin-bottom:.0001pt;line-height:161%'><span
style='font-family:"Arial",sans-serif'>String consumerKey = </span><span
style='font-family:"Arial",sans-serif'>args[0].toString(); </span><span
style='font-family:"Arial",sans-serif'>String consumerSecret = </span><span
style='font-family:"Arial",sans-serif'>args[1].toString(); </span><span
style='font-family:"Arial",sans-serif'>String accessToken = </span><span
style='font-family:"Arial",sans-serif'>args[2].toString(); </span><span
style='font-family:"Arial",sans-serif'>String</span><span style='font-family:
"Arial",sans-serif'>  <span style='letter-spacing:-.1pt'>a</span>cces<span
style='letter-spacing:-.1pt'>s</span>Token<span style='letter-spacing:-.1pt'>S</span>ec<span
style='letter-spacing:-.1pt'>r</span>et  =  ar<span style='letter-spacing:-.1pt'>g</span>s[3]<span
style='letter-spacing:-.1pt'>.</span>toStr<span style='letter-spacing:-.1pt'>i</span>ng<span
style='letter-spacing:-.1pt'>(</span>); String  <span style='letter-spacing:
-.1pt'>t</span>opic<span style='letter-spacing:-.1pt'>N</span>ame  = <span
style='letter-spacing:-.15pt'> </span>ar<span style='letter-spacing:-.1pt'>g</span>s[4].to<span
style='letter-spacing:-.1pt'>S</span>trin<span style='letter-spacing:-.1pt'>g</span>();
String[] arguments =<span style='letter-spacing:-.4pt'> </span>args.clone();</span></p>

<p class=MsoBodyText style='margin-left:128.65pt;line-height:11.45pt'><span
style='font-family:"Arial",sans-serif'>String[] keyWords =
Arrays.copyOfRange(arguments, 5,<span style='letter-spacing:3.05pt'> </span>arguments.length);</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.55pt'><span style='font-size:12.0pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:55.8pt;margin-bottom:
0in;margin-left:128.65pt;margin-bottom:.0001pt;line-height:161%'><span
style='font-family:"Arial",sans-serif'>Configur</span><span style='font-family:
"Arial",sans-serif'>ation</span><span style='font-family:"Arial",sans-serif'>Builde</span><span
style='font-family:"Arial",sans-serif'>r</span><span style='font-family:"Arial",sans-serif'> 
cb  =  new  ConfigurationBuilder(); cb.setDebugEnabled(true)</span></p>

<p class=MsoBodyText style='margin-top:.1pt;margin-right:0in;margin-bottom:
0in;margin-left:164.65pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>.setOAuthConsumerKey(consumerKey)</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:0in;margin-bottom:
0in;margin-left:164.65pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>.setOAuthConsumerSecret(consumerSecret)</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:0in;margin-bottom:
0in;margin-left:164.65pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>.setOAuthAccessToken(accessToken)</span></p>

<p class=MsoBodyText style='margin-top:.1in;margin-right:0in;margin-bottom:
0in;margin-left:164.65pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>.setOAuthAccessTokenSecret(accessTokenSecret);</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.25pt'><span style='font-size:9.5pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

</div>

<span style='font-size:9.5pt;font-family:"Arial",sans-serif'><br clear=all
style='page-break-before:auto'>
</span>

<div class=WordSection51>

<p class=MsoBodyText style='margin-top:.1pt'><span style='position:relative;
z-index:-1895769088'><span style='position:absolute;left:74px;top:-6047px;
width:645px;height:2px'><img width=645 height=2
src="Apache-Kafka-Labs-Web_files/image094.png"></span></span></p>

<p class=MsoBodyText style='margin-left:63.85pt'><span style='font-family:"Arial",sans-serif;
letter-spacing:-.2pt'>Instance();</span></p>

<span style='font-size:10.0pt;font-family:"Verdana",sans-serif'><br clear=all>
</span>

<p class=MsoBodyText style='margin-top:3.05pt;margin-right:0in;margin-bottom:
0in;margin-left:2.15pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>TwitterStream
twitterStream = new TwitterStreamFactory(cb.build()).get-</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:8.35pt;margin-right:202.05pt;margin-bottom:
0in;margin-left:38.15pt;margin-bottom:.0001pt;text-indent:-.5in;line-height:
161%'><span style='font-family:"Arial",sans-serif'>St</span><span
style='font-family:"Arial",sans-serif'>a</span><span style='font-family:"Arial",sans-serif'>t</span><span
style='font-family:"Arial",sans-serif'>u</span><span style='font-family:"Arial",sans-serif'>s</span><span
style='font-family:"Arial",sans-serif'>L</span><span style='font-family:"Arial",sans-serif'>i</span><span
style='font-family:"Arial",sans-serif'>s</span><span style='font-family:"Arial",sans-serif'>t</span><span
style='font-family:"Arial",sans-serif'>ene</span><span style='font-family:"Arial",sans-serif'>r</span><span
style='font-family:"Arial",sans-serif'>  listener  =  new  StatusListener()  { @Override</span></p>

<p class=MsoBodyText style='margin-left:38.15pt;line-height:11.45pt'><span
style='font-family:"Arial",sans-serif'>public void onStatus(Status status)<span
style='letter-spacing:2.8pt'> </span></span><span style='font-family:"Arial",sans-serif'>{</span></p>

</div>

<span style='font-size:11.0pt;font-family:"Arial",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection52>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.2pt'><span style='font-size:9.0pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText align=center style='margin-top:3.0pt;margin-right:146.7pt;
margin-bottom:0in;margin-left:63.25pt;margin-bottom:.0001pt;text-align:center'><span
style='font-family:"Arial",sans-serif'>queue.offer(status);</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:0in;margin-bottom:
0in;margin-left:164.65pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>}</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.4pt'><span style='font-size:9.5pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

</div>

<span style='font-size:9.5pt;font-family:"Arial",sans-serif'><br clear=all
style='page-break-before:auto'>
</span>

<div class=WordSection53>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.4pt'><span style='font-size:9.5pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-left:63.85pt'><span style='font-family:"Arial",sans-serif'>Notice)<span
style='letter-spacing:-1.65pt'> </span>{</span></p>

<span style='font-size:10.0pt;font-family:"Verdana",sans-serif'><br clear=all>
</span>

<p class=MsoBodyText style='margin-top:3.0pt;margin-right:0in;margin-bottom:
0in;margin-left:49.25pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>@Override</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:0in;margin-bottom:
0in;margin-left:49.25pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>public
void onDeletionNotice(StatusDeletionNotice statusDeletion-</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:8.35pt;margin-right:0in;margin-bottom:
0in;margin-left:85.25pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>//
</span><span style='font-family:"Arial",sans-serif'>System.out.println(&quot;Got
</span><span style='font-family:"Arial",sans-serif'>a </span><span
style='font-family:"Arial",sans-serif'>status deletion notice id:&quot; </span><span
style='font-family:"Arial",sans-serif'>+</span></p>

</div>

<span style='font-size:11.0pt;font-family:"Arial",sans-serif'><br clear=all
style='page-break-before:auto'>
</span>

<div class=WordSection54>

<p class=MsoBodyText align=center style='margin-top:1.1pt;margin-right:281.85pt;
margin-bottom:0in;margin-left:12.7pt;margin-bottom:.0001pt;text-align:center'><span
style='position:relative;z-index:-1895768064'><span style='left:0px;position:
absolute;left:74px;top:-7445px;width:645px;height:2px'><img width=645 height=2
src="Apache-Kafka-Labs-Web_files/image094.png"></span></span><span
style='font-family:"Arial",sans-serif'>statusDeletionNotice.getStatusId());</span></p>

<p class=MsoBodyText style='margin-top:7.25pt;margin-right:0in;margin-bottom:
0in;margin-left:164.65pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>}</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.4pt'><span style='font-size:12.0pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-left:164.65pt'><span style='font-family:
"Arial",sans-serif'>@Override</span></p>

<p class=MsoNormal style='margin-top:.1in;margin-right:0in;margin-bottom:0in;
margin-left:164.65pt;margin-bottom:.0001pt'><span style='font-size:9.5pt;
font-family:"Arial",sans-serif;letter-spacing:-.1pt'>p</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:.05pt'>u</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:-.1pt'>b</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:.05pt'>l</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif;letter-spacing:-.1pt'>i</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif'>c</span><span
style='font-size:9.5pt;font-family:"Arial",sans-serif'> <span style='letter-spacing:
-.1pt'> </span><span style='letter-spacing:.05pt'>v</span><span
style='letter-spacing:-.1pt'>o</span><span style='letter-spacing:.05pt'>i</span>d 
<span style='letter-spacing:-.1pt'>o</span><span style='letter-spacing:.05pt'>n</span><span
style='letter-spacing:-.1pt'>T</span><span style='letter-spacing:.05pt'>r</span><span
style='letter-spacing:.05pt'>a</span><span style='letter-spacing:-.1pt'>c</span><span
style='letter-spacing:.05pt'>k</span><span style='letter-spacing:-.1pt'>L</span><span
style='letter-spacing:.05pt'>i</span><span style='letter-spacing:-.1pt'>m</span><span
style='letter-spacing:.05pt'>i</span><span style='letter-spacing:-.1pt'>t</span><span
style='letter-spacing:.05pt'>a</span><span style='letter-spacing:-.1pt'>t</span><span
style='letter-spacing:.05pt'>i</span><span style='letter-spacing:-.1pt'>o</span><span
style='letter-spacing:.05pt'>n</span><span style='letter-spacing:-.1pt'>N</span><span
style='letter-spacing:.05pt'>o</span><span style='letter-spacing:-.1pt'>t</span><span
style='letter-spacing:.05pt'>i</span><span style='letter-spacing:-.1pt'>c</span><span
style='letter-spacing:.05pt'>e</span><span style='letter-spacing:-.1pt'>(</span><span
style='letter-spacing:.05pt'>i</span><span style='letter-spacing:-.1pt'>n</span>t
<span style='letter-spacing:.05pt'> </span><span style='letter-spacing:-.1pt'>n</span><span
style='letter-spacing:.05pt'>u</span><span style='letter-spacing:-.1pt'>m</span><span
style='letter-spacing:.05pt'>b</span><span style='letter-spacing:-.1pt'>e</span><span
style='letter-spacing:.05pt'>r</span><span style='letter-spacing:-.1pt'>O</span><span
style='letter-spacing:.05pt'>f</span><span style='letter-spacing:-.1pt'>L</span><span
style='letter-spacing:.05pt'>i</span><span style='letter-spacing:-.1pt'>m</span><span
style='letter-spacing:.05pt'>i</span><span style='letter-spacing:-.1pt'>t</span><span
style='letter-spacing:.05pt'>e</span><span style='letter-spacing:-.1pt'>d</span><span
style='letter-spacing:.05pt'>S</span><span style='letter-spacing:-.1pt'>t</span><span
style='letter-spacing:.05pt'>a</span><span style='letter-spacing:-.1pt'>t</span><span
style='letter-spacing:.05pt'>u</span><span style='letter-spacing:-.1pt'>s</span><span
style='letter-spacing:.05pt'>e</span><span style='letter-spacing:.05pt'>s</span>)
<span style='letter-spacing:-.1pt'> </span>{ <span style='letter-spacing:.3pt'> </span>}</span></p>

<p class=MsoBodyText><span style='font-size:9.0pt;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.35pt'><span style='font-size:13.0pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.05pt;margin-right:0in;margin-bottom:
0in;margin-left:164.65pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>@Override</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:0in;margin-bottom:
0in;margin-left:164.65pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>public
void onScrubGeo(long userId, long upToStatusId) </span><span style='font-family:
"Arial",sans-serif'>{ }</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.5pt'><span style='font-size:12.0pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.05pt;margin-right:0in;margin-bottom:
0in;margin-left:164.65pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>@Override</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:0in;margin-bottom:
0in;margin-left:164.65pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>public
void onStallWarning(StallWarning warning) </span><span style='font-family:"Arial",sans-serif'>{
}</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.5pt'><span style='font-size:12.0pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-left:164.65pt'><span style='font-family:
"Arial",sans-serif'>@Override</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:215.25pt;margin-bottom:
0in;margin-left:200.65pt;margin-bottom:.0001pt;text-indent:-36.05pt;line-height:
161%'><span style='font-family:"Arial",sans-serif'>public<span
style='letter-spacing:-1.3pt'> </span>void<span style='letter-spacing:-1.25pt'>
</span>onException(Exception<span style='letter-spacing:-1.25pt'> </span>ex)<span
style='letter-spacing:-1.3pt'> </span></span><span style='font-family:"Arial",sans-serif'>{
</span><span style='font-family:"Arial",sans-serif'>ex.printStackTrace();</span></p>

<p class=MsoBodyText style='margin-left:164.65pt;line-height:11.45pt'><span
style='font-family:"Arial",sans-serif'>}</span></p>

<p class=MsoBodyText style='margin-top:.1in;margin-right:0in;margin-bottom:
0in;margin-left:128.65pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>};</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:0in;margin-bottom:
0in;margin-left:128.65pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>twitterStream.addListener(listener);</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-size:12.5pt;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:55.8pt;margin-bottom:
0in;margin-left:128.65pt;margin-bottom:.0001pt;line-height:161%'><span
style='font-family:"Arial",sans-serif'>FilterQuery query </span><span
style='font-family:"Arial",sans-serif'>= new </span><span style='font-family:
"Arial",sans-serif'>FilterQuery().track(keyWords); twitterStream.filter(query);</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:7.15pt;margin-right:0in;margin-bottom:
0in;margin-left:128.65pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>Thread.sleep(5000);</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.4pt'><span style='font-size:12.0pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-left:129.95pt'><span style='font-family:
"Arial",sans-serif;letter-spacing:-.1pt'>/</span><span style='font-family:"Arial",sans-serif'>/</span><span
style='font-family:"Arial",sans-serif'>  Add <span style='letter-spacing:-.15pt'> </span>Ka<span
style='letter-spacing:-.1pt'>f</span>ka <span style='letter-spacing:-.05pt'> </span>prod<span
style='letter-spacing:-.1pt'>u</span>cer <span style='letter-spacing:-.05pt'> </span><span
style='letter-spacing:-.1pt'>c</span>onfig <span style='letter-spacing:-.15pt'> </span>se<span
style='letter-spacing:-.1pt'>t</span>tings</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.55pt'><span style='font-size:12.0pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:149.6pt;margin-bottom:
0in;margin-left:128.65pt;margin-bottom:.0001pt;line-height:161%'><span
style='font-family:"Arial",sans-serif'>Properties props = new Properties();
props.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);
props.put(&quot;acks&quot;,<span style='letter-spacing:2.55pt'> </span></span><span
style='font-family:"Arial",sans-serif'>&quot;all&quot;);</span></p>

</div>

<span style='font-size:11.0pt;line-height:161%;font-family:"Arial",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection55>

<p class=MsoBodyText><span style='position:relative;z-index:-1895767040'><span
style='position:absolute;left:74px;top:-8239px;width:645px;height:2px'><img
width=645 height=2 src="Apache-Kafka-Labs-Web_files/image094.png"></span></span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.2pt'><span style='font-size:9.0pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:3.0pt;margin-right:0in;margin-bottom:
0in;margin-left:128.65pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>props.put(&quot;retries&quot;,
0);</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:0in;margin-bottom:
0in;margin-left:128.65pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>props.put(&quot;batch.size&quot;,
16384);</span></p>

<p class=MsoBodyText style='margin-top:7.25pt;margin-right:0in;margin-bottom:
0in;margin-left:128.65pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>props.put(&quot;linger.ms&quot;,
1);</span></p>

<p class=MsoBodyText style='margin-top:.1pt;margin-right:121.15pt;margin-bottom:
0in;margin-left:128.65pt;margin-bottom:.0001pt;line-height:18.5pt'><span
style='font-family:"Arial",sans-serif'>props.put(&quot;buffer.memory&quot;, 
33554432); <span style='letter-spacing:-.05pt'>props.put(&quot;key.serializer&quot;,</span><span
style='letter-spacing:1.5pt'> </span><span style='letter-spacing:-.05pt'>&quot;org.apache.kafka.common.serializa-</span></span></p>

<p class=MsoBodyText style='margin-top:1.3pt;margin-right:0in;margin-bottom:
0in;margin-left:63.85pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>tion.StringSerializer&quot;);</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:0in;margin-bottom:
0in;margin-left:63.85pt;margin-bottom:.0001pt;text-indent:64.75pt;line-height:
110%'><span style='font-family:"Arial",sans-serif;letter-spacing:-.1pt'>props.put(&quot;value.serializer&quot;,
</span><span style='font-family:"Arial",sans-serif;letter-spacing:-.05pt'>&quot;org.apache.kafka.common.serializa-
</span><span style='font-family:"Arial",sans-serif'>tion.StringSerializer&quot;);</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.5pt'><span style='font-size:11.0pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:110.0pt;margin-bottom:
0in;margin-left:63.85pt;margin-bottom:.0001pt;text-indent:64.75pt;line-height:
110%'><span style='font-family:"Arial",sans-serif'>Producer&lt;String,
String&gt; producer = new KafkaProducer&lt;String, String&gt;(props);</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.45pt'><span style='font-size:11.0pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.05pt;margin-right:398.05pt;margin-bottom:
0in;margin-left:128.65pt;margin-bottom:.0001pt;line-height:161%'><span
style='font-family:"Arial",sans-serif'>int </span><span style='font-family:
"Arial",sans-serif'>i </span><span style='font-family:"Arial",sans-serif'>= </span><span
style='font-family:"Arial",sans-serif'>0; int </span><span style='font-family:
"Arial",sans-serif'>j </span><span style='font-family:"Arial",sans-serif'>= </span><span
style='font-family:"Arial",sans-serif'>0;</span></p>

<p class=MsoBodyText style='margin-left:128.65pt;line-height:11.45pt'><span
style='font-family:"Arial",sans-serif'>while(i </span><span style='font-family:
"Arial",sans-serif'>&lt; </span><span style='font-family:"Arial",sans-serif'>10)
</span><span style='font-family:"Arial",sans-serif'>{</span></p>

<p class=MsoBodyText style='margin-top:.1in;margin-right:282.4pt;margin-bottom:
0in;margin-left:164.65pt;margin-bottom:.0001pt;line-height:161%'><span
style='font-family:"Arial",sans-serif'>Status ret </span><span
style='font-family:"Arial",sans-serif'>= </span><span style='font-family:"Arial",sans-serif'>queue.poll();
</span><span style='font-family:"Arial",sans-serif'>if</span><span
style='font-family:"Arial",sans-serif'>  (ret  ==  null)  {</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:286.0pt;margin-bottom:
0in;margin-left:200.65pt;margin-bottom:.0001pt;line-height:162%'><span
style='font-family:"Arial",sans-serif'>Thread.sleep(100); </span><span
style='font-family:"Arial",sans-serif'>i++;</span></p>

<p class=MsoBodyText style='margin-left:164.65pt;line-height:11.35pt'><span
style='font-family:"Arial",sans-serif'>} </span><span style='font-family:"Arial",sans-serif'>else
</span><span style='font-family:"Arial",sans-serif'>{</span></p>

<p class=MsoBodyText style='margin-top:7.05pt;margin-right:0in;margin-bottom:
0in;margin-left:236.65pt;margin-bottom:.0001pt;text-indent:-.5in;line-height:
161%'><span style='font-family:"Arial",sans-serif'>for(Has<span
style='letter-spacing:-.1pt'>h</span></span><span style='font-family:"Arial",sans-serif'>tagE<span
style='letter-spacing:-.1pt'>n</span></span><span style='font-family:"Arial",sans-serif'>tity</span><span
style='font-family:"Arial",sans-serif'>  <span style='letter-spacing:-.1pt'>h</span>as<span
style='letter-spacing:-.1pt'>h</span>tage  :  <span style='letter-spacing:-.1pt'>r</span>et.g<span
style='letter-spacing:-.1pt'>e</span>tHash<span style='letter-spacing:-.1pt'>t</span>ag<span
style='letter-spacing:-.1pt'>E</span>ntities<span style='letter-spacing:-.1pt'>(</span>))
<span style='letter-spacing:-.05pt'> </span>{ System.<span style='letter-spacing:
-.1pt'>o</span>ut.p<span style='letter-spacing:-.1pt'>r</span>intln<span
style='letter-spacing:-.1pt'>(</span>&quot;H<span style='letter-spacing:-.1pt'>a</span>shtag: 
&quot; <span style='letter-spacing:-.15pt'> </span>+  h<span style='letter-spacing:
-.1pt'>a</span>shtag<span style='letter-spacing:-.1pt'>e</span>.g<span
style='letter-spacing:-.1pt'>e</span>tText()<span style='letter-spacing:-.1pt'>)</span>;</span></p>

<p class=MsoBodyText style='margin-top:.1pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:63.85pt;margin-bottom:.0001pt;text-indent:2.4in;line-height:
110%'><span style='font-family:"Arial",sans-serif'>producer.send(new
ProducerRecord&lt;String, String&gt;(top- </span><span style='font-family:"Arial",sans-serif'>icName,
Integer.toString(j++), hashtage.getText()));</span></p>

<p class=MsoBodyText align=center style='margin-top:5.9pt;margin-right:188.0pt;
margin-bottom:0in;margin-left:0in;margin-bottom:.0001pt;text-align:center'><span
style='font-family:"Arial",sans-serif'>}</span></p>

<p class=MsoBodyText style='margin-top:7.25pt;margin-right:0in;margin-bottom:
0in;margin-left:164.65pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>}</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:0in;margin-bottom:
0in;margin-left:128.65pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>}</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.35pt'><span style='font-size:9.5pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:3.05pt;margin-right:0in;margin-bottom:
0in;margin-left:128.65pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>producer.close();</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.25pt'><span style='font-size:9.5pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:3.0pt;margin-right:328.6pt;margin-bottom:
0in;margin-left:128.65pt;margin-bottom:.0001pt;line-height:161%'><span
style='font-family:"Arial",sans-serif'>Thread.sleep(5000);
twitterStream.shutdown();</span></p>

<p class=MsoBodyText style='margin-top:.05pt;margin-right:0in;margin-bottom:
0in;margin-left:92.65pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>}</span></p>

<p class=MsoBodyText style='margin-top:7.1pt;margin-right:0in;margin-bottom:
0in;margin-left:63.85pt;margin-bottom:.0001pt'><span style='font-family:"Arial",sans-serif'>}</span></p>

</div>

<span style='font-size:11.0pt;font-family:"Arial",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection56>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText><span style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:.55pt'><span style='font-size:14.5pt;
font-family:"Arial",sans-serif'>&nbsp;</span></p>

<h2 style='margin-top:4.55pt'>Compilation</h2>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>Compile the application using the
following command:</p>

<p class=MsoBodyText style='margin-top:.45pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=6 src="Apache-Kafka-Labs-Web_files/image090.png"
  alt="Text Box: javac  -cp  “/path/to/kafka/libs/*”:”/path/to/twitter4j/lib/*”:.  KafkaTwitterPro- ducer.java"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:.4pt'><span style='font-size:7.0pt'>&nbsp;</span></p>

<h2 style='margin-top:4.55pt'>Execution</h2>

<p class=MsoBodyText style='margin-top:6.05pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>Open two consoles. Run the above
compiled application as shown below in one console.</p>

<p class=MsoBodyText style='margin-top:.4pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=6 src="Apache-Kafka-Labs-Web_files/image090.png"
  alt="Text Box: java  -cp  “/path/to/kafka/libs/*”:”/path/to/twitter4j/lib/*”:.  KafkaTwitterProducer&#13;&#10;&lt;twitter-consumer-key&gt;  &lt;twitter-consumer-secret&gt;  &lt;twitter-access-token&gt;  &lt;twitter-ac- cess-token-secret&gt;  my-first-topic  food&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:56.45pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>Run any one of the Spark / Storm application explained in the previous
chapter in another win- dow.<span style='letter-spacing:-.3pt'> </span>The<span
style='letter-spacing:-.3pt'> </span>main<span style='letter-spacing:-.2pt'> </span>point<span
style='letter-spacing:-.2pt'> </span>to<span style='letter-spacing:-.35pt'> </span>note<span
style='letter-spacing:-.3pt'> </span>is<span style='letter-spacing:-.25pt'> </span>that<span
style='letter-spacing:-.2pt'> </span>the<span style='letter-spacing:-.35pt'> </span>topic<span
style='letter-spacing:-.25pt'> </span>used<span style='letter-spacing:-.2pt'> </span>should<span
style='letter-spacing:-.2pt'> </span>be<span style='letter-spacing:-.35pt'> </span>same<span
style='letter-spacing:-.25pt'> </span>in<span style='letter-spacing:-.2pt'> </span>both<span
style='letter-spacing:-.2pt'> </span>cases.<span style='letter-spacing:-.3pt'> </span>Here,<span
style='letter-spacing:-.25pt'> </span>we<span style='letter-spacing:-.3pt'> </span>have
used “my-first-topic” as the topic<span style='letter-spacing:-.25pt'> </span>name.</p>

<p class=MsoBodyText style='margin-top:.3pt'><span style='font-size:12.0pt'>&nbsp;</span></p>

<h2>Output</h2>

<p class=MsoBodyText style='margin-top:6.15pt;margin-right:56.9pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
106%'>The<span style='letter-spacing:-.35pt'> </span>output<span
style='letter-spacing:-.35pt'> </span>of<span style='letter-spacing:-.3pt'> </span>this<span
style='letter-spacing:-.4pt'> </span>application<span style='letter-spacing:
-.3pt'> </span>will<span style='letter-spacing:-.25pt'> </span>depend<span
style='letter-spacing:-.25pt'> </span>on<span style='letter-spacing:-.2pt'> </span>the<span
style='letter-spacing:-.35pt'> </span>keywords<span style='letter-spacing:-.4pt'>
</span>and<span style='letter-spacing:-.25pt'> </span>the<span
style='letter-spacing:-.35pt'> </span>current<span style='letter-spacing:-.3pt'>
</span>feed<span style='letter-spacing:-.25pt'> </span>of<span
style='letter-spacing:-.25pt'> </span>the<span style='letter-spacing:-.35pt'> </span>twitter.<span
style='letter-spacing:-.3pt'> </span>A sample output is specified below (storm<span
style='letter-spacing:-.35pt'> </span>integration).</p>

<p class=MsoBodyText style='margin-top:.15pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=6 src="Apache-Kafka-Labs-Web_files/image090.png"
  alt="Text Box: . . .&#13;&#10;food : 1&#13;&#10;foodie  : 2&#13;&#10;burger : 1&#13;&#10;. . .&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
</p>

</div>

<span style='font-size:5.0pt;font-family:"Verdana",sans-serif'><br clear=all
style='page-break-before:always'>
</span>

<div class=WordSection57>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.15pt'><span style='font-size:9.5pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'>Kafka Tool
packaged under “org.apa<a name="_bookmark49"></a>che.kafka.tools.*. Tools are
categorized into system tools and replication tools.</p>

<p class=MsoBodyText style='margin-top:.35pt'><span style='font-size:14.5pt'>&nbsp;</span></p>

<h1 style='margin-top:.05pt'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark50"></a>System Tools</h1>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'>System tools can
be run from the command line using the run class script. The syntax is as
follows:</p>

<p class=MsoBodyText style='margin-top:.15pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=74 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=649 height=6 src="Apache-Kafka-Labs-Web_files/image090.png"
  alt="Text Box: bin/kafka-run-class.sh  package.class	-  -  options"></td>
 </tr>
</table>

<br clear=ALL>
</p>

<p class=MsoBodyText style='margin-top:4.45pt;margin-right:0in;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt'>Some of the system tools are
mentioned below:</p>

<p class=MsoListParagraph style='margin-top:8.95pt;margin-right:56.95pt;
margin-bottom:0in;margin-left:92.65pt;margin-bottom:.0001pt;text-align:justify;
line-height:148%'><span style='font-size:10.0pt;line-height:148%;font-family:
Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span style='font-size:10.0pt;line-height:148%'>Kafka
Migration Tool </span></b><span style='font-size:10.0pt;line-height:148%'>–
This tool is used to migrate a broker from one version to an- other.</span></p>

<p class=MsoListParagraph style='margin-top:.1pt'><span style='font-size:10.0pt;
font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span style='font-size:10.0pt'>Mirror Maker </span></b><span
style='font-size:10.0pt'>– This tool is used to provide mirroring of one Kafka
cluster to<span style='letter-spacing:-.8pt'> </span>another.</span></p>

<p class=MsoListParagraph style='margin-top:6.35pt;margin-right:56.9pt;
margin-bottom:0in;margin-left:92.65pt;margin-bottom:.0001pt;text-align:justify;
line-height:97%'><span style='font-size:10.0pt;line-height:97%;font-family:
Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span style='font-size:10.0pt;line-height:97%'>Consumer Offset
Checker </span></b><span style='font-size:10.0pt;line-height:97%'>– This tool
displays Consumer Group, Topic, Partitions,<span style='letter-spacing:-1.95pt'>
</span>Off- set, logSize, Owner for the specified set of Topics and Consumer<span
style='letter-spacing:-.65pt'> </span>Group.</span></p>

<p class=MsoBodyText style='margin-top:.35pt'><span style='font-size:14.5pt'>&nbsp;</span></p>

<h1 style='margin-top:0in'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=73 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=648 height=2 src="Apache-Kafka-Labs-Web_files/image010.png"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_bookmark51"></a>Replication Tool</h1>

<p class=MsoBodyText style='margin-top:4.55pt;margin-right:55.8pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;line-height:106%'>Kafka<span
style='letter-spacing:-.55pt'> </span>replication<span style='letter-spacing:
-.6pt'> </span>is<span style='letter-spacing:-.45pt'> </span>a<span
style='letter-spacing:-.55pt'> </span>high<span style='letter-spacing:-.55pt'> </span>level<span
style='letter-spacing:-.4pt'> </span>design<span style='letter-spacing:-.5pt'> </span>tool.<span
style='letter-spacing:-.55pt'> </span>The<span style='letter-spacing:-.6pt'> </span>purpose<span
style='letter-spacing:-.65pt'> </span>of<span style='letter-spacing:-.55pt'> </span>adding<span
style='letter-spacing:-.5pt'> </span>replication<span style='letter-spacing:
-.5pt'> </span>tool<span style='letter-spacing:-.5pt'> </span>is<span
style='letter-spacing:-.55pt'> </span>for<span style='letter-spacing:-.6pt'> </span>stronger
durability and higher availability. Some of the replication tools are mentioned<span
style='letter-spacing:-.8pt'> </span>below:</p>

<p class=MsoListParagraph style='margin-top:8.2pt;margin-right:56.8pt;
margin-bottom:0in;margin-left:92.65pt;margin-bottom:.0001pt;text-align:justify;
line-height:106%'><span style='font-size:10.0pt;line-height:106%;font-family:
Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span style='font-size:10.0pt;line-height:106%'>Create<span
style='letter-spacing:-.2pt'> </span>Topic<span style='letter-spacing:-.25pt'> </span>Tool
</span></b><span style='font-size:10.0pt;line-height:106%'>–<span
style='letter-spacing:-.25pt'> </span>This<span style='letter-spacing:-.25pt'> </span>creates<span
style='letter-spacing:-.15pt'> </span>a<span style='letter-spacing:-.25pt'> </span>topic<span
style='letter-spacing:-.25pt'> </span>with<span style='letter-spacing:-.3pt'> </span>a<span
style='letter-spacing:-.2pt'> </span>default<span style='letter-spacing:-.25pt'>
</span>number<span style='letter-spacing:-.15pt'> </span>of<span
style='letter-spacing:-.15pt'> </span>partitions,<span style='letter-spacing:
-.35pt'> </span>replication factor and uses Kafka's default scheme to do
replica<span style='letter-spacing:-.3pt'> </span>assignment.</span></p>

<p class=MsoBodyText style='margin-top:.45pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-top:.05pt;margin-right:56.6pt;
margin-bottom:0in;margin-left:92.65pt;margin-bottom:.0001pt;text-align:justify;
line-height:107%'><span style='font-size:10.0pt;line-height:107%;font-family:
Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span style='font-size:10.0pt;line-height:107%'>List<span
style='letter-spacing:-.2pt'> </span>Topic<span style='letter-spacing:-.15pt'> </span>Tool<span
style='letter-spacing:-.05pt'> </span></span></b><span style='font-size:10.0pt;
line-height:107%'>–<span style='letter-spacing:-.05pt'> </span>This<span
style='letter-spacing:-.25pt'> </span>tool<span style='letter-spacing:-.15pt'> </span>lists<span
style='letter-spacing:-.25pt'> </span>the<span style='letter-spacing:-.3pt'> </span>information<span
style='letter-spacing:-.1pt'> </span>for<span style='letter-spacing:-.15pt'> </span>a<span
style='letter-spacing:-.15pt'> </span>given<span style='letter-spacing:-.2pt'> </span>list<span
style='letter-spacing:-.2pt'> </span>of<span style='letter-spacing:-.2pt'> </span>topics.
If<span style='letter-spacing:-.2pt'> </span>no<span style='letter-spacing:
-.15pt'> </span>topics<span style='letter-spacing:-.2pt'> </span>are provided
in the command line, the tool queries Zookeeper to get all the topics and lists
the information for them. The fields that the tool displays are topic name,
partition, leader, replicas,<span style='letter-spacing:-.1pt'> </span>isr.</span></p>

<p class=MsoBodyText style='margin-top:.15pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-right:56.6pt;text-align:justify;
line-height:106%'><span style='font-size:10.0pt;line-height:106%;font-family:
Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span style='font-size:10.0pt;line-height:106%'>Add Partition
Tool </span></b><span style='font-size:10.0pt;line-height:106%'>– Creation of a
topic, the number of partitions for topic has to be specified.<span
style='letter-spacing:-.4pt'> </span>Later<span style='letter-spacing:-.3pt'> </span>on,<span
style='letter-spacing:-.35pt'> </span>more<span style='letter-spacing:-.4pt'> </span>partitions<span
style='letter-spacing:-.4pt'> </span>may<span style='letter-spacing:-.4pt'> </span>be<span
style='letter-spacing:-.4pt'> </span>needed<span style='letter-spacing:-.3pt'> </span>for<span
style='letter-spacing:-.2pt'> </span>the<span style='letter-spacing:-.45pt'> </span>topic,<span
style='letter-spacing:-.35pt'> </span>when<span style='letter-spacing:-.2pt'> </span>the<span
style='letter-spacing:-.4pt'> </span>volume<span style='letter-spacing:-.35pt'>
</span>of<span style='letter-spacing:-.35pt'> </span>the topic will increase.
This tool helps to add more partitions for a specific topic and also allows
manual replica assignment of the added<span style='letter-spacing:-.2pt'> </span>partitions.</span></p>

</div>

<span style='font-size:10.0pt;line-height:106%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection58>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-top:.15pt'><span style='font-size:9.5pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:56.9pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
106%'>Kafka<span style='letter-spacing:-.9pt'> </span>supports<span
style='letter-spacing:-.8pt'> </span>many<span style='letter-spacing:-.8pt'> </span>of<span
style='letter-spacing:-.7pt'> </span>today's<span style='letter-spacing:-.9pt'>
</span><a name="_bookmark52"></a>best<span style='letter-spacing:-.7pt'> </span>industrial<span
style='letter-spacing:-.75pt'> </span>applications.<span style='letter-spacing:
-.95pt'> </span>We<span style='letter-spacing:-.85pt'> </span>will<span
style='letter-spacing:-.75pt'> </span>provide<span style='letter-spacing:-.9pt'>
</span>a<span style='letter-spacing:-.85pt'> </span>very<span style='letter-spacing:
-.9pt'> </span>brief<span style='letter-spacing:-.75pt'> </span>overview of
some of the most notable applications of Kafka in this<span style='letter-spacing:
-.8pt'> </span>chapter.</p>

<p class=MsoBodyText style='margin-top:.45pt'><span style='font-size:12.0pt'>&nbsp;</span></p>

<h2 style='margin-top:.05pt'>Twitter</h2>

<p class=MsoBodyText style='margin-top:6.25pt;margin-right:56.45pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
106%'>Twitter is an online social networking service that provides a platform
to send and receive user tweets.<span style='letter-spacing:-.7pt'> </span>Registered<span
style='letter-spacing:-.6pt'> </span>users<span style='letter-spacing:-.65pt'> </span>can<span
style='letter-spacing:-.5pt'> </span>read<span style='letter-spacing:-.6pt'> </span>and<span
style='letter-spacing:-.55pt'> </span>post<span style='letter-spacing:-.65pt'> </span>tweets,<span
style='letter-spacing:-.6pt'> </span>but<span style='letter-spacing:-.6pt'> </span>unregistered<span
style='letter-spacing:-.5pt'> </span>users<span style='letter-spacing:-.65pt'> </span>can<span
style='letter-spacing:-.6pt'> </span>only<span style='letter-spacing:-.2pt'> </span>read<span
style='letter-spacing:-.55pt'> </span>tweets. Twitter uses Storm-Kafka as a
part of their stream processing<span style='letter-spacing:-.85pt'> </span>infrastructure.</p>

<p class=MsoBodyText style='margin-top:.55pt'><span style='font-size:12.0pt'>&nbsp;</span></p>

<h2>LinkedIn</h2>

<p class=MsoBodyText style='margin-top:6.15pt;margin-right:56.5pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>Apache Kafka is used at LinkedIn for activity stream data and operational
metrics. Kafka mes- saging system helps LinkedIn with various products like
LinkedIn Newsfeed, LinkedIn Today<span style='letter-spacing:-2.45pt'> </span>for
online message consumption and in addition to offline analytics systems like
Hadoop. Kafka’s strong durability is also one of the key factors in connection
with<span style='letter-spacing:-.75pt'> </span>LinkedIn.</p>

<p class=MsoBodyText style='margin-top:.25pt'><span style='font-size:12.0pt'>&nbsp;</span></p>

<h2 style='margin-top:.05pt'>Netflix</h2>

<p class=MsoBodyText style='margin-top:6.25pt;margin-right:56.55pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
106%'>Netflix is an American multinational provider of on-demand Internet
streaming media. Netflix uses Kafka for real-time monitoring and event
processing.</p>

<p class=MsoBodyText style='margin-top:.5pt'><span style='font-size:12.0pt'>&nbsp;</span></p>

<h2>Mozilla</h2>

<p class=MsoBodyText style='margin-top:6.15pt;margin-right:56.6pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>Mozilla<span style='letter-spacing:-.25pt'> </span>is<span
style='letter-spacing:-.3pt'> </span>a<span style='letter-spacing:-.25pt'> </span>free-software<span
style='letter-spacing:-.35pt'> </span>community,<span style='letter-spacing:
-.3pt'> </span>created<span style='letter-spacing:-.2pt'> </span>in<span
style='letter-spacing:-.35pt'> </span>1998<span style='letter-spacing:-.25pt'> </span>by<span
style='letter-spacing:-.3pt'> </span>members<span style='letter-spacing:-.2pt'>
</span>of<span style='letter-spacing:-.15pt'> </span>Netscape.<span
style='letter-spacing:.1pt'> </span>Kafka<span style='letter-spacing:-.15pt'> </span>will<span
style='letter-spacing:-.15pt'> </span>soon be replacing a part of Mozilla
current production system to collect performance and usage data from the
end-user’s browser for projects like Telemetry, Test Pilot,<span
style='letter-spacing:-.8pt'> </span>etc.</p>

<p class=MsoBodyText style='margin-top:.3pt'><span style='font-size:12.0pt'>&nbsp;</span></p>

<h2>Oracle</h2>

<p class=MsoBodyText style='margin-top:6.15pt;margin-right:56.5pt;margin-bottom:
0in;margin-left:56.6pt;margin-bottom:.0001pt;text-align:justify;line-height:
107%'>Oracle provides native connectivity to Kafka from its Enterprise Service
Bus product called OSB (Oracle Service Bus) which allows developers to leverage
OSB built-in mediation capabilities to implement staged data pipelines.</p>

</div>

</body>

</html>
